(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function O_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nm={exports:{}},el={},rm={exports:{}},O={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wo=Symbol.for("react.element"),R_=Symbol.for("react.portal"),N_=Symbol.for("react.fragment"),D_=Symbol.for("react.strict_mode"),A_=Symbol.for("react.profiler"),z_=Symbol.for("react.provider"),j_=Symbol.for("react.context"),I_=Symbol.for("react.forward_ref"),B_=Symbol.for("react.suspense"),F_=Symbol.for("react.memo"),U_=Symbol.for("react.lazy"),zp=Symbol.iterator;function K_(t){return t===null||typeof t!="object"?null:(t=zp&&t[zp]||t["@@iterator"],typeof t=="function"?t:null)}var im={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},om=Object.assign,sm={};function Jr(t,e,n){this.props=t,this.context=e,this.refs=sm,this.updater=n||im}Jr.prototype.isReactComponent={};Jr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Jr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lm(){}lm.prototype=Jr.prototype;function Ru(t,e,n){this.props=t,this.context=e,this.refs=sm,this.updater=n||im}var Nu=Ru.prototype=new lm;Nu.constructor=Ru;om(Nu,Jr.prototype);Nu.isPureReactComponent=!0;var jp=Array.isArray,am=Object.prototype.hasOwnProperty,Du={current:null},um={key:!0,ref:!0,__self:!0,__source:!0};function cm(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)am.call(e,r)&&!um.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:wo,type:t,key:o,ref:s,props:i,_owner:Du.current}}function H_(t,e){return{$$typeof:wo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Au(t){return typeof t=="object"&&t!==null&&t.$$typeof===wo}function q_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ip=/\/+/g;function Rl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?q_(""+t.key):e.toString(36)}function rs(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case wo:case R_:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Rl(s,0):r,jp(i)?(n="",t!=null&&(n=t.replace(Ip,"$&/")+"/"),rs(i,e,n,"",function(u){return u})):i!=null&&(Au(i)&&(i=H_(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Ip,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",jp(t))for(var l=0;l<t.length;l++){o=t[l];var a=r+Rl(o,l);s+=rs(o,e,n,a,i)}else if(a=K_(t),typeof a=="function")for(t=a.call(t),l=0;!(o=t.next()).done;)o=o.value,a=r+Rl(o,l++),s+=rs(o,e,n,a,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function zo(t,e,n){if(t==null)return t;var r=[],i=0;return rs(t,r,"","",function(o){return e.call(n,o,i++)}),r}function G_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Me={current:null},is={transition:null},W_={ReactCurrentDispatcher:Me,ReactCurrentBatchConfig:is,ReactCurrentOwner:Du};O.Children={map:zo,forEach:function(t,e,n){zo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return zo(t,function(){e++}),e},toArray:function(t){return zo(t,function(e){return e})||[]},only:function(t){if(!Au(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};O.Component=Jr;O.Fragment=N_;O.Profiler=A_;O.PureComponent=Ru;O.StrictMode=D_;O.Suspense=B_;O.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W_;O.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=om({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Du.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)am.call(e,a)&&!um.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:wo,type:t.type,key:i,ref:o,props:r,_owner:s}};O.createContext=function(t){return t={$$typeof:j_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:z_,_context:t},t.Consumer=t};O.createElement=cm;O.createFactory=function(t){var e=cm.bind(null,t);return e.type=t,e};O.createRef=function(){return{current:null}};O.forwardRef=function(t){return{$$typeof:I_,render:t}};O.isValidElement=Au;O.lazy=function(t){return{$$typeof:U_,_payload:{_status:-1,_result:t},_init:G_}};O.memo=function(t,e){return{$$typeof:F_,type:t,compare:e===void 0?null:e}};O.startTransition=function(t){var e=is.transition;is.transition={};try{t()}finally{is.transition=e}};O.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};O.useCallback=function(t,e){return Me.current.useCallback(t,e)};O.useContext=function(t){return Me.current.useContext(t)};O.useDebugValue=function(){};O.useDeferredValue=function(t){return Me.current.useDeferredValue(t)};O.useEffect=function(t,e){return Me.current.useEffect(t,e)};O.useId=function(){return Me.current.useId()};O.useImperativeHandle=function(t,e,n){return Me.current.useImperativeHandle(t,e,n)};O.useInsertionEffect=function(t,e){return Me.current.useInsertionEffect(t,e)};O.useLayoutEffect=function(t,e){return Me.current.useLayoutEffect(t,e)};O.useMemo=function(t,e){return Me.current.useMemo(t,e)};O.useReducer=function(t,e,n){return Me.current.useReducer(t,e,n)};O.useRef=function(t){return Me.current.useRef(t)};O.useState=function(t){return Me.current.useState(t)};O.useSyncExternalStore=function(t,e,n){return Me.current.useSyncExternalStore(t,e,n)};O.useTransition=function(){return Me.current.useTransition()};O.version="18.2.0";rm.exports=O;var Ue=rm.exports;const Q_=O_(Ue);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_=Ue,X_=Symbol.for("react.element"),Z_=Symbol.for("react.fragment"),J_=Object.prototype.hasOwnProperty,eg=Y_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tg={key:!0,ref:!0,__self:!0,__source:!0};function pm(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)J_.call(e,r)&&!tg.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:X_,type:t,key:o,ref:s,props:i,_owner:eg.current}}el.Fragment=Z_;el.jsx=pm;el.jsxs=pm;nm.exports=el;var an=nm.exports,ka={},dm={exports:{}},We={},hm={exports:{}},mm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(x,L){var T=x.length;x.push(L);e:for(;0<T;){var ie=T-1>>>1,de=x[ie];if(0<i(de,L))x[ie]=L,x[T]=de,T=ie;else break e}}function n(x){return x.length===0?null:x[0]}function r(x){if(x.length===0)return null;var L=x[0],T=x.pop();if(T!==L){x[0]=T;e:for(var ie=0,de=x.length,Do=de>>>1;ie<Do;){var Nn=2*(ie+1)-1,Ol=x[Nn],Dn=Nn+1,Ao=x[Dn];if(0>i(Ol,T))Dn<de&&0>i(Ao,Ol)?(x[ie]=Ao,x[Dn]=T,ie=Dn):(x[ie]=Ol,x[Nn]=T,ie=Nn);else if(Dn<de&&0>i(Ao,T))x[ie]=Ao,x[Dn]=T,ie=Dn;else break e}}return L}function i(x,L){var T=x.sortIndex-L.sortIndex;return T!==0?T:x.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var a=[],u=[],p=1,d=null,f=3,_=!1,g=!1,b=!1,H=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,c=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(x){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=x)r(u),L.sortIndex=L.expirationTime,e(a,L);else break;L=n(u)}}function v(x){if(b=!1,m(x),!g)if(n(a)!==null)g=!0,Tl(C);else{var L=n(u);L!==null&&Ml(v,L.startTime-x)}}function C(x,L){g=!1,b&&(b=!1,h(k),k=-1),_=!0;var T=f;try{for(m(L),d=n(a);d!==null&&(!(d.expirationTime>L)||x&&!pt());){var ie=d.callback;if(typeof ie=="function"){d.callback=null,f=d.priorityLevel;var de=ie(d.expirationTime<=L);L=t.unstable_now(),typeof de=="function"?d.callback=de:d===n(a)&&r(a),m(L)}else r(a);d=n(a)}if(d!==null)var Do=!0;else{var Nn=n(u);Nn!==null&&Ml(v,Nn.startTime-L),Do=!1}return Do}finally{d=null,f=T,_=!1}}var P=!1,E=null,k=-1,re=5,R=-1;function pt(){return!(t.unstable_now()-R<re)}function ui(){if(E!==null){var x=t.unstable_now();R=x;var L=!0;try{L=E(!0,x)}finally{L?ci():(P=!1,E=null)}}else P=!1}var ci;if(typeof c=="function")ci=function(){c(ui)};else if(typeof MessageChannel<"u"){var Ap=new MessageChannel,M_=Ap.port2;Ap.port1.onmessage=ui,ci=function(){M_.postMessage(null)}}else ci=function(){H(ui,0)};function Tl(x){E=x,P||(P=!0,ci())}function Ml(x,L){k=H(function(){x(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(x){x.callback=null},t.unstable_continueExecution=function(){g||_||(g=!0,Tl(C))},t.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<x?Math.floor(1e3/x):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(x){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var T=f;f=L;try{return x()}finally{f=T}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(x,L){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var T=f;f=x;try{return L()}finally{f=T}},t.unstable_scheduleCallback=function(x,L,T){var ie=t.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?ie+T:ie):T=ie,x){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=T+de,x={id:p++,callback:L,priorityLevel:x,startTime:T,expirationTime:de,sortIndex:-1},T>ie?(x.sortIndex=T,e(u,x),n(a)===null&&x===n(u)&&(b?(h(k),k=-1):b=!0,Ml(v,T-ie))):(x.sortIndex=de,e(a,x),g||_||(g=!0,Tl(C))),x},t.unstable_shouldYield=pt,t.unstable_wrapCallback=function(x){var L=f;return function(){var T=f;f=L;try{return x.apply(this,arguments)}finally{f=T}}}})(mm);hm.exports=mm;var ng=hm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm=Ue,Ge=ng;function w(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vm=new Set,Fi={};function sr(t,e){Ur(t,e),Ur(t+"Capture",e)}function Ur(t,e){for(Fi[t]=e,t=0;t<e.length;t++)vm.add(e[t])}var Ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sa=Object.prototype.hasOwnProperty,rg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bp={},Fp={};function ig(t){return Sa.call(Fp,t)?!0:Sa.call(Bp,t)?!1:rg.test(t)?Fp[t]=!0:(Bp[t]=!0,!1)}function og(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sg(t,e,n,r){if(e===null||typeof e>"u"||og(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Oe(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ge[t]=new Oe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ge[e]=new Oe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ge[t]=new Oe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ge[t]=new Oe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ge[t]=new Oe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ge[t]=new Oe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ge[t]=new Oe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ge[t]=new Oe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ge[t]=new Oe(t,5,!1,t.toLowerCase(),null,!1,!1)});var zu=/[\-:]([a-z])/g;function ju(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(zu,ju);ge[e]=new Oe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(zu,ju);ge[e]=new Oe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(zu,ju);ge[e]=new Oe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ge[t]=new Oe(t,1,!1,t.toLowerCase(),null,!1,!1)});ge.xlinkHref=new Oe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ge[t]=new Oe(t,1,!1,t.toLowerCase(),null,!0,!0)});function Iu(t,e,n,r){var i=ge.hasOwnProperty(e)?ge[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sg(e,n,i,r)&&(n=null),r||i===null?ig(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Qt=fm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jo=Symbol.for("react.element"),yr=Symbol.for("react.portal"),Cr=Symbol.for("react.fragment"),Bu=Symbol.for("react.strict_mode"),Va=Symbol.for("react.profiler"),wm=Symbol.for("react.provider"),_m=Symbol.for("react.context"),Fu=Symbol.for("react.forward_ref"),La=Symbol.for("react.suspense"),$a=Symbol.for("react.suspense_list"),Uu=Symbol.for("react.memo"),sn=Symbol.for("react.lazy"),gm=Symbol.for("react.offscreen"),Up=Symbol.iterator;function pi(t){return t===null||typeof t!="object"?null:(t=Up&&t[Up]||t["@@iterator"],typeof t=="function"?t:null)}var Z=Object.assign,Nl;function Li(t){if(Nl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Nl=e&&e[1]||""}return`
`+Nl+t}var Dl=!1;function Al(t,e){if(!t||Dl)return"";Dl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var a=`
`+i[s].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=s&&0<=l);break}}}finally{Dl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Li(t):""}function lg(t){switch(t.tag){case 5:return Li(t.type);case 16:return Li("Lazy");case 13:return Li("Suspense");case 19:return Li("SuspenseList");case 0:case 2:case 15:return t=Al(t.type,!1),t;case 11:return t=Al(t.type.render,!1),t;case 1:return t=Al(t.type,!0),t;default:return""}}function Ta(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Cr:return"Fragment";case yr:return"Portal";case Va:return"Profiler";case Bu:return"StrictMode";case La:return"Suspense";case $a:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _m:return(t.displayName||"Context")+".Consumer";case wm:return(t._context.displayName||"Context")+".Provider";case Fu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Uu:return e=t.displayName||null,e!==null?e:Ta(t.type)||"Memo";case sn:e=t._payload,t=t._init;try{return Ta(t(e))}catch{}}return null}function ag(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ta(e);case 8:return e===Bu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function kn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ug(t){var e=bm(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Io(t){t._valueTracker||(t._valueTracker=ug(t))}function ym(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=bm(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function bs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ma(t,e){var n=e.checked;return Z({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Kp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=kn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Cm(t,e){e=e.checked,e!=null&&Iu(t,"checked",e,!1)}function Oa(t,e){Cm(t,e);var n=kn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ra(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ra(t,e.type,kn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Hp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ra(t,e,n){(e!=="number"||bs(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var $i=Array.isArray;function Or(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+kn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Na(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(w(91));return Z({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function qp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(w(92));if($i(n)){if(1<n.length)throw Error(w(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:kn(n)}}function xm(t,e){var n=kn(e.value),r=kn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Gp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Pm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Da(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Pm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Bo,Em=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Bo=Bo||document.createElement("div"),Bo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ui(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Oi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cg=["Webkit","ms","Moz","O"];Object.keys(Oi).forEach(function(t){cg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Oi[e]=Oi[t]})});function km(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Oi.hasOwnProperty(t)&&Oi[t]?(""+e).trim():e+"px"}function Sm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=km(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var pg=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Aa(t,e){if(e){if(pg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(w(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(w(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(w(61))}if(e.style!=null&&typeof e.style!="object")throw Error(w(62))}}function za(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ja=null;function Ku(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ia=null,Rr=null,Nr=null;function Wp(t){if(t=bo(t)){if(typeof Ia!="function")throw Error(w(280));var e=t.stateNode;e&&(e=ol(e),Ia(t.stateNode,t.type,e))}}function Vm(t){Rr?Nr?Nr.push(t):Nr=[t]:Rr=t}function Lm(){if(Rr){var t=Rr,e=Nr;if(Nr=Rr=null,Wp(t),e)for(t=0;t<e.length;t++)Wp(e[t])}}function $m(t,e){return t(e)}function Tm(){}var zl=!1;function Mm(t,e,n){if(zl)return t(e,n);zl=!0;try{return $m(t,e,n)}finally{zl=!1,(Rr!==null||Nr!==null)&&(Tm(),Lm())}}function Ki(t,e){var n=t.stateNode;if(n===null)return null;var r=ol(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(w(231,e,typeof n));return n}var Ba=!1;if(Ft)try{var di={};Object.defineProperty(di,"passive",{get:function(){Ba=!0}}),window.addEventListener("test",di,di),window.removeEventListener("test",di,di)}catch{Ba=!1}function dg(t,e,n,r,i,o,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(p){this.onError(p)}}var Ri=!1,ys=null,Cs=!1,Fa=null,hg={onError:function(t){Ri=!0,ys=t}};function mg(t,e,n,r,i,o,s,l,a){Ri=!1,ys=null,dg.apply(hg,arguments)}function fg(t,e,n,r,i,o,s,l,a){if(mg.apply(this,arguments),Ri){if(Ri){var u=ys;Ri=!1,ys=null}else throw Error(w(198));Cs||(Cs=!0,Fa=u)}}function lr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Om(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Qp(t){if(lr(t)!==t)throw Error(w(188))}function vg(t){var e=t.alternate;if(!e){if(e=lr(t),e===null)throw Error(w(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Qp(i),t;if(o===r)return Qp(i),e;o=o.sibling}throw Error(w(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(w(189))}}if(n.alternate!==r)throw Error(w(190))}if(n.tag!==3)throw Error(w(188));return n.stateNode.current===n?t:e}function Rm(t){return t=vg(t),t!==null?Nm(t):null}function Nm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Nm(t);if(e!==null)return e;t=t.sibling}return null}var Dm=Ge.unstable_scheduleCallback,Yp=Ge.unstable_cancelCallback,wg=Ge.unstable_shouldYield,_g=Ge.unstable_requestPaint,oe=Ge.unstable_now,gg=Ge.unstable_getCurrentPriorityLevel,Hu=Ge.unstable_ImmediatePriority,Am=Ge.unstable_UserBlockingPriority,xs=Ge.unstable_NormalPriority,bg=Ge.unstable_LowPriority,zm=Ge.unstable_IdlePriority,tl=null,St=null;function yg(t){if(St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(tl,t,void 0,(t.current.flags&128)===128)}catch{}}var vt=Math.clz32?Math.clz32:Pg,Cg=Math.log,xg=Math.LN2;function Pg(t){return t>>>=0,t===0?32:31-(Cg(t)/xg|0)|0}var Fo=64,Uo=4194304;function Ti(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ps(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=Ti(l):(o&=s,o!==0&&(r=Ti(o)))}else s=n&~i,s!==0?r=Ti(s):o!==0&&(r=Ti(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-vt(e),i=1<<n,r|=t[n],e&=~i;return r}function Eg(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kg(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-vt(o),l=1<<s,a=i[s];a===-1?(!(l&n)||l&r)&&(i[s]=Eg(l,e)):a<=e&&(t.expiredLanes|=l),o&=~l}}function Ua(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function jm(){var t=Fo;return Fo<<=1,!(Fo&4194240)&&(Fo=64),t}function jl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function _o(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vt(e),t[e]=n}function Sg(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-vt(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function qu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-vt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var I=0;function Im(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Bm,Gu,Fm,Um,Km,Ka=!1,Ko=[],fn=null,vn=null,wn=null,Hi=new Map,qi=new Map,un=[],Vg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xp(t,e){switch(t){case"focusin":case"focusout":fn=null;break;case"dragenter":case"dragleave":vn=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":Hi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":qi.delete(e.pointerId)}}function hi(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=bo(e),e!==null&&Gu(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Lg(t,e,n,r,i){switch(e){case"focusin":return fn=hi(fn,t,e,n,r,i),!0;case"dragenter":return vn=hi(vn,t,e,n,r,i),!0;case"mouseover":return wn=hi(wn,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Hi.set(o,hi(Hi.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,qi.set(o,hi(qi.get(o)||null,t,e,n,r,i)),!0}return!1}function Hm(t){var e=Un(t.target);if(e!==null){var n=lr(e);if(n!==null){if(e=n.tag,e===13){if(e=Om(n),e!==null){t.blockedOn=e,Km(t.priority,function(){Fm(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function os(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ha(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ja=r,n.target.dispatchEvent(r),ja=null}else return e=bo(n),e!==null&&Gu(e),t.blockedOn=n,!1;e.shift()}return!0}function Zp(t,e,n){os(t)&&n.delete(e)}function $g(){Ka=!1,fn!==null&&os(fn)&&(fn=null),vn!==null&&os(vn)&&(vn=null),wn!==null&&os(wn)&&(wn=null),Hi.forEach(Zp),qi.forEach(Zp)}function mi(t,e){t.blockedOn===e&&(t.blockedOn=null,Ka||(Ka=!0,Ge.unstable_scheduleCallback(Ge.unstable_NormalPriority,$g)))}function Gi(t){function e(i){return mi(i,t)}if(0<Ko.length){mi(Ko[0],t);for(var n=1;n<Ko.length;n++){var r=Ko[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fn!==null&&mi(fn,t),vn!==null&&mi(vn,t),wn!==null&&mi(wn,t),Hi.forEach(e),qi.forEach(e),n=0;n<un.length;n++)r=un[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<un.length&&(n=un[0],n.blockedOn===null);)Hm(n),n.blockedOn===null&&un.shift()}var Dr=Qt.ReactCurrentBatchConfig,Es=!0;function Tg(t,e,n,r){var i=I,o=Dr.transition;Dr.transition=null;try{I=1,Wu(t,e,n,r)}finally{I=i,Dr.transition=o}}function Mg(t,e,n,r){var i=I,o=Dr.transition;Dr.transition=null;try{I=4,Wu(t,e,n,r)}finally{I=i,Dr.transition=o}}function Wu(t,e,n,r){if(Es){var i=Ha(t,e,n,r);if(i===null)Ql(t,e,r,ks,n),Xp(t,r);else if(Lg(i,t,e,n,r))r.stopPropagation();else if(Xp(t,r),e&4&&-1<Vg.indexOf(t)){for(;i!==null;){var o=bo(i);if(o!==null&&Bm(o),o=Ha(t,e,n,r),o===null&&Ql(t,e,r,ks,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Ql(t,e,r,null,n)}}var ks=null;function Ha(t,e,n,r){if(ks=null,t=Ku(r),t=Un(t),t!==null)if(e=lr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Om(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ks=t,null}function qm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gg()){case Hu:return 1;case Am:return 4;case xs:case bg:return 16;case zm:return 536870912;default:return 16}default:return 16}}var pn=null,Qu=null,ss=null;function Gm(){if(ss)return ss;var t,e=Qu,n=e.length,r,i="value"in pn?pn.value:pn.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return ss=i.slice(t,1<r?1-r:void 0)}function ls(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ho(){return!0}function Jp(){return!1}function Qe(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ho:Jp,this.isPropagationStopped=Jp,this}return Z(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ho)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ho)},persist:function(){},isPersistent:Ho}),e}var ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yu=Qe(ei),go=Z({},ei,{view:0,detail:0}),Og=Qe(go),Il,Bl,fi,nl=Z({},go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fi&&(fi&&t.type==="mousemove"?(Il=t.screenX-fi.screenX,Bl=t.screenY-fi.screenY):Bl=Il=0,fi=t),Il)},movementY:function(t){return"movementY"in t?t.movementY:Bl}}),ed=Qe(nl),Rg=Z({},nl,{dataTransfer:0}),Ng=Qe(Rg),Dg=Z({},go,{relatedTarget:0}),Fl=Qe(Dg),Ag=Z({},ei,{animationName:0,elapsedTime:0,pseudoElement:0}),zg=Qe(Ag),jg=Z({},ei,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ig=Qe(jg),Bg=Z({},ei,{data:0}),td=Qe(Bg),Fg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ug={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hg(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Kg[t])?!!e[t]:!1}function Xu(){return Hg}var qg=Z({},go,{key:function(t){if(t.key){var e=Fg[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ls(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ug[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xu,charCode:function(t){return t.type==="keypress"?ls(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ls(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Gg=Qe(qg),Wg=Z({},nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nd=Qe(Wg),Qg=Z({},go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xu}),Yg=Qe(Qg),Xg=Z({},ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zg=Qe(Xg),Jg=Z({},nl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),eb=Qe(Jg),tb=[9,13,27,32],Zu=Ft&&"CompositionEvent"in window,Ni=null;Ft&&"documentMode"in document&&(Ni=document.documentMode);var nb=Ft&&"TextEvent"in window&&!Ni,Wm=Ft&&(!Zu||Ni&&8<Ni&&11>=Ni),rd=" ",id=!1;function Qm(t,e){switch(t){case"keyup":return tb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ym(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xr=!1;function rb(t,e){switch(t){case"compositionend":return Ym(e);case"keypress":return e.which!==32?null:(id=!0,rd);case"textInput":return t=e.data,t===rd&&id?null:t;default:return null}}function ib(t,e){if(xr)return t==="compositionend"||!Zu&&Qm(t,e)?(t=Gm(),ss=Qu=pn=null,xr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Wm&&e.locale!=="ko"?null:e.data;default:return null}}var ob={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function od(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ob[t.type]:e==="textarea"}function Xm(t,e,n,r){Vm(r),e=Ss(e,"onChange"),0<e.length&&(n=new Yu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Di=null,Wi=null;function sb(t){uf(t,0)}function rl(t){var e=kr(t);if(ym(e))return t}function lb(t,e){if(t==="change")return e}var Zm=!1;if(Ft){var Ul;if(Ft){var Kl="oninput"in document;if(!Kl){var sd=document.createElement("div");sd.setAttribute("oninput","return;"),Kl=typeof sd.oninput=="function"}Ul=Kl}else Ul=!1;Zm=Ul&&(!document.documentMode||9<document.documentMode)}function ld(){Di&&(Di.detachEvent("onpropertychange",Jm),Wi=Di=null)}function Jm(t){if(t.propertyName==="value"&&rl(Wi)){var e=[];Xm(e,Wi,t,Ku(t)),Mm(sb,e)}}function ab(t,e,n){t==="focusin"?(ld(),Di=e,Wi=n,Di.attachEvent("onpropertychange",Jm)):t==="focusout"&&ld()}function ub(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rl(Wi)}function cb(t,e){if(t==="click")return rl(e)}function pb(t,e){if(t==="input"||t==="change")return rl(e)}function db(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _t=typeof Object.is=="function"?Object.is:db;function Qi(t,e){if(_t(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Sa.call(e,i)||!_t(t[i],e[i]))return!1}return!0}function ad(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ud(t,e){var n=ad(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ad(n)}}function ef(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ef(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tf(){for(var t=window,e=bs();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=bs(t.document)}return e}function Ju(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function hb(t){var e=tf(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ef(n.ownerDocument.documentElement,n)){if(r!==null&&Ju(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=ud(n,o);var s=ud(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mb=Ft&&"documentMode"in document&&11>=document.documentMode,Pr=null,qa=null,Ai=null,Ga=!1;function cd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ga||Pr==null||Pr!==bs(r)||(r=Pr,"selectionStart"in r&&Ju(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ai&&Qi(Ai,r)||(Ai=r,r=Ss(qa,"onSelect"),0<r.length&&(e=new Yu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Pr)))}function qo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Er={animationend:qo("Animation","AnimationEnd"),animationiteration:qo("Animation","AnimationIteration"),animationstart:qo("Animation","AnimationStart"),transitionend:qo("Transition","TransitionEnd")},Hl={},nf={};Ft&&(nf=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);function il(t){if(Hl[t])return Hl[t];if(!Er[t])return t;var e=Er[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in nf)return Hl[t]=e[n];return t}var rf=il("animationend"),of=il("animationiteration"),sf=il("animationstart"),lf=il("transitionend"),af=new Map,pd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $n(t,e){af.set(t,e),sr(e,[t])}for(var ql=0;ql<pd.length;ql++){var Gl=pd[ql],fb=Gl.toLowerCase(),vb=Gl[0].toUpperCase()+Gl.slice(1);$n(fb,"on"+vb)}$n(rf,"onAnimationEnd");$n(of,"onAnimationIteration");$n(sf,"onAnimationStart");$n("dblclick","onDoubleClick");$n("focusin","onFocus");$n("focusout","onBlur");$n(lf,"onTransitionEnd");Ur("onMouseEnter",["mouseout","mouseover"]);Ur("onMouseLeave",["mouseout","mouseover"]);Ur("onPointerEnter",["pointerout","pointerover"]);Ur("onPointerLeave",["pointerout","pointerover"]);sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sr("onBeforeInput",["compositionend","keypress","textInput","paste"]);sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mi));function dd(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,fg(r,e,void 0,t),t.currentTarget=null}function uf(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==o&&i.isPropagationStopped())break e;dd(i,l,u),o=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==o&&i.isPropagationStopped())break e;dd(i,l,u),o=a}}}if(Cs)throw t=Fa,Cs=!1,Fa=null,t}function U(t,e){var n=e[Za];n===void 0&&(n=e[Za]=new Set);var r=t+"__bubble";n.has(r)||(cf(e,t,2,!1),n.add(r))}function Wl(t,e,n){var r=0;e&&(r|=4),cf(n,t,r,e)}var Go="_reactListening"+Math.random().toString(36).slice(2);function Yi(t){if(!t[Go]){t[Go]=!0,vm.forEach(function(n){n!=="selectionchange"&&(wb.has(n)||Wl(n,!1,t),Wl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Go]||(e[Go]=!0,Wl("selectionchange",!1,e))}}function cf(t,e,n,r){switch(qm(e)){case 1:var i=Tg;break;case 4:i=Mg;break;default:i=Wu}n=i.bind(null,e,n,t),i=void 0,!Ba||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ql(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;l!==null;){if(s=Un(l),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}l=l.parentNode}}r=r.return}Mm(function(){var u=o,p=Ku(n),d=[];e:{var f=af.get(t);if(f!==void 0){var _=Yu,g=t;switch(t){case"keypress":if(ls(n)===0)break e;case"keydown":case"keyup":_=Gg;break;case"focusin":g="focus",_=Fl;break;case"focusout":g="blur",_=Fl;break;case"beforeblur":case"afterblur":_=Fl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=ed;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=Ng;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=Yg;break;case rf:case of:case sf:_=zg;break;case lf:_=Zg;break;case"scroll":_=Og;break;case"wheel":_=eb;break;case"copy":case"cut":case"paste":_=Ig;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=nd}var b=(e&4)!==0,H=!b&&t==="scroll",h=b?f!==null?f+"Capture":null:f;b=[];for(var c=u,m;c!==null;){m=c;var v=m.stateNode;if(m.tag===5&&v!==null&&(m=v,h!==null&&(v=Ki(c,h),v!=null&&b.push(Xi(c,v,m)))),H)break;c=c.return}0<b.length&&(f=new _(f,g,null,n,p),d.push({event:f,listeners:b}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",f&&n!==ja&&(g=n.relatedTarget||n.fromElement)&&(Un(g)||g[Ut]))break e;if((_||f)&&(f=p.window===p?p:(f=p.ownerDocument)?f.defaultView||f.parentWindow:window,_?(g=n.relatedTarget||n.toElement,_=u,g=g?Un(g):null,g!==null&&(H=lr(g),g!==H||g.tag!==5&&g.tag!==6)&&(g=null)):(_=null,g=u),_!==g)){if(b=ed,v="onMouseLeave",h="onMouseEnter",c="mouse",(t==="pointerout"||t==="pointerover")&&(b=nd,v="onPointerLeave",h="onPointerEnter",c="pointer"),H=_==null?f:kr(_),m=g==null?f:kr(g),f=new b(v,c+"leave",_,n,p),f.target=H,f.relatedTarget=m,v=null,Un(p)===u&&(b=new b(h,c+"enter",g,n,p),b.target=m,b.relatedTarget=H,v=b),H=v,_&&g)t:{for(b=_,h=g,c=0,m=b;m;m=mr(m))c++;for(m=0,v=h;v;v=mr(v))m++;for(;0<c-m;)b=mr(b),c--;for(;0<m-c;)h=mr(h),m--;for(;c--;){if(b===h||h!==null&&b===h.alternate)break t;b=mr(b),h=mr(h)}b=null}else b=null;_!==null&&hd(d,f,_,b,!1),g!==null&&H!==null&&hd(d,H,g,b,!0)}}e:{if(f=u?kr(u):window,_=f.nodeName&&f.nodeName.toLowerCase(),_==="select"||_==="input"&&f.type==="file")var C=lb;else if(od(f))if(Zm)C=pb;else{C=ub;var P=ab}else(_=f.nodeName)&&_.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=cb);if(C&&(C=C(t,u))){Xm(d,C,n,p);break e}P&&P(t,f,u),t==="focusout"&&(P=f._wrapperState)&&P.controlled&&f.type==="number"&&Ra(f,"number",f.value)}switch(P=u?kr(u):window,t){case"focusin":(od(P)||P.contentEditable==="true")&&(Pr=P,qa=u,Ai=null);break;case"focusout":Ai=qa=Pr=null;break;case"mousedown":Ga=!0;break;case"contextmenu":case"mouseup":case"dragend":Ga=!1,cd(d,n,p);break;case"selectionchange":if(mb)break;case"keydown":case"keyup":cd(d,n,p)}var E;if(Zu)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else xr?Qm(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Wm&&n.locale!=="ko"&&(xr||k!=="onCompositionStart"?k==="onCompositionEnd"&&xr&&(E=Gm()):(pn=p,Qu="value"in pn?pn.value:pn.textContent,xr=!0)),P=Ss(u,k),0<P.length&&(k=new td(k,t,null,n,p),d.push({event:k,listeners:P}),E?k.data=E:(E=Ym(n),E!==null&&(k.data=E)))),(E=nb?rb(t,n):ib(t,n))&&(u=Ss(u,"onBeforeInput"),0<u.length&&(p=new td("onBeforeInput","beforeinput",null,n,p),d.push({event:p,listeners:u}),p.data=E))}uf(d,e)})}function Xi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ss(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ki(t,n),o!=null&&r.unshift(Xi(t,o,i)),o=Ki(t,e),o!=null&&r.push(Xi(t,o,i))),t=t.return}return r}function mr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function hd(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Ki(n,o),a!=null&&s.unshift(Xi(n,a,l))):i||(a=Ki(n,o),a!=null&&s.push(Xi(n,a,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var _b=/\r\n?/g,gb=/\u0000|\uFFFD/g;function md(t){return(typeof t=="string"?t:""+t).replace(_b,`
`).replace(gb,"")}function Wo(t,e,n){if(e=md(e),md(t)!==e&&n)throw Error(w(425))}function Vs(){}var Wa=null,Qa=null;function Ya(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xa=typeof setTimeout=="function"?setTimeout:void 0,bb=typeof clearTimeout=="function"?clearTimeout:void 0,fd=typeof Promise=="function"?Promise:void 0,yb=typeof queueMicrotask=="function"?queueMicrotask:typeof fd<"u"?function(t){return fd.resolve(null).then(t).catch(Cb)}:Xa;function Cb(t){setTimeout(function(){throw t})}function Yl(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Gi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Gi(e)}function _n(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function vd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ti=Math.random().toString(36).slice(2),Et="__reactFiber$"+ti,Zi="__reactProps$"+ti,Ut="__reactContainer$"+ti,Za="__reactEvents$"+ti,xb="__reactListeners$"+ti,Pb="__reactHandles$"+ti;function Un(t){var e=t[Et];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ut]||n[Et]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=vd(t);t!==null;){if(n=t[Et])return n;t=vd(t)}return e}t=n,n=t.parentNode}return null}function bo(t){return t=t[Et]||t[Ut],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function kr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(w(33))}function ol(t){return t[Zi]||null}var Ja=[],Sr=-1;function Tn(t){return{current:t}}function K(t){0>Sr||(t.current=Ja[Sr],Ja[Sr]=null,Sr--)}function B(t,e){Sr++,Ja[Sr]=t.current,t.current=e}var Sn={},Ee=Tn(Sn),ze=Tn(!1),Qn=Sn;function Kr(t,e){var n=t.type.contextTypes;if(!n)return Sn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function je(t){return t=t.childContextTypes,t!=null}function Ls(){K(ze),K(Ee)}function wd(t,e,n){if(Ee.current!==Sn)throw Error(w(168));B(Ee,e),B(ze,n)}function pf(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(w(108,ag(t)||"Unknown",i));return Z({},n,r)}function $s(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Sn,Qn=Ee.current,B(Ee,t),B(ze,ze.current),!0}function _d(t,e,n){var r=t.stateNode;if(!r)throw Error(w(169));n?(t=pf(t,e,Qn),r.__reactInternalMemoizedMergedChildContext=t,K(ze),K(Ee),B(Ee,t)):K(ze),B(ze,n)}var Nt=null,sl=!1,Xl=!1;function df(t){Nt===null?Nt=[t]:Nt.push(t)}function Eb(t){sl=!0,df(t)}function Mn(){if(!Xl&&Nt!==null){Xl=!0;var t=0,e=I;try{var n=Nt;for(I=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Nt=null,sl=!1}catch(i){throw Nt!==null&&(Nt=Nt.slice(t+1)),Dm(Hu,Mn),i}finally{I=e,Xl=!1}}return null}var Vr=[],Lr=0,Ts=null,Ms=0,tt=[],nt=0,Yn=null,Dt=1,At="";function Bn(t,e){Vr[Lr++]=Ms,Vr[Lr++]=Ts,Ts=t,Ms=e}function hf(t,e,n){tt[nt++]=Dt,tt[nt++]=At,tt[nt++]=Yn,Yn=t;var r=Dt;t=At;var i=32-vt(r)-1;r&=~(1<<i),n+=1;var o=32-vt(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Dt=1<<32-vt(e)+i|n<<i|r,At=o+t}else Dt=1<<o|n<<i|r,At=t}function ec(t){t.return!==null&&(Bn(t,1),hf(t,1,0))}function tc(t){for(;t===Ts;)Ts=Vr[--Lr],Vr[Lr]=null,Ms=Vr[--Lr],Vr[Lr]=null;for(;t===Yn;)Yn=tt[--nt],tt[nt]=null,At=tt[--nt],tt[nt]=null,Dt=tt[--nt],tt[nt]=null}var He=null,Ke=null,q=!1,ft=null;function mf(t,e){var n=rt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function gd(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,He=t,Ke=_n(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,He=t,Ke=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Yn!==null?{id:Dt,overflow:At}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=rt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,He=t,Ke=null,!0):!1;default:return!1}}function eu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function tu(t){if(q){var e=Ke;if(e){var n=e;if(!gd(t,e)){if(eu(t))throw Error(w(418));e=_n(n.nextSibling);var r=He;e&&gd(t,e)?mf(r,n):(t.flags=t.flags&-4097|2,q=!1,He=t)}}else{if(eu(t))throw Error(w(418));t.flags=t.flags&-4097|2,q=!1,He=t}}}function bd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;He=t}function Qo(t){if(t!==He)return!1;if(!q)return bd(t),q=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ya(t.type,t.memoizedProps)),e&&(e=Ke)){if(eu(t))throw ff(),Error(w(418));for(;e;)mf(t,e),e=_n(e.nextSibling)}if(bd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(w(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ke=_n(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ke=null}}else Ke=He?_n(t.stateNode.nextSibling):null;return!0}function ff(){for(var t=Ke;t;)t=_n(t.nextSibling)}function Hr(){Ke=He=null,q=!1}function nc(t){ft===null?ft=[t]:ft.push(t)}var kb=Qt.ReactCurrentBatchConfig;function ht(t,e){if(t&&t.defaultProps){e=Z({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Os=Tn(null),Rs=null,$r=null,rc=null;function ic(){rc=$r=Rs=null}function oc(t){var e=Os.current;K(Os),t._currentValue=e}function nu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ar(t,e){Rs=t,rc=$r=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(De=!0),t.firstContext=null)}function at(t){var e=t._currentValue;if(rc!==t)if(t={context:t,memoizedValue:e,next:null},$r===null){if(Rs===null)throw Error(w(308));$r=t,Rs.dependencies={lanes:0,firstContext:t}}else $r=$r.next=t;return e}var Kn=null;function sc(t){Kn===null?Kn=[t]:Kn.push(t)}function vf(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,sc(e)):(n.next=i.next,i.next=n),e.interleaved=n,Kt(t,r)}function Kt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ln=!1;function lc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function It(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,N&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Kt(t,n)}return i=r.interleaved,i===null?(e.next=e,sc(r)):(e.next=i.next,i.next=e),r.interleaved=e,Kt(t,n)}function as(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qu(t,n)}}function yd(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ns(t,e,n,r){var i=t.updateQueue;ln=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?o=u:s.next=u,s=a;var p=t.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==s&&(l===null?p.firstBaseUpdate=u:l.next=u,p.lastBaseUpdate=a))}if(o!==null){var d=i.baseState;s=0,p=u=a=null,l=o;do{var f=l.lane,_=l.eventTime;if((r&f)===f){p!==null&&(p=p.next={eventTime:_,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,b=l;switch(f=e,_=n,b.tag){case 1:if(g=b.payload,typeof g=="function"){d=g.call(_,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=b.payload,f=typeof g=="function"?g.call(_,d,f):g,f==null)break e;d=Z({},d,f);break e;case 2:ln=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else _={eventTime:_,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(u=p=_,a=d):p=p.next=_,s|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(p===null&&(a=d),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Zn|=s,t.lanes=s,t.memoizedState=d}}function Cd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(w(191,i));i.call(r)}}}var _f=new fm.Component().refs;function ru(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Z({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ll={isMounted:function(t){return(t=t._reactInternals)?lr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Le(),i=yn(t),o=It(r,i);o.payload=e,n!=null&&(o.callback=n),e=gn(t,o,i),e!==null&&(wt(e,t,i,r),as(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Le(),i=yn(t),o=It(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=gn(t,o,i),e!==null&&(wt(e,t,i,r),as(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Le(),r=yn(t),i=It(n,r);i.tag=2,e!=null&&(i.callback=e),e=gn(t,i,r),e!==null&&(wt(e,t,r,n),as(e,t,r))}};function xd(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Qi(n,r)||!Qi(i,o):!0}function gf(t,e,n){var r=!1,i=Sn,o=e.contextType;return typeof o=="object"&&o!==null?o=at(o):(i=je(e)?Qn:Ee.current,r=e.contextTypes,o=(r=r!=null)?Kr(t,i):Sn),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ll,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Pd(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ll.enqueueReplaceState(e,e.state,null)}function iu(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=_f,lc(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=at(o):(o=je(e)?Qn:Ee.current,i.context=Kr(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(ru(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ll.enqueueReplaceState(i,i.state,null),Ns(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function vi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(w(309));var r=n.stateNode}if(!r)throw Error(w(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=i.refs;l===_f&&(l=i.refs={}),s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(w(284));if(!n._owner)throw Error(w(290,t))}return t}function Yo(t,e){throw t=Object.prototype.toString.call(e),Error(w(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ed(t){var e=t._init;return e(t._payload)}function bf(t){function e(h,c){if(t){var m=h.deletions;m===null?(h.deletions=[c],h.flags|=16):m.push(c)}}function n(h,c){if(!t)return null;for(;c!==null;)e(h,c),c=c.sibling;return null}function r(h,c){for(h=new Map;c!==null;)c.key!==null?h.set(c.key,c):h.set(c.index,c),c=c.sibling;return h}function i(h,c){return h=Cn(h,c),h.index=0,h.sibling=null,h}function o(h,c,m){return h.index=m,t?(m=h.alternate,m!==null?(m=m.index,m<c?(h.flags|=2,c):m):(h.flags|=2,c)):(h.flags|=1048576,c)}function s(h){return t&&h.alternate===null&&(h.flags|=2),h}function l(h,c,m,v){return c===null||c.tag!==6?(c=ia(m,h.mode,v),c.return=h,c):(c=i(c,m),c.return=h,c)}function a(h,c,m,v){var C=m.type;return C===Cr?p(h,c,m.props.children,v,m.key):c!==null&&(c.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===sn&&Ed(C)===c.type)?(v=i(c,m.props),v.ref=vi(h,c,m),v.return=h,v):(v=ms(m.type,m.key,m.props,null,h.mode,v),v.ref=vi(h,c,m),v.return=h,v)}function u(h,c,m,v){return c===null||c.tag!==4||c.stateNode.containerInfo!==m.containerInfo||c.stateNode.implementation!==m.implementation?(c=oa(m,h.mode,v),c.return=h,c):(c=i(c,m.children||[]),c.return=h,c)}function p(h,c,m,v,C){return c===null||c.tag!==7?(c=Gn(m,h.mode,v,C),c.return=h,c):(c=i(c,m),c.return=h,c)}function d(h,c,m){if(typeof c=="string"&&c!==""||typeof c=="number")return c=ia(""+c,h.mode,m),c.return=h,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case jo:return m=ms(c.type,c.key,c.props,null,h.mode,m),m.ref=vi(h,null,c),m.return=h,m;case yr:return c=oa(c,h.mode,m),c.return=h,c;case sn:var v=c._init;return d(h,v(c._payload),m)}if($i(c)||pi(c))return c=Gn(c,h.mode,m,null),c.return=h,c;Yo(h,c)}return null}function f(h,c,m,v){var C=c!==null?c.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return C!==null?null:l(h,c,""+m,v);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case jo:return m.key===C?a(h,c,m,v):null;case yr:return m.key===C?u(h,c,m,v):null;case sn:return C=m._init,f(h,c,C(m._payload),v)}if($i(m)||pi(m))return C!==null?null:p(h,c,m,v,null);Yo(h,m)}return null}function _(h,c,m,v,C){if(typeof v=="string"&&v!==""||typeof v=="number")return h=h.get(m)||null,l(c,h,""+v,C);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case jo:return h=h.get(v.key===null?m:v.key)||null,a(c,h,v,C);case yr:return h=h.get(v.key===null?m:v.key)||null,u(c,h,v,C);case sn:var P=v._init;return _(h,c,m,P(v._payload),C)}if($i(v)||pi(v))return h=h.get(m)||null,p(c,h,v,C,null);Yo(c,v)}return null}function g(h,c,m,v){for(var C=null,P=null,E=c,k=c=0,re=null;E!==null&&k<m.length;k++){E.index>k?(re=E,E=null):re=E.sibling;var R=f(h,E,m[k],v);if(R===null){E===null&&(E=re);break}t&&E&&R.alternate===null&&e(h,E),c=o(R,c,k),P===null?C=R:P.sibling=R,P=R,E=re}if(k===m.length)return n(h,E),q&&Bn(h,k),C;if(E===null){for(;k<m.length;k++)E=d(h,m[k],v),E!==null&&(c=o(E,c,k),P===null?C=E:P.sibling=E,P=E);return q&&Bn(h,k),C}for(E=r(h,E);k<m.length;k++)re=_(E,h,k,m[k],v),re!==null&&(t&&re.alternate!==null&&E.delete(re.key===null?k:re.key),c=o(re,c,k),P===null?C=re:P.sibling=re,P=re);return t&&E.forEach(function(pt){return e(h,pt)}),q&&Bn(h,k),C}function b(h,c,m,v){var C=pi(m);if(typeof C!="function")throw Error(w(150));if(m=C.call(m),m==null)throw Error(w(151));for(var P=C=null,E=c,k=c=0,re=null,R=m.next();E!==null&&!R.done;k++,R=m.next()){E.index>k?(re=E,E=null):re=E.sibling;var pt=f(h,E,R.value,v);if(pt===null){E===null&&(E=re);break}t&&E&&pt.alternate===null&&e(h,E),c=o(pt,c,k),P===null?C=pt:P.sibling=pt,P=pt,E=re}if(R.done)return n(h,E),q&&Bn(h,k),C;if(E===null){for(;!R.done;k++,R=m.next())R=d(h,R.value,v),R!==null&&(c=o(R,c,k),P===null?C=R:P.sibling=R,P=R);return q&&Bn(h,k),C}for(E=r(h,E);!R.done;k++,R=m.next())R=_(E,h,k,R.value,v),R!==null&&(t&&R.alternate!==null&&E.delete(R.key===null?k:R.key),c=o(R,c,k),P===null?C=R:P.sibling=R,P=R);return t&&E.forEach(function(ui){return e(h,ui)}),q&&Bn(h,k),C}function H(h,c,m,v){if(typeof m=="object"&&m!==null&&m.type===Cr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case jo:e:{for(var C=m.key,P=c;P!==null;){if(P.key===C){if(C=m.type,C===Cr){if(P.tag===7){n(h,P.sibling),c=i(P,m.props.children),c.return=h,h=c;break e}}else if(P.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===sn&&Ed(C)===P.type){n(h,P.sibling),c=i(P,m.props),c.ref=vi(h,P,m),c.return=h,h=c;break e}n(h,P);break}else e(h,P);P=P.sibling}m.type===Cr?(c=Gn(m.props.children,h.mode,v,m.key),c.return=h,h=c):(v=ms(m.type,m.key,m.props,null,h.mode,v),v.ref=vi(h,c,m),v.return=h,h=v)}return s(h);case yr:e:{for(P=m.key;c!==null;){if(c.key===P)if(c.tag===4&&c.stateNode.containerInfo===m.containerInfo&&c.stateNode.implementation===m.implementation){n(h,c.sibling),c=i(c,m.children||[]),c.return=h,h=c;break e}else{n(h,c);break}else e(h,c);c=c.sibling}c=oa(m,h.mode,v),c.return=h,h=c}return s(h);case sn:return P=m._init,H(h,c,P(m._payload),v)}if($i(m))return g(h,c,m,v);if(pi(m))return b(h,c,m,v);Yo(h,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,c!==null&&c.tag===6?(n(h,c.sibling),c=i(c,m),c.return=h,h=c):(n(h,c),c=ia(m,h.mode,v),c.return=h,h=c),s(h)):n(h,c)}return H}var qr=bf(!0),yf=bf(!1),yo={},Vt=Tn(yo),Ji=Tn(yo),eo=Tn(yo);function Hn(t){if(t===yo)throw Error(w(174));return t}function ac(t,e){switch(B(eo,e),B(Ji,t),B(Vt,yo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Da(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Da(e,t)}K(Vt),B(Vt,e)}function Gr(){K(Vt),K(Ji),K(eo)}function Cf(t){Hn(eo.current);var e=Hn(Vt.current),n=Da(e,t.type);e!==n&&(B(Ji,t),B(Vt,n))}function uc(t){Ji.current===t&&(K(Vt),K(Ji))}var Q=Tn(0);function Ds(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zl=[];function cc(){for(var t=0;t<Zl.length;t++)Zl[t]._workInProgressVersionPrimary=null;Zl.length=0}var us=Qt.ReactCurrentDispatcher,Jl=Qt.ReactCurrentBatchConfig,Xn=0,X=null,ue=null,he=null,As=!1,zi=!1,to=0,Sb=0;function ye(){throw Error(w(321))}function pc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_t(t[n],e[n]))return!1;return!0}function dc(t,e,n,r,i,o){if(Xn=o,X=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,us.current=t===null||t.memoizedState===null?Tb:Mb,t=n(r,i),zi){o=0;do{if(zi=!1,to=0,25<=o)throw Error(w(301));o+=1,he=ue=null,e.updateQueue=null,us.current=Ob,t=n(r,i)}while(zi)}if(us.current=zs,e=ue!==null&&ue.next!==null,Xn=0,he=ue=X=null,As=!1,e)throw Error(w(300));return t}function hc(){var t=to!==0;return to=0,t}function Pt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?X.memoizedState=he=t:he=he.next=t,he}function ut(){if(ue===null){var t=X.alternate;t=t!==null?t.memoizedState:null}else t=ue.next;var e=he===null?X.memoizedState:he.next;if(e!==null)he=e,ue=t;else{if(t===null)throw Error(w(310));ue=t,t={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},he===null?X.memoizedState=he=t:he=he.next=t}return he}function no(t,e){return typeof e=="function"?e(t):e}function ea(t){var e=ut(),n=e.queue;if(n===null)throw Error(w(311));n.lastRenderedReducer=t;var r=ue,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,a=null,u=o;do{var p=u.lane;if((Xn&p)===p)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:p,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,s=r):a=a.next=d,X.lanes|=p,Zn|=p}u=u.next}while(u!==null&&u!==o);a===null?s=r:a.next=l,_t(r,e.memoizedState)||(De=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,X.lanes|=o,Zn|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ta(t){var e=ut(),n=e.queue;if(n===null)throw Error(w(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);_t(o,e.memoizedState)||(De=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function xf(){}function Pf(t,e){var n=X,r=ut(),i=e(),o=!_t(r.memoizedState,i);if(o&&(r.memoizedState=i,De=!0),r=r.queue,mc(Sf.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||he!==null&&he.memoizedState.tag&1){if(n.flags|=2048,ro(9,kf.bind(null,n,r,i,e),void 0,null),ve===null)throw Error(w(349));Xn&30||Ef(n,e,i)}return i}function Ef(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=X.updateQueue,e===null?(e={lastEffect:null,stores:null},X.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function kf(t,e,n,r){e.value=n,e.getSnapshot=r,Vf(e)&&Lf(t)}function Sf(t,e,n){return n(function(){Vf(e)&&Lf(t)})}function Vf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_t(t,n)}catch{return!0}}function Lf(t){var e=Kt(t,1);e!==null&&wt(e,t,1,-1)}function kd(t){var e=Pt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:no,lastRenderedState:t},e.queue=t,t=t.dispatch=$b.bind(null,X,t),[e.memoizedState,t]}function ro(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=X.updateQueue,e===null?(e={lastEffect:null,stores:null},X.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function $f(){return ut().memoizedState}function cs(t,e,n,r){var i=Pt();X.flags|=t,i.memoizedState=ro(1|e,n,void 0,r===void 0?null:r)}function al(t,e,n,r){var i=ut();r=r===void 0?null:r;var o=void 0;if(ue!==null){var s=ue.memoizedState;if(o=s.destroy,r!==null&&pc(r,s.deps)){i.memoizedState=ro(e,n,o,r);return}}X.flags|=t,i.memoizedState=ro(1|e,n,o,r)}function Sd(t,e){return cs(8390656,8,t,e)}function mc(t,e){return al(2048,8,t,e)}function Tf(t,e){return al(4,2,t,e)}function Mf(t,e){return al(4,4,t,e)}function Of(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Rf(t,e,n){return n=n!=null?n.concat([t]):null,al(4,4,Of.bind(null,e,t),n)}function fc(){}function Nf(t,e){var n=ut();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pc(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Df(t,e){var n=ut();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pc(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Af(t,e,n){return Xn&21?(_t(n,e)||(n=jm(),X.lanes|=n,Zn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,De=!0),t.memoizedState=n)}function Vb(t,e){var n=I;I=n!==0&&4>n?n:4,t(!0);var r=Jl.transition;Jl.transition={};try{t(!1),e()}finally{I=n,Jl.transition=r}}function zf(){return ut().memoizedState}function Lb(t,e,n){var r=yn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},jf(t))If(e,n);else if(n=vf(t,e,n,r),n!==null){var i=Le();wt(n,t,r,i),Bf(n,e,r)}}function $b(t,e,n){var r=yn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(jf(t))If(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,_t(l,s)){var a=e.interleaved;a===null?(i.next=i,sc(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=vf(t,e,i,r),n!==null&&(i=Le(),wt(n,t,r,i),Bf(n,e,r))}}function jf(t){var e=t.alternate;return t===X||e!==null&&e===X}function If(t,e){zi=As=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Bf(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qu(t,n)}}var zs={readContext:at,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useInsertionEffect:ye,useLayoutEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useMutableSource:ye,useSyncExternalStore:ye,useId:ye,unstable_isNewReconciler:!1},Tb={readContext:at,useCallback:function(t,e){return Pt().memoizedState=[t,e===void 0?null:e],t},useContext:at,useEffect:Sd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,cs(4194308,4,Of.bind(null,e,t),n)},useLayoutEffect:function(t,e){return cs(4194308,4,t,e)},useInsertionEffect:function(t,e){return cs(4,2,t,e)},useMemo:function(t,e){var n=Pt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Pt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Lb.bind(null,X,t),[r.memoizedState,t]},useRef:function(t){var e=Pt();return t={current:t},e.memoizedState=t},useState:kd,useDebugValue:fc,useDeferredValue:function(t){return Pt().memoizedState=t},useTransition:function(){var t=kd(!1),e=t[0];return t=Vb.bind(null,t[1]),Pt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=X,i=Pt();if(q){if(n===void 0)throw Error(w(407));n=n()}else{if(n=e(),ve===null)throw Error(w(349));Xn&30||Ef(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Sd(Sf.bind(null,r,o,t),[t]),r.flags|=2048,ro(9,kf.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Pt(),e=ve.identifierPrefix;if(q){var n=At,r=Dt;n=(r&~(1<<32-vt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=to++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Sb++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Mb={readContext:at,useCallback:Nf,useContext:at,useEffect:mc,useImperativeHandle:Rf,useInsertionEffect:Tf,useLayoutEffect:Mf,useMemo:Df,useReducer:ea,useRef:$f,useState:function(){return ea(no)},useDebugValue:fc,useDeferredValue:function(t){var e=ut();return Af(e,ue.memoizedState,t)},useTransition:function(){var t=ea(no)[0],e=ut().memoizedState;return[t,e]},useMutableSource:xf,useSyncExternalStore:Pf,useId:zf,unstable_isNewReconciler:!1},Ob={readContext:at,useCallback:Nf,useContext:at,useEffect:mc,useImperativeHandle:Rf,useInsertionEffect:Tf,useLayoutEffect:Mf,useMemo:Df,useReducer:ta,useRef:$f,useState:function(){return ta(no)},useDebugValue:fc,useDeferredValue:function(t){var e=ut();return ue===null?e.memoizedState=t:Af(e,ue.memoizedState,t)},useTransition:function(){var t=ta(no)[0],e=ut().memoizedState;return[t,e]},useMutableSource:xf,useSyncExternalStore:Pf,useId:zf,unstable_isNewReconciler:!1};function Wr(t,e){try{var n="",r=e;do n+=lg(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function na(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ou(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Rb=typeof WeakMap=="function"?WeakMap:Map;function Ff(t,e,n){n=It(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Is||(Is=!0,fu=r),ou(t,e)},n}function Uf(t,e,n){n=It(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ou(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){ou(t,e),typeof r!="function"&&(bn===null?bn=new Set([this]):bn.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Vd(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Rb;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Wb.bind(null,t,e,n),e.then(t,t))}function Ld(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $d(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=It(-1,1),e.tag=2,gn(n,e,1))),n.lanes|=1),t)}var Nb=Qt.ReactCurrentOwner,De=!1;function Se(t,e,n,r){e.child=t===null?yf(e,null,n,r):qr(e,t.child,n,r)}function Td(t,e,n,r,i){n=n.render;var o=e.ref;return Ar(e,i),r=dc(t,e,n,r,o,i),n=hc(),t!==null&&!De?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ht(t,e,i)):(q&&n&&ec(e),e.flags|=1,Se(t,e,r,i),e.child)}function Md(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!xc(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Kf(t,e,o,r,i)):(t=ms(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Qi,n(s,r)&&t.ref===e.ref)return Ht(t,e,i)}return e.flags|=1,t=Cn(o,r),t.ref=e.ref,t.return=e,e.child=t}function Kf(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Qi(o,r)&&t.ref===e.ref)if(De=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(De=!0);else return e.lanes=t.lanes,Ht(t,e,i)}return su(t,e,n,r,i)}function Hf(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},B(Mr,Fe),Fe|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,B(Mr,Fe),Fe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,B(Mr,Fe),Fe|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,B(Mr,Fe),Fe|=r;return Se(t,e,i,n),e.child}function qf(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function su(t,e,n,r,i){var o=je(n)?Qn:Ee.current;return o=Kr(e,o),Ar(e,i),n=dc(t,e,n,r,o,i),r=hc(),t!==null&&!De?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ht(t,e,i)):(q&&r&&ec(e),e.flags|=1,Se(t,e,n,i),e.child)}function Od(t,e,n,r,i){if(je(n)){var o=!0;$s(e)}else o=!1;if(Ar(e,i),e.stateNode===null)ps(t,e),gf(e,n,r),iu(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=at(u):(u=je(n)?Qn:Ee.current,u=Kr(e,u));var p=n.getDerivedStateFromProps,d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Pd(e,s,r,u),ln=!1;var f=e.memoizedState;s.state=f,Ns(e,r,s,i),a=e.memoizedState,l!==r||f!==a||ze.current||ln?(typeof p=="function"&&(ru(e,n,p,r),a=e.memoizedState),(l=ln||xd(e,n,l,r,f,a,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,wf(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:ht(e.type,l),s.props=u,d=e.pendingProps,f=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=at(a):(a=je(n)?Qn:Ee.current,a=Kr(e,a));var _=n.getDerivedStateFromProps;(p=typeof _=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==d||f!==a)&&Pd(e,s,r,a),ln=!1,f=e.memoizedState,s.state=f,Ns(e,r,s,i);var g=e.memoizedState;l!==d||f!==g||ze.current||ln?(typeof _=="function"&&(ru(e,n,_,r),g=e.memoizedState),(u=ln||xd(e,n,u,r,f,g,a)||!1)?(p||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,a)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return lu(t,e,n,r,o,i)}function lu(t,e,n,r,i,o){qf(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&_d(e,n,!1),Ht(t,e,o);r=e.stateNode,Nb.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=qr(e,t.child,null,o),e.child=qr(e,null,l,o)):Se(t,e,l,o),e.memoizedState=r.state,i&&_d(e,n,!0),e.child}function Gf(t){var e=t.stateNode;e.pendingContext?wd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&wd(t,e.context,!1),ac(t,e.containerInfo)}function Rd(t,e,n,r,i){return Hr(),nc(i),e.flags|=256,Se(t,e,n,r),e.child}var au={dehydrated:null,treeContext:null,retryLane:0};function uu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Wf(t,e,n){var r=e.pendingProps,i=Q.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),B(Q,i&1),t===null)return tu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=pl(s,r,0,null),t=Gn(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=uu(n),e.memoizedState=au,t):vc(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Db(t,e,s,r,l,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Cn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=Cn(l,o):(o=Gn(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?uu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=au,r}return o=t.child,t=o.sibling,r=Cn(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function vc(t,e){return e=pl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Xo(t,e,n,r){return r!==null&&nc(r),qr(e,t.child,null,n),t=vc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Db(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=na(Error(w(422))),Xo(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=pl({mode:"visible",children:r.children},i,0,null),o=Gn(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&qr(e,t.child,null,s),e.child.memoizedState=uu(s),e.memoizedState=au,o);if(!(e.mode&1))return Xo(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(w(419)),r=na(o,r,void 0),Xo(t,e,s,r)}if(l=(s&t.childLanes)!==0,De||l){if(r=ve,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Kt(t,i),wt(r,t,i,-1))}return Cc(),r=na(Error(w(421))),Xo(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Qb.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Ke=_n(i.nextSibling),He=e,q=!0,ft=null,t!==null&&(tt[nt++]=Dt,tt[nt++]=At,tt[nt++]=Yn,Dt=t.id,At=t.overflow,Yn=e),e=vc(e,r.children),e.flags|=4096,e)}function Nd(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),nu(t.return,e,n)}function ra(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Qf(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Se(t,e,r.children,n),r=Q.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Nd(t,n,e);else if(t.tag===19)Nd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(B(Q,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ds(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ra(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ds(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ra(e,!0,n,null,o);break;case"together":ra(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ps(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ht(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Zn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(w(153));if(e.child!==null){for(t=e.child,n=Cn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Cn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Ab(t,e,n){switch(e.tag){case 3:Gf(e),Hr();break;case 5:Cf(e);break;case 1:je(e.type)&&$s(e);break;case 4:ac(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;B(Os,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(B(Q,Q.current&1),e.flags|=128,null):n&e.child.childLanes?Wf(t,e,n):(B(Q,Q.current&1),t=Ht(t,e,n),t!==null?t.sibling:null);B(Q,Q.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Qf(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),B(Q,Q.current),r)break;return null;case 22:case 23:return e.lanes=0,Hf(t,e,n)}return Ht(t,e,n)}var Yf,cu,Xf,Zf;Yf=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cu=function(){};Xf=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Hn(Vt.current);var o=null;switch(n){case"input":i=Ma(t,i),r=Ma(t,r),o=[];break;case"select":i=Z({},i,{value:void 0}),r=Z({},r,{value:void 0}),o=[];break;case"textarea":i=Na(t,i),r=Na(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vs)}Aa(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Fi.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Fi.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&U("scroll",t),o||l===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};Zf=function(t,e,n,r){n!==r&&(e.flags|=4)};function wi(t,e){if(!q)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ce(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function zb(t,e,n){var r=e.pendingProps;switch(tc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(e),null;case 1:return je(e.type)&&Ls(),Ce(e),null;case 3:return r=e.stateNode,Gr(),K(ze),K(Ee),cc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Qo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ft!==null&&(_u(ft),ft=null))),cu(t,e),Ce(e),null;case 5:uc(e);var i=Hn(eo.current);if(n=e.type,t!==null&&e.stateNode!=null)Xf(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(w(166));return Ce(e),null}if(t=Hn(Vt.current),Qo(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Et]=e,r[Zi]=o,t=(e.mode&1)!==0,n){case"dialog":U("cancel",r),U("close",r);break;case"iframe":case"object":case"embed":U("load",r);break;case"video":case"audio":for(i=0;i<Mi.length;i++)U(Mi[i],r);break;case"source":U("error",r);break;case"img":case"image":case"link":U("error",r),U("load",r);break;case"details":U("toggle",r);break;case"input":Kp(r,o),U("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},U("invalid",r);break;case"textarea":qp(r,o),U("invalid",r)}Aa(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Wo(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Wo(r.textContent,l,t),i=["children",""+l]):Fi.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&U("scroll",r)}switch(n){case"input":Io(r),Hp(r,o,!0);break;case"textarea":Io(r),Gp(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Vs)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Pm(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Et]=e,t[Zi]=r,Yf(t,e,!1,!1),e.stateNode=t;e:{switch(s=za(n,r),n){case"dialog":U("cancel",t),U("close",t),i=r;break;case"iframe":case"object":case"embed":U("load",t),i=r;break;case"video":case"audio":for(i=0;i<Mi.length;i++)U(Mi[i],t);i=r;break;case"source":U("error",t),i=r;break;case"img":case"image":case"link":U("error",t),U("load",t),i=r;break;case"details":U("toggle",t),i=r;break;case"input":Kp(t,r),i=Ma(t,r),U("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Z({},r,{value:void 0}),U("invalid",t);break;case"textarea":qp(t,r),i=Na(t,r),U("invalid",t);break;default:i=r}Aa(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?Sm(t,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Em(t,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Ui(t,a):typeof a=="number"&&Ui(t,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Fi.hasOwnProperty(o)?a!=null&&o==="onScroll"&&U("scroll",t):a!=null&&Iu(t,o,a,s))}switch(n){case"input":Io(t),Hp(t,r,!1);break;case"textarea":Io(t),Gp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+kn(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Or(t,!!r.multiple,o,!1):r.defaultValue!=null&&Or(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Vs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ce(e),null;case 6:if(t&&e.stateNode!=null)Zf(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(w(166));if(n=Hn(eo.current),Hn(Vt.current),Qo(e)){if(r=e.stateNode,n=e.memoizedProps,r[Et]=e,(o=r.nodeValue!==n)&&(t=He,t!==null))switch(t.tag){case 3:Wo(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wo(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Et]=e,e.stateNode=r}return Ce(e),null;case 13:if(K(Q),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(q&&Ke!==null&&e.mode&1&&!(e.flags&128))ff(),Hr(),e.flags|=98560,o=!1;else if(o=Qo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(w(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(w(317));o[Et]=e}else Hr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ce(e),o=!1}else ft!==null&&(_u(ft),ft=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Q.current&1?ce===0&&(ce=3):Cc())),e.updateQueue!==null&&(e.flags|=4),Ce(e),null);case 4:return Gr(),cu(t,e),t===null&&Yi(e.stateNode.containerInfo),Ce(e),null;case 10:return oc(e.type._context),Ce(e),null;case 17:return je(e.type)&&Ls(),Ce(e),null;case 19:if(K(Q),o=e.memoizedState,o===null)return Ce(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)wi(o,!1);else{if(ce!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Ds(t),s!==null){for(e.flags|=128,wi(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return B(Q,Q.current&1|2),e.child}t=t.sibling}o.tail!==null&&oe()>Qr&&(e.flags|=128,r=!0,wi(o,!1),e.lanes=4194304)}else{if(!r)if(t=Ds(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),wi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!q)return Ce(e),null}else 2*oe()-o.renderingStartTime>Qr&&n!==1073741824&&(e.flags|=128,r=!0,wi(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=oe(),e.sibling=null,n=Q.current,B(Q,r?n&1|2:n&1),e):(Ce(e),null);case 22:case 23:return yc(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Fe&1073741824&&(Ce(e),e.subtreeFlags&6&&(e.flags|=8192)):Ce(e),null;case 24:return null;case 25:return null}throw Error(w(156,e.tag))}function jb(t,e){switch(tc(e),e.tag){case 1:return je(e.type)&&Ls(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gr(),K(ze),K(Ee),cc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return uc(e),null;case 13:if(K(Q),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(w(340));Hr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return K(Q),null;case 4:return Gr(),null;case 10:return oc(e.type._context),null;case 22:case 23:return yc(),null;case 24:return null;default:return null}}var Zo=!1,xe=!1,Ib=typeof WeakSet=="function"?WeakSet:Set,y=null;function Tr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ee(t,e,r)}else n.current=null}function pu(t,e,n){try{n()}catch(r){ee(t,e,r)}}var Dd=!1;function Bb(t,e){if(Wa=Es,t=tf(),Ju(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,p=0,d=t,f=null;t:for(;;){for(var _;d!==n||i!==0&&d.nodeType!==3||(l=s+i),d!==o||r!==0&&d.nodeType!==3||(a=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(_=d.firstChild)!==null;)f=d,d=_;for(;;){if(d===t)break t;if(f===n&&++u===i&&(l=s),f===o&&++p===r&&(a=s),(_=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=_}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qa={focusedElem:t,selectionRange:n},Es=!1,y=e;y!==null;)if(e=y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,y=t;else for(;y!==null;){e=y;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var b=g.memoizedProps,H=g.memoizedState,h=e.stateNode,c=h.getSnapshotBeforeUpdate(e.elementType===e.type?b:ht(e.type,b),H);h.__reactInternalSnapshotBeforeUpdate=c}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(w(163))}}catch(v){ee(e,e.return,v)}if(t=e.sibling,t!==null){t.return=e.return,y=t;break}y=e.return}return g=Dd,Dd=!1,g}function ji(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&pu(e,n,o)}i=i.next}while(i!==r)}}function ul(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function du(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Jf(t){var e=t.alternate;e!==null&&(t.alternate=null,Jf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Et],delete e[Zi],delete e[Za],delete e[xb],delete e[Pb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ev(t){return t.tag===5||t.tag===3||t.tag===4}function Ad(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ev(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vs));else if(r!==4&&(t=t.child,t!==null))for(hu(t,e,n),t=t.sibling;t!==null;)hu(t,e,n),t=t.sibling}function mu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(mu(t,e,n),t=t.sibling;t!==null;)mu(t,e,n),t=t.sibling}var we=null,mt=!1;function Xt(t,e,n){for(n=n.child;n!==null;)tv(t,e,n),n=n.sibling}function tv(t,e,n){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(tl,n)}catch{}switch(n.tag){case 5:xe||Tr(n,e);case 6:var r=we,i=mt;we=null,Xt(t,e,n),we=r,mt=i,we!==null&&(mt?(t=we,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):we.removeChild(n.stateNode));break;case 18:we!==null&&(mt?(t=we,n=n.stateNode,t.nodeType===8?Yl(t.parentNode,n):t.nodeType===1&&Yl(t,n),Gi(t)):Yl(we,n.stateNode));break;case 4:r=we,i=mt,we=n.stateNode.containerInfo,mt=!0,Xt(t,e,n),we=r,mt=i;break;case 0:case 11:case 14:case 15:if(!xe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&pu(n,e,s),i=i.next}while(i!==r)}Xt(t,e,n);break;case 1:if(!xe&&(Tr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ee(n,e,l)}Xt(t,e,n);break;case 21:Xt(t,e,n);break;case 22:n.mode&1?(xe=(r=xe)||n.memoizedState!==null,Xt(t,e,n),xe=r):Xt(t,e,n);break;default:Xt(t,e,n)}}function zd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Ib),e.forEach(function(r){var i=Yb.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function dt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:we=l.stateNode,mt=!1;break e;case 3:we=l.stateNode.containerInfo,mt=!0;break e;case 4:we=l.stateNode.containerInfo,mt=!0;break e}l=l.return}if(we===null)throw Error(w(160));tv(o,s,i),we=null,mt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){ee(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)nv(e,t),e=e.sibling}function nv(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(dt(e,t),xt(t),r&4){try{ji(3,t,t.return),ul(3,t)}catch(b){ee(t,t.return,b)}try{ji(5,t,t.return)}catch(b){ee(t,t.return,b)}}break;case 1:dt(e,t),xt(t),r&512&&n!==null&&Tr(n,n.return);break;case 5:if(dt(e,t),xt(t),r&512&&n!==null&&Tr(n,n.return),t.flags&32){var i=t.stateNode;try{Ui(i,"")}catch(b){ee(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Cm(i,o),za(l,s);var u=za(l,o);for(s=0;s<a.length;s+=2){var p=a[s],d=a[s+1];p==="style"?Sm(i,d):p==="dangerouslySetInnerHTML"?Em(i,d):p==="children"?Ui(i,d):Iu(i,p,d,u)}switch(l){case"input":Oa(i,o);break;case"textarea":xm(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var _=o.value;_!=null?Or(i,!!o.multiple,_,!1):f!==!!o.multiple&&(o.defaultValue!=null?Or(i,!!o.multiple,o.defaultValue,!0):Or(i,!!o.multiple,o.multiple?[]:"",!1))}i[Zi]=o}catch(b){ee(t,t.return,b)}}break;case 6:if(dt(e,t),xt(t),r&4){if(t.stateNode===null)throw Error(w(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(b){ee(t,t.return,b)}}break;case 3:if(dt(e,t),xt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gi(e.containerInfo)}catch(b){ee(t,t.return,b)}break;case 4:dt(e,t),xt(t);break;case 13:dt(e,t),xt(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(gc=oe())),r&4&&zd(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(xe=(u=xe)||p,dt(e,t),xe=u):dt(e,t),xt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!p&&t.mode&1)for(y=t,p=t.child;p!==null;){for(d=y=p;y!==null;){switch(f=y,_=f.child,f.tag){case 0:case 11:case 14:case 15:ji(4,f,f.return);break;case 1:Tr(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(b){ee(r,n,b)}}break;case 5:Tr(f,f.return);break;case 22:if(f.memoizedState!==null){Id(d);continue}}_!==null?(_.return=f,y=_):Id(d)}p=p.sibling}e:for(p=null,d=t;;){if(d.tag===5){if(p===null){p=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=d.stateNode,a=d.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=km("display",s))}catch(b){ee(t,t.return,b)}}}else if(d.tag===6){if(p===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(b){ee(t,t.return,b)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;p===d&&(p=null),d=d.return}p===d&&(p=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:dt(e,t),xt(t),r&4&&zd(t);break;case 21:break;default:dt(e,t),xt(t)}}function xt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ev(n)){var r=n;break e}n=n.return}throw Error(w(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ui(i,""),r.flags&=-33);var o=Ad(t);mu(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=Ad(t);hu(t,l,s);break;default:throw Error(w(161))}}catch(a){ee(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Fb(t,e,n){y=t,rv(t)}function rv(t,e,n){for(var r=(t.mode&1)!==0;y!==null;){var i=y,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Zo;if(!s){var l=i.alternate,a=l!==null&&l.memoizedState!==null||xe;l=Zo;var u=xe;if(Zo=s,(xe=a)&&!u)for(y=i;y!==null;)s=y,a=s.child,s.tag===22&&s.memoizedState!==null?Bd(i):a!==null?(a.return=s,y=a):Bd(i);for(;o!==null;)y=o,rv(o),o=o.sibling;y=i,Zo=l,xe=u}jd(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,y=o):jd(t)}}function jd(t){for(;y!==null;){var e=y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xe||ul(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xe)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ht(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Cd(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Cd(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var p=u.memoizedState;if(p!==null){var d=p.dehydrated;d!==null&&Gi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(w(163))}xe||e.flags&512&&du(e)}catch(f){ee(e,e.return,f)}}if(e===t){y=null;break}if(n=e.sibling,n!==null){n.return=e.return,y=n;break}y=e.return}}function Id(t){for(;y!==null;){var e=y;if(e===t){y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,y=n;break}y=e.return}}function Bd(t){for(;y!==null;){var e=y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ul(4,e)}catch(a){ee(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){ee(e,i,a)}}var o=e.return;try{du(e)}catch(a){ee(e,o,a)}break;case 5:var s=e.return;try{du(e)}catch(a){ee(e,s,a)}}}catch(a){ee(e,e.return,a)}if(e===t){y=null;break}var l=e.sibling;if(l!==null){l.return=e.return,y=l;break}y=e.return}}var Ub=Math.ceil,js=Qt.ReactCurrentDispatcher,wc=Qt.ReactCurrentOwner,st=Qt.ReactCurrentBatchConfig,N=0,ve=null,le=null,_e=0,Fe=0,Mr=Tn(0),ce=0,io=null,Zn=0,cl=0,_c=0,Ii=null,Ne=null,gc=0,Qr=1/0,Rt=null,Is=!1,fu=null,bn=null,Jo=!1,dn=null,Bs=0,Bi=0,vu=null,ds=-1,hs=0;function Le(){return N&6?oe():ds!==-1?ds:ds=oe()}function yn(t){return t.mode&1?N&2&&_e!==0?_e&-_e:kb.transition!==null?(hs===0&&(hs=jm()),hs):(t=I,t!==0||(t=window.event,t=t===void 0?16:qm(t.type)),t):1}function wt(t,e,n,r){if(50<Bi)throw Bi=0,vu=null,Error(w(185));_o(t,n,r),(!(N&2)||t!==ve)&&(t===ve&&(!(N&2)&&(cl|=n),ce===4&&cn(t,_e)),Ie(t,r),n===1&&N===0&&!(e.mode&1)&&(Qr=oe()+500,sl&&Mn()))}function Ie(t,e){var n=t.callbackNode;kg(t,e);var r=Ps(t,t===ve?_e:0);if(r===0)n!==null&&Yp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Yp(n),e===1)t.tag===0?Eb(Fd.bind(null,t)):df(Fd.bind(null,t)),yb(function(){!(N&6)&&Mn()}),n=null;else{switch(Im(r)){case 1:n=Hu;break;case 4:n=Am;break;case 16:n=xs;break;case 536870912:n=zm;break;default:n=xs}n=pv(n,iv.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function iv(t,e){if(ds=-1,hs=0,N&6)throw Error(w(327));var n=t.callbackNode;if(zr()&&t.callbackNode!==n)return null;var r=Ps(t,t===ve?_e:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Fs(t,r);else{e=r;var i=N;N|=2;var o=sv();(ve!==t||_e!==e)&&(Rt=null,Qr=oe()+500,qn(t,e));do try{qb();break}catch(l){ov(t,l)}while(!0);ic(),js.current=o,N=i,le!==null?e=0:(ve=null,_e=0,e=ce)}if(e!==0){if(e===2&&(i=Ua(t),i!==0&&(r=i,e=wu(t,i))),e===1)throw n=io,qn(t,0),cn(t,r),Ie(t,oe()),n;if(e===6)cn(t,r);else{if(i=t.current.alternate,!(r&30)&&!Kb(i)&&(e=Fs(t,r),e===2&&(o=Ua(t),o!==0&&(r=o,e=wu(t,o))),e===1))throw n=io,qn(t,0),cn(t,r),Ie(t,oe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(w(345));case 2:Fn(t,Ne,Rt);break;case 3:if(cn(t,r),(r&130023424)===r&&(e=gc+500-oe(),10<e)){if(Ps(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Le(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Xa(Fn.bind(null,t,Ne,Rt),e);break}Fn(t,Ne,Rt);break;case 4:if(cn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-vt(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ub(r/1960))-r,10<r){t.timeoutHandle=Xa(Fn.bind(null,t,Ne,Rt),r);break}Fn(t,Ne,Rt);break;case 5:Fn(t,Ne,Rt);break;default:throw Error(w(329))}}}return Ie(t,oe()),t.callbackNode===n?iv.bind(null,t):null}function wu(t,e){var n=Ii;return t.current.memoizedState.isDehydrated&&(qn(t,e).flags|=256),t=Fs(t,e),t!==2&&(e=Ne,Ne=n,e!==null&&_u(e)),t}function _u(t){Ne===null?Ne=t:Ne.push.apply(Ne,t)}function Kb(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!_t(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function cn(t,e){for(e&=~_c,e&=~cl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-vt(e),r=1<<n;t[n]=-1,e&=~r}}function Fd(t){if(N&6)throw Error(w(327));zr();var e=Ps(t,0);if(!(e&1))return Ie(t,oe()),null;var n=Fs(t,e);if(t.tag!==0&&n===2){var r=Ua(t);r!==0&&(e=r,n=wu(t,r))}if(n===1)throw n=io,qn(t,0),cn(t,e),Ie(t,oe()),n;if(n===6)throw Error(w(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fn(t,Ne,Rt),Ie(t,oe()),null}function bc(t,e){var n=N;N|=1;try{return t(e)}finally{N=n,N===0&&(Qr=oe()+500,sl&&Mn())}}function Jn(t){dn!==null&&dn.tag===0&&!(N&6)&&zr();var e=N;N|=1;var n=st.transition,r=I;try{if(st.transition=null,I=1,t)return t()}finally{I=r,st.transition=n,N=e,!(N&6)&&Mn()}}function yc(){Fe=Mr.current,K(Mr)}function qn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,bb(n)),le!==null)for(n=le.return;n!==null;){var r=n;switch(tc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ls();break;case 3:Gr(),K(ze),K(Ee),cc();break;case 5:uc(r);break;case 4:Gr();break;case 13:K(Q);break;case 19:K(Q);break;case 10:oc(r.type._context);break;case 22:case 23:yc()}n=n.return}if(ve=t,le=t=Cn(t.current,null),_e=Fe=e,ce=0,io=null,_c=cl=Zn=0,Ne=Ii=null,Kn!==null){for(e=0;e<Kn.length;e++)if(n=Kn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Kn=null}return t}function ov(t,e){do{var n=le;try{if(ic(),us.current=zs,As){for(var r=X.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}As=!1}if(Xn=0,he=ue=X=null,zi=!1,to=0,wc.current=null,n===null||n.return===null){ce=1,io=e,le=null;break}e:{var o=t,s=n.return,l=n,a=e;if(e=_e,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,p=l,d=p.tag;if(!(p.mode&1)&&(d===0||d===11||d===15)){var f=p.alternate;f?(p.updateQueue=f.updateQueue,p.memoizedState=f.memoizedState,p.lanes=f.lanes):(p.updateQueue=null,p.memoizedState=null)}var _=Ld(s);if(_!==null){_.flags&=-257,$d(_,s,l,o,e),_.mode&1&&Vd(o,u,e),e=_,a=u;var g=e.updateQueue;if(g===null){var b=new Set;b.add(a),e.updateQueue=b}else g.add(a);break e}else{if(!(e&1)){Vd(o,u,e),Cc();break e}a=Error(w(426))}}else if(q&&l.mode&1){var H=Ld(s);if(H!==null){!(H.flags&65536)&&(H.flags|=256),$d(H,s,l,o,e),nc(Wr(a,l));break e}}o=a=Wr(a,l),ce!==4&&(ce=2),Ii===null?Ii=[o]:Ii.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var h=Ff(o,a,e);yd(o,h);break e;case 1:l=a;var c=o.type,m=o.stateNode;if(!(o.flags&128)&&(typeof c.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(bn===null||!bn.has(m)))){o.flags|=65536,e&=-e,o.lanes|=e;var v=Uf(o,l,e);yd(o,v);break e}}o=o.return}while(o!==null)}av(n)}catch(C){e=C,le===n&&n!==null&&(le=n=n.return);continue}break}while(!0)}function sv(){var t=js.current;return js.current=zs,t===null?zs:t}function Cc(){(ce===0||ce===3||ce===2)&&(ce=4),ve===null||!(Zn&268435455)&&!(cl&268435455)||cn(ve,_e)}function Fs(t,e){var n=N;N|=2;var r=sv();(ve!==t||_e!==e)&&(Rt=null,qn(t,e));do try{Hb();break}catch(i){ov(t,i)}while(!0);if(ic(),N=n,js.current=r,le!==null)throw Error(w(261));return ve=null,_e=0,ce}function Hb(){for(;le!==null;)lv(le)}function qb(){for(;le!==null&&!wg();)lv(le)}function lv(t){var e=cv(t.alternate,t,Fe);t.memoizedProps=t.pendingProps,e===null?av(t):le=e,wc.current=null}function av(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=jb(n,e),n!==null){n.flags&=32767,le=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ce=6,le=null;return}}else if(n=zb(n,e,Fe),n!==null){le=n;return}if(e=e.sibling,e!==null){le=e;return}le=e=t}while(e!==null);ce===0&&(ce=5)}function Fn(t,e,n){var r=I,i=st.transition;try{st.transition=null,I=1,Gb(t,e,n,r)}finally{st.transition=i,I=r}return null}function Gb(t,e,n,r){do zr();while(dn!==null);if(N&6)throw Error(w(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(w(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Sg(t,o),t===ve&&(le=ve=null,_e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Jo||(Jo=!0,pv(xs,function(){return zr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=st.transition,st.transition=null;var s=I;I=1;var l=N;N|=4,wc.current=null,Bb(t,n),nv(n,t),hb(Qa),Es=!!Wa,Qa=Wa=null,t.current=n,Fb(n),_g(),N=l,I=s,st.transition=o}else t.current=n;if(Jo&&(Jo=!1,dn=t,Bs=i),o=t.pendingLanes,o===0&&(bn=null),yg(n.stateNode),Ie(t,oe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Is)throw Is=!1,t=fu,fu=null,t;return Bs&1&&t.tag!==0&&zr(),o=t.pendingLanes,o&1?t===vu?Bi++:(Bi=0,vu=t):Bi=0,Mn(),null}function zr(){if(dn!==null){var t=Im(Bs),e=st.transition,n=I;try{if(st.transition=null,I=16>t?16:t,dn===null)var r=!1;else{if(t=dn,dn=null,Bs=0,N&6)throw Error(w(331));var i=N;for(N|=4,y=t.current;y!==null;){var o=y,s=o.child;if(y.flags&16){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(y=u;y!==null;){var p=y;switch(p.tag){case 0:case 11:case 15:ji(8,p,o)}var d=p.child;if(d!==null)d.return=p,y=d;else for(;y!==null;){p=y;var f=p.sibling,_=p.return;if(Jf(p),p===u){y=null;break}if(f!==null){f.return=_,y=f;break}y=_}}}var g=o.alternate;if(g!==null){var b=g.child;if(b!==null){g.child=null;do{var H=b.sibling;b.sibling=null,b=H}while(b!==null)}}y=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,y=s;else e:for(;y!==null;){if(o=y,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ji(9,o,o.return)}var h=o.sibling;if(h!==null){h.return=o.return,y=h;break e}y=o.return}}var c=t.current;for(y=c;y!==null;){s=y;var m=s.child;if(s.subtreeFlags&2064&&m!==null)m.return=s,y=m;else e:for(s=c;y!==null;){if(l=y,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ul(9,l)}}catch(C){ee(l,l.return,C)}if(l===s){y=null;break e}var v=l.sibling;if(v!==null){v.return=l.return,y=v;break e}y=l.return}}if(N=i,Mn(),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(tl,t)}catch{}r=!0}return r}finally{I=n,st.transition=e}}return!1}function Ud(t,e,n){e=Wr(n,e),e=Ff(t,e,1),t=gn(t,e,1),e=Le(),t!==null&&(_o(t,1,e),Ie(t,e))}function ee(t,e,n){if(t.tag===3)Ud(t,t,n);else for(;e!==null;){if(e.tag===3){Ud(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(bn===null||!bn.has(r))){t=Wr(n,t),t=Uf(e,t,1),e=gn(e,t,1),t=Le(),e!==null&&(_o(e,1,t),Ie(e,t));break}}e=e.return}}function Wb(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Le(),t.pingedLanes|=t.suspendedLanes&n,ve===t&&(_e&n)===n&&(ce===4||ce===3&&(_e&130023424)===_e&&500>oe()-gc?qn(t,0):_c|=n),Ie(t,e)}function uv(t,e){e===0&&(t.mode&1?(e=Uo,Uo<<=1,!(Uo&130023424)&&(Uo=4194304)):e=1);var n=Le();t=Kt(t,e),t!==null&&(_o(t,e,n),Ie(t,n))}function Qb(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),uv(t,n)}function Yb(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(w(314))}r!==null&&r.delete(e),uv(t,n)}var cv;cv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ze.current)De=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return De=!1,Ab(t,e,n);De=!!(t.flags&131072)}else De=!1,q&&e.flags&1048576&&hf(e,Ms,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ps(t,e),t=e.pendingProps;var i=Kr(e,Ee.current);Ar(e,n),i=dc(null,e,r,t,i,n);var o=hc();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,je(r)?(o=!0,$s(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,lc(e),i.updater=ll,e.stateNode=i,i._reactInternals=e,iu(e,r,t,n),e=lu(null,e,r,!0,o,n)):(e.tag=0,q&&o&&ec(e),Se(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ps(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Zb(r),t=ht(r,t),i){case 0:e=su(null,e,r,t,n);break e;case 1:e=Od(null,e,r,t,n);break e;case 11:e=Td(null,e,r,t,n);break e;case 14:e=Md(null,e,r,ht(r.type,t),n);break e}throw Error(w(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ht(r,i),su(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ht(r,i),Od(t,e,r,i,n);case 3:e:{if(Gf(e),t===null)throw Error(w(387));r=e.pendingProps,o=e.memoizedState,i=o.element,wf(t,e),Ns(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Wr(Error(w(423)),e),e=Rd(t,e,r,n,i);break e}else if(r!==i){i=Wr(Error(w(424)),e),e=Rd(t,e,r,n,i);break e}else for(Ke=_n(e.stateNode.containerInfo.firstChild),He=e,q=!0,ft=null,n=yf(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hr(),r===i){e=Ht(t,e,n);break e}Se(t,e,r,n)}e=e.child}return e;case 5:return Cf(e),t===null&&tu(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Ya(r,i)?s=null:o!==null&&Ya(r,o)&&(e.flags|=32),qf(t,e),Se(t,e,s,n),e.child;case 6:return t===null&&tu(e),null;case 13:return Wf(t,e,n);case 4:return ac(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=qr(e,null,r,n):Se(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ht(r,i),Td(t,e,r,i,n);case 7:return Se(t,e,e.pendingProps,n),e.child;case 8:return Se(t,e,e.pendingProps.children,n),e.child;case 12:return Se(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,B(Os,r._currentValue),r._currentValue=s,o!==null)if(_t(o.value,s)){if(o.children===i.children&&!ze.current){e=Ht(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=It(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var p=u.pending;p===null?a.next=a:(a.next=p.next,p.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),nu(o.return,n,e),l.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(w(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),nu(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Se(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ar(e,n),i=at(i),r=r(i),e.flags|=1,Se(t,e,r,n),e.child;case 14:return r=e.type,i=ht(r,e.pendingProps),i=ht(r.type,i),Md(t,e,r,i,n);case 15:return Kf(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ht(r,i),ps(t,e),e.tag=1,je(r)?(t=!0,$s(e)):t=!1,Ar(e,n),gf(e,r,i),iu(e,r,i,n),lu(null,e,r,!0,t,n);case 19:return Qf(t,e,n);case 22:return Hf(t,e,n)}throw Error(w(156,e.tag))};function pv(t,e){return Dm(t,e)}function Xb(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rt(t,e,n,r){return new Xb(t,e,n,r)}function xc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zb(t){if(typeof t=="function")return xc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Fu)return 11;if(t===Uu)return 14}return 2}function Cn(t,e){var n=t.alternate;return n===null?(n=rt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ms(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")xc(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Cr:return Gn(n.children,i,o,e);case Bu:s=8,i|=8;break;case Va:return t=rt(12,n,e,i|2),t.elementType=Va,t.lanes=o,t;case La:return t=rt(13,n,e,i),t.elementType=La,t.lanes=o,t;case $a:return t=rt(19,n,e,i),t.elementType=$a,t.lanes=o,t;case gm:return pl(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wm:s=10;break e;case _m:s=9;break e;case Fu:s=11;break e;case Uu:s=14;break e;case sn:s=16,r=null;break e}throw Error(w(130,t==null?t:typeof t,""))}return e=rt(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Gn(t,e,n,r){return t=rt(7,t,r,e),t.lanes=n,t}function pl(t,e,n,r){return t=rt(22,t,r,e),t.elementType=gm,t.lanes=n,t.stateNode={isHidden:!1},t}function ia(t,e,n){return t=rt(6,t,null,e),t.lanes=n,t}function oa(t,e,n){return e=rt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Jb(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jl(0),this.expirationTimes=jl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Pc(t,e,n,r,i,o,s,l,a){return t=new Jb(t,e,n,l,a),e===1?(e=1,o===!0&&(e|=8)):e=0,o=rt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},lc(o),t}function e0(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function dv(t){if(!t)return Sn;t=t._reactInternals;e:{if(lr(t)!==t||t.tag!==1)throw Error(w(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(je(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(w(171))}if(t.tag===1){var n=t.type;if(je(n))return pf(t,n,e)}return e}function hv(t,e,n,r,i,o,s,l,a){return t=Pc(n,r,!0,t,i,o,s,l,a),t.context=dv(null),n=t.current,r=Le(),i=yn(n),o=It(r,i),o.callback=e??null,gn(n,o,i),t.current.lanes=i,_o(t,i,r),Ie(t,r),t}function dl(t,e,n,r){var i=e.current,o=Le(),s=yn(i);return n=dv(n),e.context===null?e.context=n:e.pendingContext=n,e=It(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=gn(i,e,s),t!==null&&(wt(t,i,s,o),as(t,i,s)),s}function Us(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Kd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ec(t,e){Kd(t,e),(t=t.alternate)&&Kd(t,e)}function t0(){return null}var mv=typeof reportError=="function"?reportError:function(t){console.error(t)};function kc(t){this._internalRoot=t}hl.prototype.render=kc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(w(409));dl(t,e,null,null)};hl.prototype.unmount=kc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Jn(function(){dl(null,t,null,null)}),e[Ut]=null}};function hl(t){this._internalRoot=t}hl.prototype.unstable_scheduleHydration=function(t){if(t){var e=Um();t={blockedOn:null,target:t,priority:e};for(var n=0;n<un.length&&e!==0&&e<un[n].priority;n++);un.splice(n,0,t),n===0&&Hm(t)}};function Sc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ml(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Hd(){}function n0(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Us(s);o.call(u)}}var s=hv(e,r,t,0,null,!1,!1,"",Hd);return t._reactRootContainer=s,t[Ut]=s.current,Yi(t.nodeType===8?t.parentNode:t),Jn(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Us(a);l.call(u)}}var a=Pc(t,0,!1,null,null,!1,!1,"",Hd);return t._reactRootContainer=a,t[Ut]=a.current,Yi(t.nodeType===8?t.parentNode:t),Jn(function(){dl(e,a,n,r)}),a}function fl(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var a=Us(s);l.call(a)}}dl(e,s,t,i)}else s=n0(n,e,t,i,r);return Us(s)}Bm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ti(e.pendingLanes);n!==0&&(qu(e,n|1),Ie(e,oe()),!(N&6)&&(Qr=oe()+500,Mn()))}break;case 13:Jn(function(){var r=Kt(t,1);if(r!==null){var i=Le();wt(r,t,1,i)}}),Ec(t,1)}};Gu=function(t){if(t.tag===13){var e=Kt(t,134217728);if(e!==null){var n=Le();wt(e,t,134217728,n)}Ec(t,134217728)}};Fm=function(t){if(t.tag===13){var e=yn(t),n=Kt(t,e);if(n!==null){var r=Le();wt(n,t,e,r)}Ec(t,e)}};Um=function(){return I};Km=function(t,e){var n=I;try{return I=t,e()}finally{I=n}};Ia=function(t,e,n){switch(e){case"input":if(Oa(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ol(r);if(!i)throw Error(w(90));ym(r),Oa(r,i)}}}break;case"textarea":xm(t,n);break;case"select":e=n.value,e!=null&&Or(t,!!n.multiple,e,!1)}};$m=bc;Tm=Jn;var r0={usingClientEntryPoint:!1,Events:[bo,kr,ol,Vm,Lm,bc]},_i={findFiberByHostInstance:Un,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},i0={bundleType:_i.bundleType,version:_i.version,rendererPackageName:_i.rendererPackageName,rendererConfig:_i.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Rm(t),t===null?null:t.stateNode},findFiberByHostInstance:_i.findFiberByHostInstance||t0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var es=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!es.isDisabled&&es.supportsFiber)try{tl=es.inject(i0),St=es}catch{}}We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r0;We.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sc(e))throw Error(w(200));return e0(t,e,null,n)};We.createRoot=function(t,e){if(!Sc(t))throw Error(w(299));var n=!1,r="",i=mv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Pc(t,1,!1,null,null,n,!1,r,i),t[Ut]=e.current,Yi(t.nodeType===8?t.parentNode:t),new kc(e)};We.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(w(188)):(t=Object.keys(t).join(","),Error(w(268,t)));return t=Rm(e),t=t===null?null:t.stateNode,t};We.flushSync=function(t){return Jn(t)};We.hydrate=function(t,e,n){if(!ml(e))throw Error(w(200));return fl(null,t,e,!0,n)};We.hydrateRoot=function(t,e,n){if(!Sc(t))throw Error(w(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=mv;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=hv(e,null,t,1,n??null,i,!1,o,s),t[Ut]=e.current,Yi(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new hl(e)};We.render=function(t,e,n){if(!ml(e))throw Error(w(200));return fl(null,t,e,!1,n)};We.unmountComponentAtNode=function(t){if(!ml(t))throw Error(w(40));return t._reactRootContainer?(Jn(function(){fl(null,null,t,!1,function(){t._reactRootContainer=null,t[Ut]=null})}),!0):!1};We.unstable_batchedUpdates=bc;We.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ml(n))throw Error(w(200));if(t==null||t._reactInternals===void 0)throw Error(w(38));return fl(t,e,n,!1,r)};We.version="18.2.0-next-9e3b772b8-20220608";function fv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fv)}catch(t){console.error(t)}}fv(),dm.exports=We;var o0=dm.exports,qd=o0;ka.createRoot=qd.createRoot,ka.hydrateRoot=qd.hydrateRoot;function s0(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t&&t.addEventListener&&t.addEventListener.apply(t,e)}function l0(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t&&t.removeEventListener&&t.removeEventListener.apply(t,e)}var a0=function(t,e){Ue.useEffect(function(){return t&&t(),function(){e&&e()}},[])},u0=function(){var t=Ue.useState(function(){return window.location.hash}),e=t[0],n=t[1],r=Ue.useCallback(function(){n(window.location.hash)},[]);a0(function(){s0(window,"hashchange",r)},function(){l0(window,"hashchange",r)});var i=Ue.useCallback(function(o){o!==e&&(window.location.hash=o)},[e]);return[e,i]};const c0=`#version 300 es

precision highp float;
uniform float t;
uniform vec2 r;

out vec4 outColor;

vec2 fragCoordToUV(vec2 r) {
  vec2 uv = vec2(gl_FragCoord.x / r.x, gl_FragCoord.y / r.y);
  return uv;
}
vec2 fragCoordToUV(vec2 r, bool center) {
  vec2 uv = fragCoordToUV(r);
  if (center == true) {
    uv -= 0.5; 
  }  
  uv /= vec2(r.y / r.x, 1.0);
  return uv;
}

/*
	hg_sdf by mercury
	mercury.sexy

	webgl port inspired by
	https://www.shadertoy.com/view/Xs3GRB
*/

const float PI = 3.14159265;
const float TAU = 2.0 * PI;
const float PHI = sqrt(5.0) * 0.5 + 0.5;

float saturate(float x) {
  return clamp(x, 0.0, 1.0);
}

float sgn(float x) {
  return x < 0.0
    ? -1.0
    : 1.0;
}
vec2 sgn(vec2 v) {
  return vec2(v.x < 0.0 ? -1.0 : 1.0, v.y < 0.0 ? -1.0 : 1.0);
}

float square(float x) {
  return x * x;
}
vec2 square(vec2 x) {
  return x * x;
}
vec3 square(vec3 x) {
  return x * x;
}

float lengthSqr(vec3 x) {
  return dot(x, x);
}

float vmax(vec2 v) {
  return max(v.x, v.y);
}
float vmax(vec3 v) {
  return max(max(v.x, v.y), v.z);
}
float vmax(vec4 v) {
  return max(max(v.x, v.y), max(v.z, v.w));
}

float vmin(vec2 v) {
  return min(v.x, v.y);
}
float vmin(vec3 v) {
  return min(min(v.x, v.y), v.z);
}
float vmin(vec4 v) {
  return min(min(v.x, v.y), min(v.z, v.w));
}

//             PRIMITIVE DISTANCE FUNCTIONS

float fSphere(vec3 p, float r) {
  return length(p) - r;
}

float fPlane(vec3 p, vec3 n, float distanceFromOrigin) {
  return dot(p, n) + distanceFromOrigin;
}

float fBoxCheap(vec3 p, vec3 b) {
  //cheap box
  return vmax(abs(p) - b);
}

float fBox(vec3 p, vec3 b) {
  vec3 d = abs(p) - b;
  return length(max(d, vec3(0))) + vmax(min(d, vec3(0)));
}

float fBox2Cheap(vec2 p, vec2 b) {
  return vmax(abs(p) - b);
}

float fBox2(vec2 p, vec2 b) {
  vec2 d = abs(p) - b;
  return length(max(d, vec2(0))) + vmax(min(d, vec2(0)));
}

float fCorner(vec2 p) {
  return length(max(p, vec2(0))) + vmax(min(p, vec2(0)));
}

float fCylinder(vec3 p, float r, float height) {
  float d = length(p.xz) - r;
  d = max(d, abs(p.y) - height);
  return d;
}

float fCapsule(vec3 p, float r, float c) {
  return mix(
    length(p.xz) - r,
    length(vec3(p.x, abs(p.y) - c, p.z)) - r,
    step(c, abs(p.y))
  );
}

float fLineSegment(vec3 p, vec3 a, vec3 b) {
  vec3 ab = b - a;
  float t = saturate(dot(p - a, ab) / dot(ab, ab));
  return length(ab * t + a - p);
}

float fCapsule(vec3 p, vec3 a, vec3 b, float r) {
  return fLineSegment(p, a, b) - r;
}

float fTorus(vec3 p, float smallRadius, float largeRadius) {
  return length(vec2(length(p.xz) - largeRadius, p.y)) - smallRadius;
}

float fCircle(vec3 p, float r) {
  float l = length(p.xz) - r;
  return length(vec2(p.y, l));
}

float fDisc(vec3 p, float r) {
  float l = length(p.xz) - r;
  return l < 0.0
    ? abs(p.y)
    : length(vec2(p.y, l));
}

float fHexagonCircumcircle(vec3 p, vec2 h) {
  vec3 q = abs(p);
  return max(q.y - h.y, max(q.x * sqrt(3.0) * 0.5 + q.z * 0.5, q.z) - h.x);
}

float fHexagonIncircle(vec3 p, vec2 h) {
  return fHexagonCircumcircle(p, vec2(h.x * sqrt(3.0) * 0.5, h.y));
}

float fCone(vec3 p, float radius, float height) {
  vec2 q = vec2(length(p.xz), p.y);
  vec2 tip = q - vec2(0, height);
  vec2 mantleDir = normalize(vec2(height, radius));
  float mantle = dot(tip, mantleDir);
  float d = max(mantle, -q.y);
  float projected = dot(tip, vec2(mantleDir.y, -mantleDir.x));

  // distance to tip
  if (q.y > height && projected < 0.0) {
    d = max(d, length(tip));
  }

  // distance to base ring
  if (q.x > radius && projected > length(vec2(height, radius))) {
    d = max(d, length(q - vec2(radius, 0)));
  }
  return d;
}

//                DOMAIN MANIPULATION OPERATORS

void pR(inout vec2 p, float a) {
  p = cos(a) * p + sin(a) * vec2(p.y, -p.x);
}

void pR45(inout vec2 p) {
  p = (p + vec2(p.y, -p.x)) * sqrt(0.5);
}

float pMod1(inout float p, float size) {
  float halfsize = size * 0.5;
  float c = floor((p + halfsize) / size);
  p = mod(p + halfsize, size) - halfsize;
  return c;
}

float pModMirror1(inout float p, float size) {
  float halfsize = size * 0.5;
  float c = floor((p + halfsize) / size);
  p = mod(p + halfsize, size) - halfsize;
  p *= mod(c, 2.0) * 2.0 - 1.0;
  return c;
}

float pModSingle1(inout float p, float size) {
  float halfsize = size * 0.5;
  float c = floor((p + halfsize) / size);
  if (p >= 0.0) p = mod(p + halfsize, size) - halfsize;
  return c;
}

float pModInterval1(inout float p, float size, float start, float stop) {
  float halfsize = size * 0.5;
  float c = floor((p + halfsize) / size);
  p = mod(p + halfsize, size) - halfsize;
  if (c > stop) {
    //yes, this might not be the best thing numerically.
    p += size * (c - stop);
    c = stop;
  }
  if (c < start) {
    p += size * (c - start);
    c = start;
  }
  return c;
}

float pModPolar(inout vec2 p, float repetitions) {
  float angle = 2.0 * PI / repetitions;
  float a = atan(p.y, p.x) + angle / 2.0;
  float r = length(p);
  float c = floor(a / angle);
  a = mod(a, angle) - angle / 2.0;
  p = vec2(cos(a), sin(a)) * r;
  if (abs(c) >= repetitions / 2.0) c = abs(c);
  return c;
}

vec2 pMod2(inout vec2 p, vec2 size) {
  vec2 c = floor((p + size * 0.5) / size);
  p = mod(p + size * 0.5, size) - size * 0.5;
  return c;
}

vec2 pModMirror2(inout vec2 p, vec2 size) {
  vec2 halfsize = size * 0.5;
  vec2 c = floor((p + halfsize) / size);
  p = mod(p + halfsize, size) - halfsize;
  p *= mod(c, vec2(2)) * 2.0 - vec2(1);
  return c;
}

vec2 pModGrid2(inout vec2 p, vec2 size) {
  vec2 c = floor((p + size * 0.5) / size);
  p = mod(p + size * 0.5, size) - size * 0.5;
  p *= mod(c, vec2(2)) * 2.0 - vec2(1);
  p -= size / 2.0;
  if (p.x > p.y) p.xy = p.yx;
  return floor(c / 2.0);
}

vec3 pMod3(inout vec3 p, vec3 size) {
  vec3 c = floor((p + size * 0.5) / size);
  p = mod(p + size * 0.5, size) - size * 0.5;
  return c;
}

float pMirror(inout float p, float dist) {
  float s = sgn(p);
  p = abs(p) - dist;
  return s;
}

vec2 pMirrorOctant(inout vec2 p, vec2 dist) {
  vec2 s = sgn(p);
  pMirror(p.x, dist.x);
  pMirror(p.y, dist.y);
  if (p.y > p.x) p.xy = p.yx;
  return s;
}

float pReflect(inout vec3 p, vec3 planeNormal, float offset) {
  float t = dot(p, planeNormal) + offset;
  if (t < 0.0) {
    p = p - 2.0 * t * planeNormal;
  }
  return sgn(t);
}

//             OBJECT COMBINATION OPERATORS

float fOpUnionChamfer(float a, float b, float r) {
  return min(min(a, b), (a - r + b) * sqrt(0.5));
}

float fOpIntersectionChamfer(float a, float b, float r) {
  return max(max(a, b), (a + r + b) * sqrt(0.5));
}

float fOpDifferenceChamfer(float a, float b, float r) {
  return fOpIntersectionChamfer(a, -b, r);
}

float fOpUnionRound(float a, float b, float r) {
  vec2 u = max(vec2(r - a, r - b), vec2(0));
  return max(r, min(a, b)) - length(u);
}

float fOpIntersectionRound(float a, float b, float r) {
  vec2 u = max(vec2(r + a, r + b), vec2(0));
  return min(-r, max(a, b)) + length(u);
}

float fOpDifferenceRound(float a, float b, float r) {
  return fOpIntersectionRound(a, -b, r);
}

float fOpUnionColumns(float a, float b, float r, float n) {
  if (a < r && b < r) {
    vec2 p = vec2(a, b);
    float columnradius = r * sqrt(2.0) / ((n - 1.0) * 2.0 + sqrt(2.0));
    pR45(p);
    p.x -= sqrt(2.0) / 2.0 * r;
    p.x += columnradius * sqrt(2.0);
    if (mod(n, 2.0) == 1.0) {
      p.y += columnradius;
    }

    pMod1(p.y, columnradius * 2.0);
    float result = length(p) - columnradius;
    result = min(result, p.x);
    result = min(result, a);
    return min(result, b);
  } else {
    return min(a, b);
  }
}

float fOpDifferenceColumns(float a, float b, float r, float n) {
  a = -a;
  float m = min(a, b);

  if (a < r && b < r) {
    vec2 p = vec2(a, b);
    float columnradius = r * sqrt(2.0) / n / 2.0;
    columnradius = r * sqrt(2.0) / ((n - 1.0) * 2.0 + sqrt(2.0));

    pR45(p);
    p.y += columnradius;
    p.x -= sqrt(2.0) / 2.0 * r;
    p.x += -columnradius * sqrt(2.0) / 2.0;

    if (mod(n, 2.0) == 1.0) {
      p.y += columnradius;
    }
    pMod1(p.y, columnradius * 2.0);

    float result = -length(p) + columnradius;
    result = max(result, p.x);
    result = min(result, a);
    return -min(result, b);
  } else {
    return -m;
  }
}

float fOpIntersectionColumns(float a, float b, float r, float n) {
  return fOpDifferenceColumns(a, -b, r, n);
}

float fOpUnionStairs(float a, float b, float r, float n) {
  float s = r / n;
  float u = b - r;
  return min(min(a, b), 0.5 * (u + a + abs(mod(u - a + s, 2.0 * s) - s)));
}

float fOpIntersectionStairs(float a, float b, float r, float n) {
  return -fOpUnionStairs(-a, -b, r, n);
}

float fOpDifferenceStairs(float a, float b, float r, float n) {
  return -fOpUnionStairs(-a, b, r, n);
}

float fOpUnionSoft(float a, float b, float r) {
  float e = max(r - abs(a - b), 0.0);
  return min(a, b) - e * e * 0.25 / r;
}

float fOpPipe(float a, float b, float r) {
  return length(vec2(a, b)) - r;
}

float fOpEngrave(float a, float b, float r) {
  return max(a, (a + r - abs(b)) * sqrt(0.5));
}

float fOpGroove(float a, float b, float ra, float rb) {
  return max(a, min(a + ra, rb - abs(b)));
}

float fOpTongue(float a, float b, float ra, float rb) {
  return min(a, max(a - ra, abs(b) - rb));
}

mat2 rotM(float t) {
  return mat2(cos(t), sin(t), -sin(t), cos(t));
}

float fCircle(vec2 p, float r) {
  return length(p) - r;
}

float fSkewBox(vec2 p, float wi, float he, float sk) {
  vec2 e = vec2(sk, he);
  p = p.y < 0.0 ? -p : p;
  vec2 w = p - e;
  w.x -= clamp(w.x, -wi, wi);
  vec2 d = vec2(dot(w, w), -w.y);
  float s = p.x * e.y - p.y * e.x;
  p = s < 0.0 ? -p : p;
  vec2 v = p - vec2(wi, 0);
  v -= e * clamp(dot(v, e) / dot(e, e), -1.0, 1.0);
  d = min(d, vec2(dot(v, v), wi * he - abs(s)));
  return sqrt(d.x) * sign(-d.y);
}

float opOnion(float dist, float thickness) {
  return abs(dist) - thickness;
}

float opSmooth(float d1, float d2, float k) {
  float h = clamp(0.5 + 0.5 * (d2 - d1) / k, 0., 1.);
  return mix(d2, d1, h) - k * h * (1.-h);
}

float opMin(float d1, float d2) {
    return max(-d1, d2);
}

float fBoxes(vec3 p, vec3 pos, vec3 b) {
    p.xy *= rotM(sin(t * 3.));
    p.y += sin(t * 2. + p.x * (1.2 + sin(t) / 2.));
    p = vec3(p.x, mod(p.y, 0.4), p.z);
    vec3 q = abs(p + pos) - b;
    return min(max(q.x, max(q.y, q.z)), 0.);
}

float sdSpheres(vec3 p) {
    p = p - mod(p, 0.16 * 0.1 - abs(cos(t)) / 5. );

    float spheres = 999.;
    for (int i = 0; i < 18; i++) {
        float p1 = t / 6. * float(i);
        float p2 = t / 7. * (5. - float(i));
        float p3 = t + float(i) * 2.;
      
        spheres = opSmooth(spheres, 
            fSphere(p + vec3(sin(p1)*3., cos(p2)*3., sin(p3)+12.), float(i) * 0.05), 1.);
    }
    
    return spheres;
}

vec2 map(vec3 p) {
    float s = fSphere(p + vec3(0.,0.,10.), 2.);
    float b = fBoxes(p, vec3(5.,0.,10.), vec3(10.,.2,5.));
    float bms = opMin(b,s);
    float ss = sdSpheres(p);
    
    return vec2(opSmooth(bms, ss, 0.5), ss < bms ? 1. : 0.);
}

vec3 tr(vec3 ro, vec3 rd){
    float td = 1.;
    vec2 h;
  
    vec3 c0 = vec3(0.);
    vec3 glo0 = vec3(abs(sin(t)) * 0.035,abs(cos(t)) * 0.035, 0.03);
    vec3 c1 = vec3(0.);
    
    vec3 glo1 = 0.015 
    * (0.5 + 0.5 * cos(t * 2. + rd.y*2. + vec3(4.,1.,0.))) 
    + 0.015 * (0.5 + 0.5 * cos(t * 3. + rd.y*5. + vec3(1.,4.,0.)));
  
    for (int i = 0; i < 100; i++) {
        h = map(ro + rd * td);
        td += h.x;
      
        if (h.y == 0.) c0 += glo0; 
        else c1 += glo1;
      
        if (h.x < 0.001 || h.x > 20.) break;
    }
    
    return c0 + c1;
}


void main() {
    vec2 uv = fragCoordToUV(r, true);

    vec3 ro= vec3(cos(t * 2.) / 4., sin(t * 2.93) * 0.2, 1.7);
    vec3 rd = normalize(vec3(uv, 0.) - ro);

    outColor = vec4(tr(ro, rd), 1);
}`,p0=`#version 300 es

precision highp float;
uniform float t;
uniform vec2 r;
uniform float squareSize;

out vec4 outColor;

vec2 fragCoordToUV(vec2 r) {
  vec2 uv = vec2(gl_FragCoord.x / r.x, gl_FragCoord.y / r.y);
  return uv;
}
vec2 fragCoordToUV(vec2 r, bool center) {
  vec2 uv = fragCoordToUV(r);
  if (center == true) {
    uv -= 0.5; 
  }  
  uv /= vec2(r.y / r.x, 1.0);
  return uv;
}

float checker(vec2 p, float repeats) {
  float cx = floor(repeats * p.x);
  float cy = floor(repeats * p.y); 
  float result = mod(cx + cy, 2.0);
  return sign(result);
}


void main() {
    vec2 uv = fragCoordToUV(r, true);
    float c = checker(uv + sin(t) / 10., 4. - squareSize + abs(sin(t)) * 4.);
    outColor = vec4(vec3(c), 1.);
}`,d0=`#version 300 es

precision highp float;
uniform float t;
uniform vec2 r;

out vec4 outColor;

vec2 fragCoordToUV(vec2 r) {
  vec2 uv = vec2(gl_FragCoord.x / r.x, gl_FragCoord.y / r.y);
  return uv;
}
vec2 fragCoordToUV(vec2 r, bool center) {
  vec2 uv = fragCoordToUV(r);
  if (center == true) {
    uv -= 0.5; 
  }  
  uv /= vec2(r.y / r.x, 1.0);
  return uv;
}

mat2 rotM(float t) {
  return mat2(cos(t), sin(t), -sin(t), cos(t));
}


float circle(vec2 p, float r) {
    return length(p) - r;
}

float rand(vec2 c){
	return fract(sin(dot(c.xy ,vec2(12.9898,78.233))) * 43758.5453);
}

float noise(vec2 p, float freq, float screenWidth){
	float unit = screenWidth/freq;
	vec2 ij = floor(p/unit);
	vec2 xy = mod(p,unit)/unit; 
	//xy = 3.*xy*xy-2.*xy*xy*xy;
	xy = .5*(1.-cos(3.14159*xy));
	float a = rand((ij+vec2(0.,0.)));
	float b = rand((ij+vec2(1.,0.)));
	float c = rand((ij+vec2(0.,1.)));
	float d = rand((ij+vec2(1.,1.)));
	float x1 = mix(a, b, xy.x);
	float x2 = mix(c, d, xy.x);
	return mix(x1, x2, xy.y);
}

float perlin2d(vec2 p, int res, float screenWidth){
	float persistance = .5;
	float n = 0.;
	float normK = 0.;
	float f = 4.;
	float amp = 1.;
	int iCount = 0;
	for (int i = 0; i<50; i++){
		n+=amp*noise(p, f, screenWidth);
		f*=2.;
		normK+=amp;
		amp*=persistance;
		if (iCount == res) break;
		iCount++;
	}
	float nf = n/normK;
	return nf*nf*nf*nf;
}

vec3 background(vec2 p) {
    float perlin = perlin2d(p + t * 0.2, 2, 3.);
    float perlin2 = perlin2d(p + t * 0.17, 2, 3.);

    float d = 999.;
    float m = 0.;

    float c1 = circle((p * 0.3 + vec2(0.3, 0.1) )  * vec2(.2, .2), 0.1)  + perlin * .5;
    
    float c2 = circle((p * 0.3  + vec2(-0.3, 0.1) ) * vec2(0.3, .15), 0.1) + perlin2 * .5;

    if (c1 < 0. && c1 < c2) {
        return fract(c1 * 200.) > 0.95 ? vec3(1.) : vec3(0.);
    } else if (c2 < 0. && c2 < c1) {
        return fract(c2 * 250.) > 0.95 ? vec3(1.) : vec3(0.);
    }

    return vec3(0.);
}

void main() {
    vec2 uv = fragCoordToUV(r, true);

    vec3 bg = background(uv);

    outColor = vec4(bg, 1.);
}`;/*! Tweakpane 4.0.3 (c) 2016 cocopon, licensed under the MIT license. */function F(t){return t==null}function Vc(t){return t!==null&&typeof t=="object"}function gu(t){return t!==null&&typeof t=="object"}function h0(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function er(t,e){return Array.from(new Set([...Object.keys(t),...Object.keys(e)])).reduce((r,i)=>{const o=t[i],s=e[i];return gu(o)&&gu(s)?Object.assign(Object.assign({},r),{[i]:er(o,s)}):Object.assign(Object.assign({},r),{[i]:i in e?s:o})},{})}function Lc(t){return Vc(t)?"target"in t:!1}const m0={alreadydisposed:()=>"View has been already disposed",invalidparams:t=>`Invalid parameters for '${t.name}'`,nomatchingcontroller:t=>`No matching controller for '${t.key}'`,nomatchingview:t=>`No matching view for '${JSON.stringify(t.params)}'`,notbindable:()=>"Value is not bindable",notcompatible:t=>`Not compatible with  plugin '${t.id}'`,propertynotfound:t=>`Property '${t.name}' not found`,shouldneverhappen:()=>"This error should never happen"};let Pe=class br{static alreadyDisposed(){return new br({type:"alreadydisposed"})}static notBindable(){return new br({type:"notbindable"})}static notCompatible(e,n){return new br({type:"notcompatible",context:{id:`${e}.${n}`}})}static propertyNotFound(e){return new br({type:"propertynotfound",context:{name:e}})}static shouldNeverHappen(){return new br({type:"shouldneverhappen"})}constructor(e){var n;this.message=(n=m0[e.type](e.context))!==null&&n!==void 0?n:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=e.type}toString(){return this.message}},Gd=class vv{constructor(e,n){this.obj_=e,this.key=n}static isBindable(e){return!(e===null||typeof e!="object"&&typeof e!="function")}read(){return this.obj_[this.key]}write(e){this.obj_[this.key]=e}writeProperty(e,n){const r=this.read();if(!vv.isBindable(r))throw Pe.notBindable();if(!(e in r))throw Pe.propertyNotFound(e);r[e]=n}},ae=class{constructor(){this.observers_={}}on(e,n,r){var i;let o=this.observers_[e];return o||(o=this.observers_[e]=[]),o.push({handler:n,key:(i=r==null?void 0:r.key)!==null&&i!==void 0?i:n}),this}off(e,n){const r=this.observers_[e];return r&&(this.observers_[e]=r.filter(i=>i.key!==n)),this}emit(e,n){const r=this.observers_[e];r&&r.forEach(i=>{i.handler(n)})}},f0=class{constructor(e,n){var r;this.constraint_=n==null?void 0:n.constraint,this.equals_=(r=n==null?void 0:n.equals)!==null&&r!==void 0?r:(i,o)=>i===o,this.emitter=new ae,this.rawValue_=e}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(e){this.setRawValue(e,{forceEmit:!1,last:!0})}setRawValue(e,n){const r=n??{forceEmit:!1,last:!0},i=this.constraint_?this.constraint_.constrain(e):e,o=this.rawValue_;this.equals_(o,i)&&!r.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=i,this.emitter.emit("change",{options:r,previousRawValue:o,rawValue:i,sender:this}))}},v0=class{constructor(e){this.emitter=new ae,this.value_=e}get rawValue(){return this.value_}set rawValue(e){this.setRawValue(e,{forceEmit:!1,last:!0})}setRawValue(e,n){const r=n??{forceEmit:!1,last:!0},i=this.value_;i===e&&!r.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.value_=e,this.emitter.emit("change",{options:r,previousRawValue:i,rawValue:this.value_,sender:this}))}},w0=class{constructor(e){this.emitter=new ae,this.onValueBeforeChange_=this.onValueBeforeChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.value_=e,this.value_.emitter.on("beforechange",this.onValueBeforeChange_),this.value_.emitter.on("change",this.onValueChange_)}get rawValue(){return this.value_.rawValue}onValueBeforeChange_(e){this.emitter.emit("beforechange",Object.assign(Object.assign({},e),{sender:this}))}onValueChange_(e){this.emitter.emit("change",Object.assign(Object.assign({},e),{sender:this}))}};function W(t,e){const n=e==null?void 0:e.constraint,r=e==null?void 0:e.equals;return!n&&!r?new v0(t):new f0(t,e)}function _0(t){return[new w0(t),(e,n)=>{t.setRawValue(e,n)}]}let M=class wv{constructor(e){this.emitter=new ae,this.valMap_=e;for(const n in this.valMap_)this.valMap_[n].emitter.on("change",()=>{this.emitter.emit("change",{key:n,sender:this})})}static createCore(e){return Object.keys(e).reduce((r,i)=>Object.assign(r,{[i]:W(e[i])}),{})}static fromObject(e){const n=this.createCore(e);return new wv(n)}get(e){return this.valMap_[e].rawValue}set(e,n){this.valMap_[e].rawValue=n}value(e){return this.valMap_[e]}},Co=class{constructor(e){this.values=M.fromObject({max:e.max,min:e.min})}constrain(e){const n=this.values.get("max"),r=this.values.get("min");return Math.min(Math.max(e,r),n)}},g0=class{constructor(e){this.values=M.fromObject({max:e.max,min:e.min})}constrain(e){const n=this.values.get("max"),r=this.values.get("min");let i=e;return F(r)||(i=Math.max(i,r)),F(n)||(i=Math.min(i,n)),i}},b0=class{constructor(e,n=0){this.step=e,this.origin=n}constrain(e){const n=this.origin%this.step,r=Math.round((e-n)/this.step);return n+r*this.step}},y0=class{constructor(e){this.text=e}evaluate(){return Number(this.text)}toString(){return this.text}};const C0={"**":(t,e)=>Math.pow(t,e),"*":(t,e)=>t*e,"/":(t,e)=>t/e,"%":(t,e)=>t%e,"+":(t,e)=>t+e,"-":(t,e)=>t-e,"<<":(t,e)=>t<<e,">>":(t,e)=>t>>e,">>>":(t,e)=>t>>>e,"&":(t,e)=>t&e,"^":(t,e)=>t^e,"|":(t,e)=>t|e};let x0=class{constructor(e,n,r){this.left=n,this.operator=e,this.right=r}evaluate(){const e=C0[this.operator];if(!e)throw new Error(`unexpected binary operator: '${this.operator}`);return e(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}};const P0={"+":t=>t,"-":t=>-t,"~":t=>~t};let E0=class{constructor(e,n){this.operator=e,this.expression=n}evaluate(){const e=P0[this.operator];if(!e)throw new Error(`unexpected unary operator: '${this.operator}`);return e(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}};function $c(t){return(e,n)=>{for(let r=0;r<t.length;r++){const i=t[r](e,n);if(i!=="")return i}return""}}function oo(t,e){var n;const r=t.substr(e).match(/^\s+/);return(n=r&&r[0])!==null&&n!==void 0?n:""}function k0(t,e){const n=t.substr(e,1);return n.match(/^[1-9]$/)?n:""}function so(t,e){var n;const r=t.substr(e).match(/^[0-9]+/);return(n=r&&r[0])!==null&&n!==void 0?n:""}function S0(t,e){const n=so(t,e);if(n!=="")return n;const r=t.substr(e,1);if(e+=1,r!=="-"&&r!=="+")return"";const i=so(t,e);return i===""?"":r+i}function Tc(t,e){const n=t.substr(e,1);if(e+=1,n.toLowerCase()!=="e")return"";const r=S0(t,e);return r===""?"":n+r}function _v(t,e){const n=t.substr(e,1);if(n==="0")return n;const r=k0(t,e);return e+=r.length,r===""?"":r+so(t,e)}function V0(t,e){const n=_v(t,e);if(e+=n.length,n==="")return"";const r=t.substr(e,1);if(e+=r.length,r!==".")return"";const i=so(t,e);return e+=i.length,n+r+i+Tc(t,e)}function L0(t,e){const n=t.substr(e,1);if(e+=n.length,n!==".")return"";const r=so(t,e);return e+=r.length,r===""?"":n+r+Tc(t,e)}function $0(t,e){const n=_v(t,e);return e+=n.length,n===""?"":n+Tc(t,e)}const T0=$c([V0,L0,$0]);function M0(t,e){var n;const r=t.substr(e).match(/^[01]+/);return(n=r&&r[0])!==null&&n!==void 0?n:""}function O0(t,e){const n=t.substr(e,2);if(e+=n.length,n.toLowerCase()!=="0b")return"";const r=M0(t,e);return r===""?"":n+r}function R0(t,e){var n;const r=t.substr(e).match(/^[0-7]+/);return(n=r&&r[0])!==null&&n!==void 0?n:""}function N0(t,e){const n=t.substr(e,2);if(e+=n.length,n.toLowerCase()!=="0o")return"";const r=R0(t,e);return r===""?"":n+r}function D0(t,e){var n;const r=t.substr(e).match(/^[0-9a-f]+/i);return(n=r&&r[0])!==null&&n!==void 0?n:""}function A0(t,e){const n=t.substr(e,2);if(e+=n.length,n.toLowerCase()!=="0x")return"";const r=D0(t,e);return r===""?"":n+r}const z0=$c([O0,N0,A0]),j0=$c([z0,T0]);function I0(t,e){const n=j0(t,e);return e+=n.length,n===""?null:{evaluable:new y0(n),cursor:e}}function B0(t,e){const n=t.substr(e,1);if(e+=n.length,n!=="(")return null;const r=bv(t,e);if(!r)return null;e=r.cursor,e+=oo(t,e).length;const i=t.substr(e,1);return e+=i.length,i!==")"?null:{evaluable:r.evaluable,cursor:e}}function F0(t,e){var n;return(n=I0(t,e))!==null&&n!==void 0?n:B0(t,e)}function gv(t,e){const n=F0(t,e);if(n)return n;const r=t.substr(e,1);if(e+=r.length,r!=="+"&&r!=="-"&&r!=="~")return null;const i=gv(t,e);return i?(e=i.cursor,{cursor:e,evaluable:new E0(r,i.evaluable)}):null}function U0(t,e,n){n+=oo(e,n).length;const r=t.filter(i=>e.startsWith(i,n))[0];return r?(n+=r.length,n+=oo(e,n).length,{cursor:n,operator:r}):null}function K0(t,e){return(n,r)=>{const i=t(n,r);if(!i)return null;r=i.cursor;let o=i.evaluable;for(;;){const s=U0(e,n,r);if(!s)break;r=s.cursor;const l=t(n,r);if(!l)return null;r=l.cursor,o=new x0(s.operator,o,l.evaluable)}return o?{cursor:r,evaluable:o}:null}}const H0=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((t,e)=>K0(t,e),gv);function bv(t,e){return e+=oo(t,e).length,H0(t,e)}function q0(t){const e=bv(t,0);return!e||e.cursor+oo(t,e.cursor).length!==t.length?null:e.evaluable}function qt(t){var e;const n=q0(t);return(e=n==null?void 0:n.evaluate())!==null&&e!==void 0?e:null}function yv(t){if(typeof t=="number")return t;if(typeof t=="string"){const e=qt(t);if(!F(e))return e}return 0}function G0(t){return String(t)}function Be(t){return e=>e.toFixed(Math.max(Math.min(t,20),0))}function z(t,e,n,r,i){const o=(t-e)/(n-e);return r+o*(i-r)}function Wd(t){return String(t.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function pe(t,e,n){return Math.min(Math.max(t,e),n)}function Cv(t,e){return(t%e+e)%e}function W0(t,e){return F(t.step)?Math.max(Wd(e),2):Wd(t.step)}function xv(t){var e;return(e=t.step)!==null&&e!==void 0?e:1}function Pv(t,e){var n;const r=Math.abs((n=t.step)!==null&&n!==void 0?n:e);return r===0?.1:Math.pow(10,Math.floor(Math.log10(r))-1)}function Ev(t,e){return F(t.step)?null:new b0(t.step,e)}function kv(t){return!F(t.max)&&!F(t.min)?new Co({max:t.max,min:t.min}):!F(t.max)||!F(t.min)?new g0({max:t.max,min:t.min}):null}function Sv(t,e){var n,r,i;return{formatter:(n=t.format)!==null&&n!==void 0?n:Be(W0(t,e)),keyScale:(r=t.keyScale)!==null&&r!==void 0?r:xv(t),pointerScale:(i=t.pointerScale)!==null&&i!==void 0?i:Pv(t,e)}}function Vv(t){return{format:t.optional.function,keyScale:t.optional.number,max:t.optional.number,min:t.optional.number,pointerScale:t.optional.number,step:t.optional.number}}function Mc(t){return{constraint:t.constraint,textProps:M.fromObject(Sv(t.params,t.initialValue))}}let ar=class{constructor(e){this.controller=e}get element(){return this.controller.view.element}get disabled(){return this.controller.viewProps.get("disabled")}set disabled(e){this.controller.viewProps.set("disabled",e)}get hidden(){return this.controller.viewProps.get("hidden")}set hidden(e){this.controller.viewProps.set("hidden",e)}dispose(){this.controller.viewProps.set("disposed",!0)}importState(e){return this.controller.importState(e)}exportState(){return this.controller.exportState()}},vl=class{constructor(e){this.target=e}},xo=class extends vl{constructor(e,n,r){super(e),this.value=n,this.last=r??!0}},Q0=class extends vl{constructor(e,n){super(e),this.expanded=n}},Y0=class extends vl{constructor(e,n){super(e),this.index=n}};class X0 extends vl{constructor(e,n){super(e),this.native=n}}let lo=class extends ar{constructor(e){super(e),this.onValueChange_=this.onValueChange_.bind(this),this.emitter_=new ae,this.controller.value.emitter.on("change",this.onValueChange_)}get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get key(){return this.controller.value.binding.target.key}get tag(){return this.controller.tag}set tag(e){this.controller.tag=e}on(e,n){const r=n.bind(this);return this.emitter_.on(e,i=>{r(i)},{key:n}),this}off(e,n){return this.emitter_.off(e,n),this}refresh(){this.controller.value.fetch()}onValueChange_(e){const n=this.controller.value;this.emitter_.emit("change",new xo(this,n.binding.target.read(),e.options.last))}};class Z0{constructor(e,n){this.onValueBeforeChange_=this.onValueBeforeChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.binding=n,this.value_=e,this.value_.emitter.on("beforechange",this.onValueBeforeChange_),this.value_.emitter.on("change",this.onValueChange_),this.emitter=new ae}get rawValue(){return this.value_.rawValue}set rawValue(e){this.value_.rawValue=e}setRawValue(e,n){this.value_.setRawValue(e,n)}fetch(){this.value_.rawValue=this.binding.read()}push(){this.binding.write(this.value_.rawValue)}onValueBeforeChange_(e){this.emitter.emit("beforechange",Object.assign(Object.assign({},e),{sender:this}))}onValueChange_(e){this.push(),this.emitter.emit("change",Object.assign(Object.assign({},e),{sender:this}))}}function J0(t){if(!("binding"in t))return!1;const e=t.binding;return Lc(e)&&"read"in e&&"write"in e}function ey(t,e){const r=Object.keys(e).reduce((i,o)=>{if(i===void 0)return;const s=e[o],l=s(t[o]);return l.succeeded?Object.assign(Object.assign({},i),{[o]:l.value}):void 0},{});return r}function ty(t,e){return t.reduce((n,r)=>{if(n===void 0)return;const i=e(r);if(!(!i.succeeded||i.value===void 0))return[...n,i.value]},[])}function ny(t){return t===null?!1:typeof t=="object"}function Mt(t){return e=>n=>{if(!e&&n===void 0)return{succeeded:!1,value:void 0};if(e&&n===void 0)return{succeeded:!0,value:void 0};const r=t(n);return r!==void 0?{succeeded:!0,value:r}:{succeeded:!1,value:void 0}}}function Qd(t){return{custom:e=>Mt(e)(t),boolean:Mt(e=>typeof e=="boolean"?e:void 0)(t),number:Mt(e=>typeof e=="number"?e:void 0)(t),string:Mt(e=>typeof e=="string"?e:void 0)(t),function:Mt(e=>typeof e=="function"?e:void 0)(t),constant:e=>Mt(n=>n===e?e:void 0)(t),raw:Mt(e=>e)(t),object:e=>Mt(n=>{if(ny(n))return ey(n,e)})(t),array:e=>Mt(n=>{if(Array.isArray(n))return ty(n,e)})(t)}}const bu={optional:Qd(!0),required:Qd(!1)};function J(t,e){const n=e(bu),r=bu.required.object(n)(t);return r.succeeded?r.value:void 0}function Ye(t,e,n,r){if(e&&!e(t))return!1;const i=J(t,n);return i?r(i):!1}function Xe(t,e){var n;return er((n=t==null?void 0:t())!==null&&n!==void 0?n:{},e)}function Wn(t){return"value"in t}function Lv(t){if(!Vc(t)||!("binding"in t))return!1;const e=t.binding;return Lc(e)}const kt="http://www.w3.org/2000/svg";function Ks(t){t.offsetHeight}function ry(t,e){const n=t.style.transition;t.style.transition="none",e(),t.style.transition=n}function Oc(t){return t.ontouchstart!==void 0}function iy(){return globalThis}function oy(){return iy().document}function sy(t){const e=t.ownerDocument.defaultView;return e&&"document"in e?t.getContext("2d",{willReadFrequently:!0}):null}const ly={check:'<path d="M2 8l4 4l8 -8"/>',dropdown:'<path d="M5 7h6l-3 3 z"/>',p2dpad:'<path d="M8 4v8"/><path d="M4 8h8"/><circle cx="12" cy="12" r="1.2"/>'};function wl(t,e){const n=t.createElementNS(kt,"svg");return n.innerHTML=ly[e],n}function $v(t,e,n){t.insertBefore(e,t.children[n])}function Rc(t){t.parentElement&&t.parentElement.removeChild(t)}function Tv(t){for(;t.children.length>0;)t.removeChild(t.children[0])}function ay(t){for(;t.childNodes.length>0;)t.removeChild(t.childNodes[0])}function Mv(t){return t.relatedTarget?t.relatedTarget:"explicitOriginalTarget"in t?t.explicitOriginalTarget:null}function Bt(t,e){t.emitter.on("change",n=>{e(n.rawValue)}),e(t.rawValue)}function Lt(t,e,n){Bt(t.value(e),n)}const uy="tp";function D(t){return(n,r)=>[uy,"-",t,"v",n?`_${n}`:"",r?`-${r}`:""].join("")}const gi=D("lbl");function cy(t,e){const n=t.createDocumentFragment();return e.split(`
`).map(i=>t.createTextNode(i)).forEach((i,o)=>{o>0&&n.appendChild(t.createElement("br")),n.appendChild(i)}),n}let Ov=class{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(gi()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(gi("l")),Lt(n.props,"label",o=>{F(o)?this.element.classList.add(gi(void 0,"nol")):(this.element.classList.remove(gi(void 0,"nol")),ay(r),r.appendChild(cy(e,o)))}),this.element.appendChild(r),this.labelElement=r;const i=e.createElement("div");i.classList.add(gi("v")),this.element.appendChild(i),this.valueElement=i}},Rv=class{constructor(e,n){this.props=n.props,this.valueController=n.valueController,this.viewProps=n.valueController.viewProps,this.view=new Ov(e,{props:n.props,viewProps:this.viewProps}),this.view.valueElement.appendChild(this.valueController.view.element)}importProps(e){return Ye(e,null,n=>({label:n.optional.string}),n=>(this.props.set("label",n.label),!0))}exportProps(){return Xe(null,{label:this.props.get("label")})}};function py(){return["veryfirst","first","last","verylast"]}const Yd=D(""),Xd={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"};let _l=class{constructor(e){this.parent_=null,this.blade=e.blade,this.view=e.view,this.viewProps=e.viewProps;const n=this.view.element;this.blade.value("positions").emitter.on("change",()=>{py().forEach(r=>{n.classList.remove(Yd(void 0,Xd[r]))}),this.blade.get("positions").forEach(r=>{n.classList.add(Yd(void 0,Xd[r]))})}),this.viewProps.handleDispose(()=>{Rc(n)})}get parent(){return this.parent_}set parent(e){this.parent_=e,this.viewProps.set("parent",this.parent_?this.parent_.viewProps:null)}importState(e){return Ye(e,null,n=>({disabled:n.required.boolean,hidden:n.required.boolean}),n=>(this.viewProps.importState(n),!0))}exportState(){return Xe(null,Object.assign({},this.viewProps.exportState()))}},tr=class extends _l{constructor(e,n){if(n.value!==n.valueController.value)throw Pe.shouldNeverHappen();const r=n.valueController.viewProps,i=new Rv(e,{blade:n.blade,props:n.props,valueController:n.valueController});super(Object.assign(Object.assign({},n),{view:new Ov(e,{props:n.props,viewProps:r}),viewProps:r})),this.labelController=i,this.value=n.value,this.valueController=n.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}importState(e){return Ye(e,n=>{var r,i,o;return super.importState(n)&&this.labelController.importProps(n)&&((o=(i=(r=this.valueController).importProps)===null||i===void 0?void 0:i.call(r,e))!==null&&o!==void 0?o:!0)},n=>({value:n.optional.raw}),n=>(n.value&&(this.value.rawValue=n.value),!0))}exportState(){var e,n,r;return Xe(()=>super.exportState(),Object.assign(Object.assign({value:this.value.rawValue},this.labelController.exportProps()),(r=(n=(e=this.valueController).exportProps)===null||n===void 0?void 0:n.call(e))!==null&&r!==void 0?r:{}))}};function Zd(t){const e=Object.assign({},t);return delete e.value,e}class Nv extends tr{constructor(e,n){super(e,n),this.tag=n.tag}importState(e){return Ye(e,n=>super.importState(Zd(e)),n=>({tag:n.optional.string}),n=>(this.tag=n.tag,!0))}exportState(){return Xe(()=>Zd(super.exportState()),{binding:{key:this.value.binding.target.key,value:this.value.binding.target.read()},tag:this.tag})}}function dy(t){return Wn(t)&&Lv(t.value)}class hy extends Nv{importState(e){return Ye(e,n=>super.importState(n),n=>({binding:n.required.object({value:n.required.raw})}),n=>(this.value.binding.inject(n.binding.value),this.value.fetch(),!0))}}function my(t){return Wn(t)&&J0(t.value)}function Dv(t,e){for(;t.length<e;)t.push(void 0)}function fy(t){const e=[];return Dv(e,t),e}function vy(t){const e=t.indexOf(void 0);return e<0?t:t.slice(0,e)}function wy(t,e){const n=[...vy(t),e];return n.length>t.length?n.splice(0,n.length-t.length):Dv(n,t.length),n}class _y{constructor(e){this.emitter=new ae,this.onTick_=this.onTick_.bind(this),this.onValueBeforeChange_=this.onValueBeforeChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.binding=e.binding,this.value_=W(fy(e.bufferSize)),this.value_.emitter.on("beforechange",this.onValueBeforeChange_),this.value_.emitter.on("change",this.onValueChange_),this.ticker=e.ticker,this.ticker.emitter.on("tick",this.onTick_),this.fetch()}get rawValue(){return this.value_.rawValue}set rawValue(e){this.value_.rawValue=e}setRawValue(e,n){this.value_.setRawValue(e,n)}fetch(){this.value_.rawValue=wy(this.value_.rawValue,this.binding.read())}onTick_(){this.fetch()}onValueBeforeChange_(e){this.emitter.emit("beforechange",Object.assign(Object.assign({},e),{sender:this}))}onValueChange_(e){this.emitter.emit("change",Object.assign(Object.assign({},e),{sender:this}))}}function gy(t){if(!("binding"in t))return!1;const e=t.binding;return Lc(e)&&"read"in e&&!("write"in e)}class by extends Nv{exportState(){return Xe(()=>super.exportState(),{binding:{readonly:!0}})}}function yy(t){return Wn(t)&&gy(t.value)}let Cy=class extends ar{get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get title(){var e;return(e=this.controller.buttonController.props.get("title"))!==null&&e!==void 0?e:""}set title(e){this.controller.buttonController.props.set("title",e)}on(e,n){const r=n.bind(this);return this.controller.buttonController.emitter.on(e,o=>{r(new X0(this,o.nativeEvent))}),this}off(e,n){return this.controller.buttonController.emitter.off(e,n),this}};function xy(t,e,n){n?t.classList.add(e):t.classList.remove(e)}function ni(t,e){return n=>{xy(t,e,n)}}function Nc(t,e){Bt(t,n=>{e.textContent=n??""})}const sa=D("btn");let Py=class{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(sa()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("button");r.classList.add(sa("b")),n.viewProps.bindDisabled(r),this.element.appendChild(r),this.buttonElement=r;const i=e.createElement("div");i.classList.add(sa("t")),Nc(n.props.value("title"),i),this.buttonElement.appendChild(i)}},Ey=class{constructor(e,n){this.emitter=new ae,this.onClick_=this.onClick_.bind(this),this.props=n.props,this.viewProps=n.viewProps,this.view=new Py(e,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}importProps(e){return Ye(e,null,n=>({title:n.optional.string}),n=>(this.props.set("title",n.title),!0))}exportProps(){return Xe(null,{title:this.props.get("title")})}onClick_(e){this.emitter.emit("click",{nativeEvent:e,sender:this})}},Jd=class extends _l{constructor(e,n){const r=new Ey(e,{props:n.buttonProps,viewProps:n.viewProps}),i=new Rv(e,{blade:n.blade,props:n.labelProps,valueController:r});super({blade:n.blade,view:i.view,viewProps:n.viewProps}),this.buttonController=r,this.labelController=i}importState(e){return Ye(e,n=>super.importState(n)&&this.buttonController.importProps(n)&&this.labelController.importProps(n),()=>({}),()=>!0)}exportState(){return Xe(()=>super.exportState(),Object.assign(Object.assign({},this.buttonController.exportProps()),this.labelController.exportProps()))}},Av=class{constructor(e){const[n,r]=e.split("-"),i=n.split(".");this.major=parseInt(i[0],10),this.minor=parseInt(i[1],10),this.patch=parseInt(i[2],10),this.prerelease=r??null}toString(){const e=[this.major,this.minor,this.patch].join(".");return this.prerelease!==null?[e,this.prerelease].join("-"):e}};const ri=new Av("2.0.3");function Re(t){return Object.assign({core:ri},t)}const ky=Re({id:"button",type:"blade",accept(t){const e=J(t,n=>({title:n.required.string,view:n.required.constant("button"),label:n.optional.string}));return e?{params:e}:null},controller(t){return new Jd(t.document,{blade:t.blade,buttonProps:M.fromObject({title:t.params.title}),labelProps:M.fromObject({label:t.params.label}),viewProps:t.viewProps})},api(t){return t.controller instanceof Jd?new Cy(t.controller):null}});function Sy(t,e){return t.addBlade(Object.assign(Object.assign({},e),{view:"button"}))}function Vy(t,e){return t.addBlade(Object.assign(Object.assign({},e),{view:"folder"}))}function Ly(t,e){return t.addBlade(Object.assign(Object.assign({},e),{view:"tab"}))}function $y(t){return Vc(t)?"refresh"in t&&typeof t.refresh=="function":!1}function Ty(t,e){if(!Gd.isBindable(t))throw Pe.notBindable();return new Gd(t,e)}let My=class{constructor(e,n){this.onRackValueChange_=this.onRackValueChange_.bind(this),this.controller_=e,this.emitter_=new ae,this.pool_=n,this.controller_.rack.emitter.on("valuechange",this.onRackValueChange_)}get children(){return this.controller_.rack.children.map(e=>this.pool_.createApi(e))}addBinding(e,n,r){const i=r??{},o=this.controller_.element.ownerDocument,s=this.pool_.createBinding(o,Ty(e,n),i),l=this.pool_.createBindingApi(s);return this.add(l,i.index)}addFolder(e){return Vy(this,e)}addButton(e){return Sy(this,e)}addTab(e){return Ly(this,e)}add(e,n){const r=e.controller;return this.controller_.rack.add(r,n),e}remove(e){this.controller_.rack.remove(e.controller)}addBlade(e){const n=this.controller_.element.ownerDocument,r=this.pool_.createBlade(n,e),i=this.pool_.createApi(r);return this.add(i,e.index)}on(e,n){const r=n.bind(this);return this.emitter_.on(e,i=>{r(i)},{key:n}),this}off(e,n){return this.emitter_.off(e,n),this}refresh(){this.children.forEach(e=>{$y(e)&&e.refresh()})}onRackValueChange_(e){const n=e.bladeController,r=this.pool_.createApi(n),i=Lv(n.value)?n.value.binding:null;this.emitter_.emit("change",new xo(r,i?i.target.read():n.value.rawValue,e.options.last))}},Dc=class extends ar{constructor(e,n){super(e),this.rackApi_=new My(e.rackController,n)}refresh(){this.rackApi_.refresh()}},Ac=class extends _l{constructor(e){super({blade:e.blade,view:e.view,viewProps:e.rackController.viewProps}),this.rackController=e.rackController}importState(e){return Ye(e,n=>super.importState(n),n=>({children:n.required.array(n.required.raw)}),n=>this.rackController.rack.children.every((r,i)=>r.importState(n.children[i])))}exportState(){return Xe(()=>super.exportState(),{children:this.rackController.rack.children.map(e=>e.exportState())})}};function yu(t){return"rackController"in t}let Oy=class{constructor(e){this.emitter=new ae,this.items_=[],this.cache_=new Set,this.onSubListAdd_=this.onSubListAdd_.bind(this),this.onSubListRemove_=this.onSubListRemove_.bind(this),this.extract_=e}get items(){return this.items_}allItems(){return Array.from(this.cache_)}find(e){for(const n of this.allItems())if(e(n))return n;return null}includes(e){return this.cache_.has(e)}add(e,n){if(this.includes(e))throw Pe.shouldNeverHappen();const r=n!==void 0?n:this.items_.length;this.items_.splice(r,0,e),this.cache_.add(e);const i=this.extract_(e);i&&(i.emitter.on("add",this.onSubListAdd_),i.emitter.on("remove",this.onSubListRemove_),i.allItems().forEach(o=>{this.cache_.add(o)})),this.emitter.emit("add",{index:r,item:e,root:this,target:this})}remove(e){const n=this.items_.indexOf(e);if(n<0)return;this.items_.splice(n,1),this.cache_.delete(e);const r=this.extract_(e);r&&(r.allItems().forEach(i=>{this.cache_.delete(i)}),r.emitter.off("add",this.onSubListAdd_),r.emitter.off("remove",this.onSubListRemove_)),this.emitter.emit("remove",{index:n,item:e,root:this,target:this})}onSubListAdd_(e){this.cache_.add(e.item),this.emitter.emit("add",{index:e.index,item:e.item,root:this,target:e.target})}onSubListRemove_(e){this.cache_.delete(e.item),this.emitter.emit("remove",{index:e.index,item:e.item,root:this,target:e.target})}};function Ry(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(Wn(r)&&r.value===e)return r}return null}function Ny(t){return yu(t)?t.rackController.rack.bcSet_:null}let Dy=class{constructor(e){var n,r;this.emitter=new ae,this.onBladePositionsChange_=this.onBladePositionsChange_.bind(this),this.onSetAdd_=this.onSetAdd_.bind(this),this.onSetRemove_=this.onSetRemove_.bind(this),this.onChildDispose_=this.onChildDispose_.bind(this),this.onChildPositionsChange_=this.onChildPositionsChange_.bind(this),this.onChildValueChange_=this.onChildValueChange_.bind(this),this.onChildViewPropsChange_=this.onChildViewPropsChange_.bind(this),this.onRackLayout_=this.onRackLayout_.bind(this),this.onRackValueChange_=this.onRackValueChange_.bind(this),this.blade_=(n=e.blade)!==null&&n!==void 0?n:null,(r=this.blade_)===null||r===void 0||r.value("positions").emitter.on("change",this.onBladePositionsChange_),this.viewProps=e.viewProps,this.bcSet_=new Oy(Ny),this.bcSet_.emitter.on("add",this.onSetAdd_),this.bcSet_.emitter.on("remove",this.onSetRemove_)}get children(){return this.bcSet_.items}add(e,n){var r;(r=e.parent)===null||r===void 0||r.remove(e),e.parent=this,this.bcSet_.add(e,n)}remove(e){e.parent=null,this.bcSet_.remove(e)}find(e){return this.bcSet_.allItems().filter(e)}onSetAdd_(e){this.updatePositions_();const n=e.target===e.root;if(this.emitter.emit("add",{bladeController:e.item,index:e.index,root:n,sender:this}),!n)return;const r=e.item;if(r.viewProps.emitter.on("change",this.onChildViewPropsChange_),r.blade.value("positions").emitter.on("change",this.onChildPositionsChange_),r.viewProps.handleDispose(this.onChildDispose_),Wn(r))r.value.emitter.on("change",this.onChildValueChange_);else if(yu(r)){const i=r.rackController.rack;if(i){const o=i.emitter;o.on("layout",this.onRackLayout_),o.on("valuechange",this.onRackValueChange_)}}}onSetRemove_(e){this.updatePositions_();const n=e.target===e.root;if(this.emitter.emit("remove",{bladeController:e.item,root:n,sender:this}),!n)return;const r=e.item;if(Wn(r))r.value.emitter.off("change",this.onChildValueChange_);else if(yu(r)){const i=r.rackController.rack;if(i){const o=i.emitter;o.off("layout",this.onRackLayout_),o.off("valuechange",this.onRackValueChange_)}}}updatePositions_(){const e=this.bcSet_.items.filter(i=>!i.viewProps.get("hidden")),n=e[0],r=e[e.length-1];this.bcSet_.items.forEach(i=>{const o=[];i===n&&(o.push("first"),(!this.blade_||this.blade_.get("positions").includes("veryfirst"))&&o.push("veryfirst")),i===r&&(o.push("last"),(!this.blade_||this.blade_.get("positions").includes("verylast"))&&o.push("verylast")),i.blade.set("positions",o)})}onChildPositionsChange_(){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildViewPropsChange_(e){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildDispose_(){this.bcSet_.items.filter(n=>n.viewProps.get("disposed")).forEach(n=>{this.bcSet_.remove(n)})}onChildValueChange_(e){const n=Ry(this.find(Wn),e.sender);if(!n)throw Pe.alreadyDisposed();this.emitter.emit("valuechange",{bladeController:n,options:e.options,sender:this})}onRackLayout_(e){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onRackValueChange_(e){this.emitter.emit("valuechange",{bladeController:e.bladeController,options:e.options,sender:this})}onBladePositionsChange_(){this.updatePositions_()}},zc=class{constructor(e){this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this),this.element=e.element,this.viewProps=e.viewProps;const n=new Dy({blade:e.root?void 0:e.blade,viewProps:e.viewProps});n.emitter.on("add",this.onRackAdd_),n.emitter.on("remove",this.onRackRemove_),this.rack=n,this.viewProps.handleDispose(()=>{for(let r=this.rack.children.length-1;r>=0;r--)this.rack.children[r].viewProps.set("disposed",!0)})}onRackAdd_(e){e.root&&$v(this.element,e.bladeController.view.element,e.index)}onRackRemove_(e){e.root&&Rc(e.bladeController.view.element)}};function ii(){return new M({positions:W([],{equals:h0})})}let jc=class zv extends M{constructor(e){super(e)}static create(e){const n={completed:!0,expanded:e,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},r=M.createCore(n);return new zv(r)}get styleExpanded(){var e;return(e=this.get("temporaryExpanded"))!==null&&e!==void 0?e:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";const e=this.get("expandedHeight");return this.get("shouldFixHeight")&&!F(e)?`${e}px`:"auto"}bindExpandedClass(e,n){const r=()=>{this.styleExpanded?e.classList.add(n):e.classList.remove(n)};Lt(this,"expanded",r),Lt(this,"temporaryExpanded",r)}cleanUpTransition(){this.set("shouldFixHeight",!1),this.set("expandedHeight",null),this.set("completed",!0)}};function Ay(t,e){let n=0;return ry(e,()=>{t.set("expandedHeight",null),t.set("temporaryExpanded",!0),Ks(e),n=e.clientHeight,t.set("temporaryExpanded",null),Ks(e)}),n}function eh(t,e){e.style.height=t.styleHeight}function Ic(t,e){t.value("expanded").emitter.on("beforechange",()=>{if(t.set("completed",!1),F(t.get("expandedHeight"))){const n=Ay(t,e);n>0&&t.set("expandedHeight",n)}t.set("shouldFixHeight",!0),Ks(e)}),t.emitter.on("change",()=>{eh(t,e)}),eh(t,e),e.addEventListener("transitionend",n=>{n.propertyName==="height"&&t.cleanUpTransition()})}let jv=class extends Dc{constructor(e,n){super(e,n),this.emitter_=new ae,this.controller.foldable.value("expanded").emitter.on("change",r=>{this.emitter_.emit("fold",new Q0(this,r.sender.rawValue))}),this.rackApi_.on("change",r=>{this.emitter_.emit("change",r)})}get expanded(){return this.controller.foldable.get("expanded")}set expanded(e){this.controller.foldable.set("expanded",e)}get title(){return this.controller.props.get("title")}set title(e){this.controller.props.set("title",e)}get children(){return this.rackApi_.children}addBinding(e,n,r){return this.rackApi_.addBinding(e,n,r)}addFolder(e){return this.rackApi_.addFolder(e)}addButton(e){return this.rackApi_.addButton(e)}addTab(e){return this.rackApi_.addTab(e)}add(e,n){return this.rackApi_.add(e,n)}remove(e){this.rackApi_.remove(e)}addBlade(e){return this.rackApi_.addBlade(e)}on(e,n){const r=n.bind(this);return this.emitter_.on(e,i=>{r(i)},{key:n}),this}off(e,n){return this.emitter_.off(e,n),this}};const Iv=D("cnt");let zy=class{constructor(e,n){var r;this.className_=D((r=n.viewName)!==null&&r!==void 0?r:"fld"),this.element=e.createElement("div"),this.element.classList.add(this.className_(),Iv()),n.viewProps.bindClassModifiers(this.element),this.foldable_=n.foldable,this.foldable_.bindExpandedClass(this.element,this.className_(void 0,"expanded")),Lt(this.foldable_,"completed",ni(this.element,this.className_(void 0,"cpl")));const i=e.createElement("button");i.classList.add(this.className_("b")),Lt(n.props,"title",u=>{F(u)?this.element.classList.add(this.className_(void 0,"not")):this.element.classList.remove(this.className_(void 0,"not"))}),n.viewProps.bindDisabled(i),this.element.appendChild(i),this.buttonElement=i;const o=e.createElement("div");o.classList.add(this.className_("i")),this.element.appendChild(o);const s=e.createElement("div");s.classList.add(this.className_("t")),Nc(n.props.value("title"),s),this.buttonElement.appendChild(s),this.titleElement=s;const l=e.createElement("div");l.classList.add(this.className_("m")),this.buttonElement.appendChild(l);const a=e.createElement("div");a.classList.add(this.className_("c")),this.element.appendChild(a),this.containerElement=a}},Cu=class extends Ac{constructor(e,n){var r;const i=jc.create((r=n.expanded)!==null&&r!==void 0?r:!0),o=new zy(e,{foldable:i,props:n.props,viewName:n.root?"rot":void 0,viewProps:n.viewProps});super(Object.assign(Object.assign({},n),{rackController:new zc({blade:n.blade,element:o.containerElement,root:n.root,viewProps:n.viewProps}),view:o})),this.onTitleClick_=this.onTitleClick_.bind(this),this.props=n.props,this.foldable=i,Ic(this.foldable,this.view.containerElement),this.rackController.rack.emitter.on("add",()=>{this.foldable.cleanUpTransition()}),this.rackController.rack.emitter.on("remove",()=>{this.foldable.cleanUpTransition()}),this.view.buttonElement.addEventListener("click",this.onTitleClick_)}get document(){return this.view.element.ownerDocument}importState(e){return Ye(e,n=>super.importState(n),n=>({expanded:n.required.boolean,title:n.optional.string}),n=>(this.foldable.set("expanded",n.expanded),this.props.set("title",n.title),!0))}exportState(){return Xe(()=>super.exportState(),{expanded:this.foldable.get("expanded"),title:this.props.get("title")})}onTitleClick_(){this.foldable.set("expanded",!this.foldable.get("expanded"))}};const jy=Re({id:"folder",type:"blade",accept(t){const e=J(t,n=>({title:n.required.string,view:n.required.constant("folder"),expanded:n.optional.boolean}));return e?{params:e}:null},controller(t){return new Cu(t.document,{blade:t.blade,expanded:t.params.expanded,props:M.fromObject({title:t.params.title}),viewProps:t.viewProps})},api(t){return t.controller instanceof Cu?new jv(t.controller,t.pool):null}}),Iy=D("");function th(t,e){return ni(t,Iy(void 0,e))}let ur=class Bv extends M{constructor(e){var n;super(e),this.onDisabledChange_=this.onDisabledChange_.bind(this),this.onParentChange_=this.onParentChange_.bind(this),this.onParentGlobalDisabledChange_=this.onParentGlobalDisabledChange_.bind(this),[this.globalDisabled_,this.setGlobalDisabled_]=_0(W(this.getGlobalDisabled_())),this.value("disabled").emitter.on("change",this.onDisabledChange_),this.value("parent").emitter.on("change",this.onParentChange_),(n=this.get("parent"))===null||n===void 0||n.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_)}static create(e){var n,r,i;const o=e??{};return new Bv(M.createCore({disabled:(n=o.disabled)!==null&&n!==void 0?n:!1,disposed:!1,hidden:(r=o.hidden)!==null&&r!==void 0?r:!1,parent:(i=o.parent)!==null&&i!==void 0?i:null}))}get globalDisabled(){return this.globalDisabled_}bindClassModifiers(e){Bt(this.globalDisabled_,th(e,"disabled")),Lt(this,"hidden",th(e,"hidden"))}bindDisabled(e){Bt(this.globalDisabled_,n=>{e.disabled=n})}bindTabIndex(e){Bt(this.globalDisabled_,n=>{e.tabIndex=n?-1:0})}handleDispose(e){this.value("disposed").emitter.on("change",n=>{n&&e()})}importState(e){this.set("disabled",e.disabled),this.set("hidden",e.hidden)}exportState(){return{disabled:this.get("disabled"),hidden:this.get("hidden")}}getGlobalDisabled_(){const e=this.get("parent");return(e?e.globalDisabled.rawValue:!1)||this.get("disabled")}updateGlobalDisabled_(){this.setGlobalDisabled_(this.getGlobalDisabled_())}onDisabledChange_(){this.updateGlobalDisabled_()}onParentGlobalDisabledChange_(){this.updateGlobalDisabled_()}onParentChange_(e){var n;const r=e.previousRawValue;r==null||r.globalDisabled.emitter.off("change",this.onParentGlobalDisabledChange_),(n=this.get("parent"))===null||n===void 0||n.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_),this.updateGlobalDisabled_()}};const nh=D("tbp");let By=class{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(nh()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(nh("c")),this.element.appendChild(r),this.containerElement=r}};const bi=D("tbi");let Fy=class{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(bi()),n.viewProps.bindClassModifiers(this.element),Lt(n.props,"selected",o=>{o?this.element.classList.add(bi(void 0,"sel")):this.element.classList.remove(bi(void 0,"sel"))});const r=e.createElement("button");r.classList.add(bi("b")),n.viewProps.bindDisabled(r),this.element.appendChild(r),this.buttonElement=r;const i=e.createElement("div");i.classList.add(bi("t")),Nc(n.props.value("title"),i),this.buttonElement.appendChild(i),this.titleElement=i}},Uy=class{constructor(e,n){this.emitter=new ae,this.onClick_=this.onClick_.bind(this),this.props=n.props,this.viewProps=n.viewProps,this.view=new Fy(e,{props:n.props,viewProps:n.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}},xu=class extends Ac{constructor(e,n){const r=new By(e,{viewProps:n.viewProps});super(Object.assign(Object.assign({},n),{rackController:new zc({blade:n.blade,element:r.containerElement,viewProps:n.viewProps}),view:r})),this.onItemClick_=this.onItemClick_.bind(this),this.ic_=new Uy(e,{props:n.itemProps,viewProps:ur.create()}),this.ic_.emitter.on("click",this.onItemClick_),this.props=n.props,Lt(this.props,"selected",i=>{this.itemController.props.set("selected",i),this.viewProps.set("hidden",!i)})}get itemController(){return this.ic_}importState(e){return Ye(e,n=>super.importState(n),n=>({selected:n.required.boolean,title:n.required.string}),n=>(this.ic_.props.set("selected",n.selected),this.ic_.props.set("title",n.title),!0))}exportState(){return Xe(()=>super.exportState(),{selected:this.ic_.props.get("selected"),title:this.ic_.props.get("title")})}onItemClick_(){this.props.set("selected",!0)}},Ky=class extends Dc{constructor(e,n){super(e,n),this.emitter_=new ae,this.onSelect_=this.onSelect_.bind(this),this.pool_=n,this.rackApi_.on("change",r=>{this.emitter_.emit("change",r)}),this.controller.tab.selectedIndex.emitter.on("change",this.onSelect_)}get pages(){return this.rackApi_.children}addPage(e){const n=this.controller.view.element.ownerDocument,r=new xu(n,{blade:ii(),itemProps:M.fromObject({selected:!1,title:e.title}),props:M.fromObject({selected:!1}),viewProps:ur.create()}),i=this.pool_.createApi(r);return this.rackApi_.add(i,e.index)}removePage(e){this.rackApi_.remove(this.rackApi_.children[e])}on(e,n){const r=n.bind(this);return this.emitter_.on(e,i=>{r(i)},{key:n}),this}off(e,n){return this.emitter_.off(e,n),this}onSelect_(e){this.emitter_.emit("select",new Y0(this,e.rawValue))}},Hy=class extends Dc{get title(){var e;return(e=this.controller.itemController.props.get("title"))!==null&&e!==void 0?e:""}set title(e){this.controller.itemController.props.set("title",e)}get selected(){return this.controller.props.get("selected")}set selected(e){this.controller.props.set("selected",e)}get children(){return this.rackApi_.children}addButton(e){return this.rackApi_.addButton(e)}addFolder(e){return this.rackApi_.addFolder(e)}addTab(e){return this.rackApi_.addTab(e)}add(e,n){this.rackApi_.add(e,n)}remove(e){this.rackApi_.remove(e)}addBinding(e,n,r){return this.rackApi_.addBinding(e,n,r)}addBlade(e){return this.rackApi_.addBlade(e)}};const rh=-1;let qy=class{constructor(){this.onItemSelectedChange_=this.onItemSelectedChange_.bind(this),this.empty=W(!0),this.selectedIndex=W(rh),this.items_=[]}add(e,n){const r=n??this.items_.length;this.items_.splice(r,0,e),e.emitter.on("change",this.onItemSelectedChange_),this.keepSelection_()}remove(e){const n=this.items_.indexOf(e);n<0||(this.items_.splice(n,1),e.emitter.off("change",this.onItemSelectedChange_),this.keepSelection_())}keepSelection_(){if(this.items_.length===0){this.selectedIndex.rawValue=rh,this.empty.rawValue=!0;return}const e=this.items_.findIndex(n=>n.rawValue);e<0?(this.items_.forEach((n,r)=>{n.rawValue=r===0}),this.selectedIndex.rawValue=0):(this.items_.forEach((n,r)=>{n.rawValue=r===e}),this.selectedIndex.rawValue=e),this.empty.rawValue=!1}onItemSelectedChange_(e){if(e.rawValue){const n=this.items_.findIndex(r=>r===e.sender);this.items_.forEach((r,i)=>{r.rawValue=i===n}),this.selectedIndex.rawValue=n}else this.keepSelection_()}};const yi=D("tab");let Gy=class{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(yi(),Iv()),n.viewProps.bindClassModifiers(this.element),Bt(n.empty,ni(this.element,yi(void 0,"nop")));const r=e.createElement("div");r.classList.add(yi("t")),this.element.appendChild(r),this.itemsElement=r;const i=e.createElement("div");i.classList.add(yi("i")),this.element.appendChild(i);const o=e.createElement("div");o.classList.add(yi("c")),this.element.appendChild(o),this.contentsElement=o}},ih=class extends Ac{constructor(e,n){const r=new qy,i=new Gy(e,{empty:r.empty,viewProps:n.viewProps});super({blade:n.blade,rackController:new zc({blade:n.blade,element:i.contentsElement,viewProps:n.viewProps}),view:i}),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this);const o=this.rackController.rack;o.emitter.on("add",this.onRackAdd_),o.emitter.on("remove",this.onRackRemove_),this.tab=r}add(e,n){this.rackController.rack.add(e,n)}remove(e){this.rackController.rack.remove(this.rackController.rack.children[e])}onRackAdd_(e){if(!e.root)return;const n=e.bladeController;$v(this.view.itemsElement,n.itemController.view.element,e.index),n.itemController.viewProps.set("parent",this.viewProps),this.tab.add(n.props.value("selected"))}onRackRemove_(e){if(!e.root)return;const n=e.bladeController;Rc(n.itemController.view.element),n.itemController.viewProps.set("parent",null),this.tab.remove(n.props.value("selected"))}};const Fv=Re({id:"tab",type:"blade",accept(t){const e=J(t,n=>({pages:n.required.array(n.required.object({title:n.required.string})),view:n.required.constant("tab")}));return!e||e.pages.length===0?null:{params:e}},controller(t){const e=new ih(t.document,{blade:t.blade,viewProps:t.viewProps});return t.params.pages.forEach(n=>{const r=new xu(t.document,{blade:ii(),itemProps:M.fromObject({selected:!1,title:n.title}),props:M.fromObject({selected:!1}),viewProps:ur.create()});e.add(r)}),e},api(t){return t.controller instanceof ih?new Ky(t.controller,t.pool):t.controller instanceof xu?new Hy(t.controller,t.pool):null}});function Wy(t,e){const n=t.accept(e.params);if(!n)return null;const r=J(e.params,i=>({disabled:i.optional.boolean,hidden:i.optional.boolean}));return t.controller({blade:ii(),document:e.document,params:Object.assign(Object.assign({},n.params),{disabled:r==null?void 0:r.disabled,hidden:r==null?void 0:r.hidden}),viewProps:ur.create({disabled:r==null?void 0:r.disabled,hidden:r==null?void 0:r.hidden})})}let Bc=class extends lo{get options(){return this.controller.valueController.props.get("options")}set options(e){this.controller.valueController.props.set("options",e)}},Qy=class{constructor(){this.disabled=!1,this.emitter=new ae}dispose(){}tick(){this.disabled||this.emitter.emit("tick",{sender:this})}},Yy=class{constructor(e,n){this.disabled_=!1,this.timerId_=null,this.onTick_=this.onTick_.bind(this),this.doc_=e,this.emitter=new ae,this.interval_=n,this.setTimer_()}get disabled(){return this.disabled_}set disabled(e){this.disabled_=e,this.disabled_?this.clearTimer_():this.setTimer_()}dispose(){this.clearTimer_()}clearTimer_(){if(this.timerId_===null)return;const e=this.doc_.defaultView;e&&e.clearInterval(this.timerId_),this.timerId_=null}setTimer_(){if(this.clearTimer_(),this.interval_<=0)return;const e=this.doc_.defaultView;e&&(this.timerId_=e.setInterval(this.onTick_,this.interval_))}onTick_(){this.disabled_||this.emitter.emit("tick",{sender:this})}},Po=class{constructor(e){this.constraints=e}constrain(e){return this.constraints.reduce((n,r)=>r.constrain(n),e)}};function Hs(t,e){if(t instanceof e)return t;if(t instanceof Po){const n=t.constraints.reduce((r,i)=>r||(i instanceof e?i:null),null);if(n)return n}return null}let Eo=class{constructor(e){this.values=M.fromObject({options:e})}constrain(e){const n=this.values.get("options");return n.length===0||n.filter(i=>i.value===e).length>0?e:n[0].value}};function ko(t){var e;const n=bu;if(Array.isArray(t))return(e=J({items:t},r=>({items:r.required.array(r.required.object({text:r.required.string,value:r.required.raw}))})))===null||e===void 0?void 0:e.items;if(typeof t=="object")return n.required.raw(t).value}function Fc(t){if(Array.isArray(t))return t;const e=[];return Object.keys(t).forEach(n=>{e.push({text:n,value:t[n]})}),e}function Uc(t){return F(t)?null:new Eo(Fc(t))}const la=D("lst");let Xy=class{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.props_=n.props,this.element=e.createElement("div"),this.element.classList.add(la()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("select");r.classList.add(la("s")),n.viewProps.bindDisabled(r),this.element.appendChild(r),this.selectElement=r;const i=e.createElement("div");i.classList.add(la("m")),i.appendChild(wl(e,"dropdown")),this.element.appendChild(i),n.value.emitter.on("change",this.onValueChange_),this.value_=n.value,Lt(this.props_,"options",o=>{Tv(this.selectElement),o.forEach(s=>{const l=e.createElement("option");l.textContent=s.text,this.selectElement.appendChild(l)}),this.update_()})}update_(){const e=this.props_.get("options").map(n=>n.value);this.selectElement.selectedIndex=e.indexOf(this.value_.rawValue)}onValueChange_(){this.update_()}},Vn=class{constructor(e,n){this.onSelectChange_=this.onSelectChange_.bind(this),this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.view=new Xy(e,{props:this.props,value:this.value,viewProps:this.viewProps}),this.view.selectElement.addEventListener("change",this.onSelectChange_)}onSelectChange_(e){const n=e.currentTarget;this.value.rawValue=this.props.get("options")[n.selectedIndex].value}importProps(e){return Ye(e,null,n=>({options:n.required.custom(ko)}),n=>(this.props.set("options",Fc(n.options)),!0))}exportProps(){return Xe(null,{options:this.props.get("options")})}};const oh=D("pop");let Zy=class{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(oh()),n.viewProps.bindClassModifiers(this.element),Bt(n.shows,ni(this.element,oh(void 0,"v")))}},Uv=class{constructor(e,n){this.shows=W(!1),this.viewProps=n.viewProps,this.view=new Zy(e,{shows:this.shows,viewProps:this.viewProps})}};const sh=D("txt");let Jy=class{constructor(e,n){this.onChange_=this.onChange_.bind(this),this.element=e.createElement("div"),this.element.classList.add(sh()),n.viewProps.bindClassModifiers(this.element),this.props_=n.props,this.props_.emitter.on("change",this.onChange_);const r=e.createElement("input");r.classList.add(sh("i")),r.type="text",n.viewProps.bindDisabled(r),this.element.appendChild(r),this.inputElement=r,n.value.emitter.on("change",this.onChange_),this.value_=n.value,this.refresh()}refresh(){const e=this.props_.get("formatter");this.inputElement.value=e(this.value_.rawValue)}onChange_(){this.refresh()}},ao=class{constructor(e,n){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=n.parser,this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.view=new Jy(e,{props:n.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(e){const r=e.currentTarget.value,i=this.parser_(r);F(i)||(this.value.rawValue=i),this.view.refresh()}};function eC(t){return String(t)}function Kv(t){return t==="false"?!1:!!t}function lh(t){return eC(t)}function tC(t){return e=>t.reduce((n,r)=>n!==null?n:r(e),null)}const nC=Be(0);function qs(t){return nC(t)+"%"}function Hv(t){return String(t)}function Pu(t){return t}function oi({primary:t,secondary:e,forward:n,backward:r}){let i=!1;function o(s){i||(i=!0,s(),i=!1)}t.emitter.on("change",s=>{o(()=>{e.setRawValue(n(t.rawValue,e.rawValue),s.options)})}),e.emitter.on("change",s=>{o(()=>{t.setRawValue(r(t.rawValue,e.rawValue),s.options)}),o(()=>{e.setRawValue(n(t.rawValue,e.rawValue),s.options)})}),o(()=>{e.setRawValue(n(t.rawValue,e.rawValue),{forceEmit:!1,last:!0})})}function Ae(t,e){const n=t*(e.altKey?.1:1)*(e.shiftKey?10:1);return e.upKey?+n:e.downKey?-n:0}function uo(t){return{altKey:t.altKey,downKey:t.key==="ArrowDown",shiftKey:t.shiftKey,upKey:t.key==="ArrowUp"}}function Gt(t){return{altKey:t.altKey,downKey:t.key==="ArrowLeft",shiftKey:t.shiftKey,upKey:t.key==="ArrowRight"}}function rC(t){return t==="ArrowUp"||t==="ArrowDown"}function qv(t){return rC(t)||t==="ArrowLeft"||t==="ArrowRight"}function aa(t,e){var n,r;const i=e.ownerDocument.defaultView,o=e.getBoundingClientRect();return{x:t.pageX-(((n=i&&i.scrollX)!==null&&n!==void 0?n:0)+o.left),y:t.pageY-(((r=i&&i.scrollY)!==null&&r!==void 0?r:0)+o.top)}}let cr=class{constructor(e){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=e,this.emitter=new ae,e.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),e.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),e.addEventListener("touchend",this.onTouchEnd_),e.addEventListener("mousedown",this.onMouseDown_)}computePosition_(e){const n=this.elem_.getBoundingClientRect();return{bounds:{width:n.width,height:n.height},point:e?{x:e.x,y:e.y}:null}}onMouseDown_(e){var n;e.preventDefault(),(n=e.currentTarget)===null||n===void 0||n.focus();const r=this.elem_.ownerDocument;r.addEventListener("mousemove",this.onDocumentMouseMove_),r.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:e.altKey,data:this.computePosition_(aa(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onDocumentMouseMove_(e){this.emitter.emit("move",{altKey:e.altKey,data:this.computePosition_(aa(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onDocumentMouseUp_(e){const n=this.elem_.ownerDocument;n.removeEventListener("mousemove",this.onDocumentMouseMove_),n.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:e.altKey,data:this.computePosition_(aa(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onTouchStart_(e){e.preventDefault();const n=e.targetTouches.item(0),r=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:e.altKey,data:this.computePosition_(n?{x:n.clientX-r.left,y:n.clientY-r.top}:void 0),sender:this,shiftKey:e.shiftKey}),this.lastTouch_=n}onTouchMove_(e){const n=e.targetTouches.item(0),r=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:e.altKey,data:this.computePosition_(n?{x:n.clientX-r.left,y:n.clientY-r.top}:void 0),sender:this,shiftKey:e.shiftKey}),this.lastTouch_=n}onTouchEnd_(e){var n;const r=(n=e.targetTouches.item(0))!==null&&n!==void 0?n:this.lastTouch_,i=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:e.altKey,data:this.computePosition_(r?{x:r.clientX-i.left,y:r.clientY-i.top}:void 0),sender:this,shiftKey:e.shiftKey})}};const Ze=D("txt");let iC=class{constructor(e,n){this.onChange_=this.onChange_.bind(this),this.props_=n.props,this.props_.emitter.on("change",this.onChange_),this.element=e.createElement("div"),this.element.classList.add(Ze(),Ze(void 0,"num")),n.arrayPosition&&this.element.classList.add(Ze(void 0,n.arrayPosition)),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("input");r.classList.add(Ze("i")),r.type="text",n.viewProps.bindDisabled(r),this.element.appendChild(r),this.inputElement=r,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=n.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(Ze()),this.inputElement.classList.add(Ze("i"));const i=e.createElement("div");i.classList.add(Ze("k")),this.element.appendChild(i),this.knobElement=i;const o=e.createElementNS(kt,"svg");o.classList.add(Ze("g")),this.knobElement.appendChild(o);const s=e.createElementNS(kt,"path");s.classList.add(Ze("gb")),o.appendChild(s),this.guideBodyElem_=s;const l=e.createElementNS(kt,"path");l.classList.add(Ze("gh")),o.appendChild(l),this.guideHeadElem_=l;const a=e.createElement("div");a.classList.add(D("tt")()),this.knobElement.appendChild(a),this.tooltipElem_=a,n.value.emitter.on("change",this.onChange_),this.value=n.value,this.refresh()}onDraggingChange_(e){if(e.rawValue===null){this.element.classList.remove(Ze(void 0,"drg"));return}this.element.classList.add(Ze(void 0,"drg"));const n=e.rawValue/this.props_.get("pointerScale"),r=n+(n>0?-1:n<0?1:0),i=pe(-r,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",[`M ${r+i},0 L${r},4 L${r+i},8`,`M ${n},-1 L${n},9`].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d",`M 0,4 L${n},4`);const o=this.props_.get("formatter");this.tooltipElem_.textContent=o(this.value.rawValue),this.tooltipElem_.style.left=`${n}px`}refresh(){const e=this.props_.get("formatter");this.inputElement.value=e(this.value.rawValue)}onChange_(){this.refresh()}},So=class{constructor(e,n){var r;this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.parser_=n.parser,this.props=n.props,this.sliderProps_=(r=n.sliderProps)!==null&&r!==void 0?r:null,this.value=n.value,this.viewProps=n.viewProps,this.dragging_=W(null),this.view=new iC(e,{arrayPosition:n.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);const i=new cr(this.view.knobElement);i.emitter.on("down",this.onPointerDown_),i.emitter.on("move",this.onPointerMove_),i.emitter.on("up",this.onPointerUp_)}constrainValue_(e){var n,r;const i=(n=this.sliderProps_)===null||n===void 0?void 0:n.get("min"),o=(r=this.sliderProps_)===null||r===void 0?void 0:r.get("max");let s=e;return i!==void 0&&(s=Math.max(s,i)),o!==void 0&&(s=Math.min(s,o)),s}onInputChange_(e){const r=e.currentTarget.value,i=this.parser_(r);F(i)||(this.value.rawValue=this.constrainValue_(i)),this.view.refresh()}onInputKeyDown_(e){const n=Ae(this.props.get("keyScale"),uo(e));n!==0&&this.value.setRawValue(this.constrainValue_(this.value.rawValue+n),{forceEmit:!1,last:!1})}onInputKeyUp_(e){Ae(this.props.get("keyScale"),uo(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(e){if(!e.point)return null;const n=e.point.x-e.bounds.width/2;return this.constrainValue_(this.originRawValue_+n*this.props.get("pointerScale"))}onPointerMove_(e){const n=this.computeDraggingValue_(e.data);n!==null&&(this.value.setRawValue(n,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(e){const n=this.computeDraggingValue_(e.data);n!==null&&(this.value.setRawValue(n,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}};const ua=D("sld");let oC=class{constructor(e,n){this.onChange_=this.onChange_.bind(this),this.props_=n.props,this.props_.emitter.on("change",this.onChange_),this.element=e.createElement("div"),this.element.classList.add(ua()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(ua("t")),n.viewProps.bindTabIndex(r),this.element.appendChild(r),this.trackElement=r;const i=e.createElement("div");i.classList.add(ua("k")),this.trackElement.appendChild(i),this.knobElement=i,n.value.emitter.on("change",this.onChange_),this.value=n.value,this.update_()}update_(){const e=pe(z(this.value.rawValue,this.props_.get("min"),this.props_.get("max"),0,100),0,100);this.knobElement.style.width=`${e}%`}onChange_(){this.update_()}},sC=class{constructor(e,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDownOrMove_=this.onPointerDownOrMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.props=n.props,this.view=new oC(e,{props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new cr(this.view.trackElement),this.ptHandler_.emitter.on("down",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("move",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.trackElement.addEventListener("keydown",this.onKeyDown_),this.view.trackElement.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,n){e.point&&this.value.setRawValue(z(pe(e.point.x,0,e.bounds.width),0,e.bounds.width,this.props.get("min"),this.props.get("max")),n)}onPointerDownOrMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){const n=Ae(this.props.get("keyScale"),Gt(e));n!==0&&this.value.setRawValue(this.value.rawValue+n,{forceEmit:!1,last:!1})}onKeyUp_(e){Ae(this.props.get("keyScale"),Gt(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}};const ca=D("sldtxt");let lC=class{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(ca());const r=e.createElement("div");r.classList.add(ca("s")),this.sliderView_=n.sliderView,r.appendChild(this.sliderView_.element),this.element.appendChild(r);const i=e.createElement("div");i.classList.add(ca("t")),this.textView_=n.textView,i.appendChild(this.textView_.element),this.element.appendChild(i)}},Gs=class{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.sliderC_=new sC(e,{props:n.sliderProps,value:n.value,viewProps:this.viewProps}),this.textC_=new So(e,{parser:n.parser,props:n.textProps,sliderProps:n.sliderProps,value:n.value,viewProps:n.viewProps}),this.view=new lC(e,{sliderView:this.sliderC_.view,textView:this.textC_.view})}get sliderController(){return this.sliderC_}get textController(){return this.textC_}importProps(e){return Ye(e,null,n=>({max:n.required.number,min:n.required.number}),n=>{const r=this.sliderC_.props;return r.set("max",n.max),r.set("min",n.min),!0})}exportProps(){const e=this.sliderC_.props;return Xe(null,{max:e.get("max"),min:e.get("min")})}};function Gv(t){return{sliderProps:new M({keyScale:t.keyScale,max:t.max,min:t.min}),textProps:new M({formatter:W(t.formatter),keyScale:t.keyScale,pointerScale:W(t.pointerScale)})}}const aC={containerUnitSize:"cnt-usz"};function Wv(t){return`--${aC[t]}`}function co(t){return Vv(t)}function hn(t){if(gu(t))return J(t,co)}function zt(t,e){if(!t)return;const n=[],r=Ev(t,e);r&&n.push(r);const i=kv(t);return i&&n.push(i),new Po(n)}function uC(t){return t?t.major===ri.major:!1}function Qv(t){if(t==="inline"||t==="popup")return t}function Vo(t,e){t.write(e)}const ts=D("ckb");let cC=class{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.element=e.createElement("div"),this.element.classList.add(ts()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("label");r.classList.add(ts("l")),this.element.appendChild(r),this.labelElement=r;const i=e.createElement("input");i.classList.add(ts("i")),i.type="checkbox",this.labelElement.appendChild(i),this.inputElement=i,n.viewProps.bindDisabled(this.inputElement);const o=e.createElement("div");o.classList.add(ts("w")),this.labelElement.appendChild(o);const s=wl(e,"check");o.appendChild(s),n.value.emitter.on("change",this.onValueChange_),this.value=n.value,this.update_()}update_(){this.inputElement.checked=this.value.rawValue}onValueChange_(){this.update_()}},pC=class{constructor(e,n){this.onInputChange_=this.onInputChange_.bind(this),this.onLabelMouseDown_=this.onLabelMouseDown_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new cC(e,{value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.labelElement.addEventListener("mousedown",this.onLabelMouseDown_)}onInputChange_(e){const n=e.currentTarget;this.value.rawValue=n.checked,e.preventDefault(),e.stopPropagation()}onLabelMouseDown_(e){e.preventDefault()}};function dC(t){const e=[],n=Uc(t.options);return n&&e.push(n),new Po(e)}const hC=Re({id:"input-bool",type:"input",accept:(t,e)=>{if(typeof t!="boolean")return null;const n=J(e,r=>({options:r.optional.custom(ko),readonly:r.optional.constant(!1)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>Kv,constraint:t=>dC(t.params),writer:t=>Vo},controller:t=>{const e=t.document,n=t.value,r=t.constraint,i=r&&Hs(r,Eo);return i?new Vn(e,{props:new M({options:i.values.value("options")}),value:n,viewProps:t.viewProps}):new pC(e,{value:n,viewProps:t.viewProps})},api(t){return typeof t.controller.value.rawValue!="boolean"?null:t.controller.valueController instanceof Vn?new Bc(t.controller):null}}),An=D("col");let mC=class{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(An()),n.foldable.bindExpandedClass(this.element,An(void 0,"expanded")),Lt(n.foldable,"completed",ni(this.element,An(void 0,"cpl")));const r=e.createElement("div");r.classList.add(An("h")),this.element.appendChild(r);const i=e.createElement("div");i.classList.add(An("s")),r.appendChild(i),this.swatchElement=i;const o=e.createElement("div");if(o.classList.add(An("t")),r.appendChild(o),this.textElement=o,n.pickerLayout==="inline"){const s=e.createElement("div");s.classList.add(An("p")),this.element.appendChild(s),this.pickerElement=s}else this.pickerElement=null}};function fC(t,e,n){const r=pe(t/255,0,1),i=pe(e/255,0,1),o=pe(n/255,0,1),s=Math.max(r,i,o),l=Math.min(r,i,o),a=s-l;let u=0,p=0;const d=(l+s)/2;return a!==0&&(p=a/(1-Math.abs(s+l-1)),r===s?u=(i-o)/a:i===s?u=2+(o-r)/a:u=4+(r-i)/a,u=u/6+(u<0?1:0)),[u*360,p*100,d*100]}function vC(t,e,n){const r=(t%360+360)%360,i=pe(e/100,0,1),o=pe(n/100,0,1),s=(1-Math.abs(2*o-1))*i,l=s*(1-Math.abs(r/60%2-1)),a=o-s/2;let u,p,d;return r>=0&&r<60?[u,p,d]=[s,l,0]:r>=60&&r<120?[u,p,d]=[l,s,0]:r>=120&&r<180?[u,p,d]=[0,s,l]:r>=180&&r<240?[u,p,d]=[0,l,s]:r>=240&&r<300?[u,p,d]=[l,0,s]:[u,p,d]=[s,0,l],[(u+a)*255,(p+a)*255,(d+a)*255]}function wC(t,e,n){const r=pe(t/255,0,1),i=pe(e/255,0,1),o=pe(n/255,0,1),s=Math.max(r,i,o),l=Math.min(r,i,o),a=s-l;let u;a===0?u=0:s===r?u=60*(((i-o)/a%6+6)%6):s===i?u=60*((o-r)/a+2):u=60*((r-i)/a+4);const p=s===0?0:a/s,d=s;return[u,p*100,d*100]}function Yv(t,e,n){const r=Cv(t,360),i=pe(e/100,0,1),o=pe(n/100,0,1),s=o*i,l=s*(1-Math.abs(r/60%2-1)),a=o-s;let u,p,d;return r>=0&&r<60?[u,p,d]=[s,l,0]:r>=60&&r<120?[u,p,d]=[l,s,0]:r>=120&&r<180?[u,p,d]=[0,s,l]:r>=180&&r<240?[u,p,d]=[0,l,s]:r>=240&&r<300?[u,p,d]=[l,0,s]:[u,p,d]=[s,0,l],[(u+a)*255,(p+a)*255,(d+a)*255]}function _C(t,e,n){const r=n+e*(100-Math.abs(2*n-100))/200;return[t,r!==0?e*(100-Math.abs(2*n-100))/r:0,n+e*(100-Math.abs(2*n-100))/(2*100)]}function gC(t,e,n){const r=100-Math.abs(n*(200-e)/100-100);return[t,r!==0?e*n/r:0,n*(200-e)/(2*100)]}function $t(t){return[t[0],t[1],t[2]]}function gl(t,e){return[t[0],t[1],t[2],e]}const bC={hsl:{hsl:(t,e,n)=>[t,e,n],hsv:_C,rgb:vC},hsv:{hsl:gC,hsv:(t,e,n)=>[t,e,n],rgb:Yv},rgb:{hsl:fC,hsv:wC,rgb:(t,e,n)=>[t,e,n]}};function Yr(t,e){return[e==="float"?1:t==="rgb"?255:360,e==="float"?1:t==="rgb"?255:100,e==="float"?1:t==="rgb"?255:100]}function yC(t,e){return t===e?e:Cv(t,e)}function Xv(t,e,n){var r;const i=Yr(e,n);return[e==="rgb"?pe(t[0],0,i[0]):yC(t[0],i[0]),pe(t[1],0,i[1]),pe(t[2],0,i[2]),pe((r=t[3])!==null&&r!==void 0?r:1,0,1)]}function ah(t,e,n,r){const i=Yr(e,n),o=Yr(e,r);return t.map((s,l)=>s/i[l]*o[l])}function Zv(t,e,n){const r=ah(t,e.mode,e.type,"int"),i=bC[e.mode][n.mode](...r);return ah(i,n.mode,"int",n.type)}let j=class Jv{static black(){return new Jv([0,0,0],"rgb")}constructor(e,n){this.type="int",this.mode=n,this.comps_=Xv(e,n,this.type)}getComponents(e){return gl(Zv($t(this.comps_),{mode:this.mode,type:this.type},{mode:e??this.mode,type:this.type}),this.comps_[3])}toRgbaObject(){const e=this.getComponents("rgb");return{r:e[0],g:e[1],b:e[2],a:e[3]}}};const Zt=D("colp");let CC=class{constructor(e,n){this.alphaViews_=null,this.element=e.createElement("div"),this.element.classList.add(Zt()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(Zt("hsv"));const i=e.createElement("div");i.classList.add(Zt("sv")),this.svPaletteView_=n.svPaletteView,i.appendChild(this.svPaletteView_.element),r.appendChild(i);const o=e.createElement("div");o.classList.add(Zt("h")),this.hPaletteView_=n.hPaletteView,o.appendChild(this.hPaletteView_.element),r.appendChild(o),this.element.appendChild(r);const s=e.createElement("div");if(s.classList.add(Zt("rgb")),this.textsView_=n.textsView,s.appendChild(this.textsView_.element),this.element.appendChild(s),n.alphaViews){this.alphaViews_={palette:n.alphaViews.palette,text:n.alphaViews.text};const l=e.createElement("div");l.classList.add(Zt("a"));const a=e.createElement("div");a.classList.add(Zt("ap")),a.appendChild(this.alphaViews_.palette.element),l.appendChild(a);const u=e.createElement("div");u.classList.add(Zt("at")),u.appendChild(this.alphaViews_.text.element),l.appendChild(u),this.element.appendChild(l)}}get allFocusableElements(){const e=[this.svPaletteView_.element,this.hPaletteView_.element,this.textsView_.modeSelectElement,...this.textsView_.inputViews.map(n=>n.inputElement)];return this.alphaViews_&&e.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),e}};function xC(t){return t==="int"?"int":t==="float"?"float":void 0}function Kc(t){return J(t,e=>({color:e.optional.object({alpha:e.optional.boolean,type:e.optional.custom(xC)}),expanded:e.optional.boolean,picker:e.optional.custom(Qv),readonly:e.optional.constant(!1)}))}function nr(t){return t?.1:1}function ew(t){var e;return(e=t.color)===null||e===void 0?void 0:e.type}let Hc=class{constructor(e,n){this.type="float",this.mode=n,this.comps_=Xv(e,n,this.type)}getComponents(e){return gl(Zv($t(this.comps_),{mode:this.mode,type:this.type},{mode:e??this.mode,type:this.type}),this.comps_[3])}toRgbaObject(){const e=this.getComponents("rgb");return{r:e[0],g:e[1],b:e[2],a:e[3]}}};const PC={int:(t,e)=>new j(t,e),float:(t,e)=>new Hc(t,e)};function qc(t,e,n){return PC[n](t,e)}function EC(t){return t.type==="float"}function kC(t){return t.type==="int"}function SC(t){const e=t.getComponents(),n=Yr(t.mode,"int");return new j([Math.round(z(e[0],0,1,0,n[0])),Math.round(z(e[1],0,1,0,n[1])),Math.round(z(e[2],0,1,0,n[2])),e[3]],t.mode)}function VC(t){const e=t.getComponents(),n=Yr(t.mode,"int");return new Hc([z(e[0],0,n[0],0,1),z(e[1],0,n[1],0,1),z(e[2],0,n[2],0,1),e[3]],t.mode)}function $e(t,e){if(t.type===e)return t;if(kC(t)&&e==="float")return VC(t);if(EC(t)&&e==="int")return SC(t);throw Pe.shouldNeverHappen()}function LC(t,e){return t.alpha===e.alpha&&t.mode===e.mode&&t.notation===e.notation&&t.type===e.type}function it(t,e){const n=t.match(/^(.+)%$/);return Math.min(n?parseFloat(n[1])*.01*e:parseFloat(t),e)}const $C={deg:t=>t,grad:t=>t*360/400,rad:t=>t*360/(2*Math.PI),turn:t=>t*360};function tw(t){const e=t.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!e)return parseFloat(t);const n=parseFloat(e[1]),r=e[2];return $C[r](n)}function nw(t){const e=t.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[it(e[1],255),it(e[2],255),it(e[3],255)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function TC(t){const e=nw(t);return e?new j(e,"rgb"):null}function rw(t){const e=t.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[it(e[1],255),it(e[2],255),it(e[3],255),it(e[4],1)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:n}function MC(t){const e=rw(t);return e?new j(e,"rgb"):null}function iw(t){const e=t.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[tw(e[1]),it(e[2],100),it(e[3],100)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function OC(t){const e=iw(t);return e?new j(e,"hsl"):null}function ow(t){const e=t.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[tw(e[1]),it(e[2],100),it(e[3],100),it(e[4],1)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:n}function RC(t){const e=ow(t);return e?new j(e,"hsl"):null}function sw(t){const e=t.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(e)return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)];const n=t.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:null}function NC(t){const e=sw(t);return e?new j(e,"rgb"):null}function lw(t){const e=t.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(e)return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),z(parseInt(e[4]+e[4],16),0,255,0,1)];const n=t.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16),z(parseInt(n[4],16),0,255,0,1)]:null}function DC(t){const e=lw(t);return e?new j(e,"rgb"):null}function aw(t){const e=t.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!e)return null;const n=[parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3])];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function uh(t){return e=>{const n=aw(e);return n?qc(n,"rgb",t):null}}function uw(t){const e=t.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*a\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!e)return null;const n=[parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4])];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:n}function ch(t){return e=>{const n=uw(e);return n?qc(n,"rgb",t):null}}const AC=[{parser:sw,result:{alpha:!1,mode:"rgb",notation:"hex"}},{parser:lw,result:{alpha:!0,mode:"rgb",notation:"hex"}},{parser:nw,result:{alpha:!1,mode:"rgb",notation:"func"}},{parser:rw,result:{alpha:!0,mode:"rgb",notation:"func"}},{parser:iw,result:{alpha:!1,mode:"hsl",notation:"func"}},{parser:ow,result:{alpha:!0,mode:"hsl",notation:"func"}},{parser:aw,result:{alpha:!1,mode:"rgb",notation:"object"}},{parser:uw,result:{alpha:!0,mode:"rgb",notation:"object"}}];function zC(t){return AC.reduce((e,{parser:n,result:r})=>e||(n(t)?r:null),null)}function jC(t,e="int"){const n=zC(t);return n?n.notation==="hex"&&e!=="float"?Object.assign(Object.assign({},n),{type:"int"}):n.notation==="func"?Object.assign(Object.assign({},n),{type:e}):null:null}function Lo(t){const e=[NC,DC,TC,MC,OC,RC];t==="int"&&e.push(uh("int"),ch("int")),t==="float"&&e.push(uh("float"),ch("float"));const n=tC(e);return r=>{const i=n(r);return i?$e(i,t):null}}function IC(t){const e=Lo("int");if(typeof t!="string")return j.black();const n=e(t);return n??j.black()}function cw(t){const e=pe(Math.floor(t),0,255).toString(16);return e.length===1?`0${e}`:e}function Gc(t,e="#"){const n=$t(t.getComponents("rgb")).map(cw).join("");return`${e}${n}`}function Wc(t,e="#"){const n=t.getComponents("rgb"),r=[n[0],n[1],n[2],n[3]*255].map(cw).join("");return`${e}${r}`}function pw(t){const e=Be(0),n=$e(t,"int");return`rgb(${$t(n.getComponents("rgb")).map(i=>e(i)).join(", ")})`}function fs(t){const e=Be(2),n=Be(0);return`rgba(${$e(t,"int").getComponents("rgb").map((o,s)=>(s===3?e:n)(o)).join(", ")})`}function BC(t){const e=[Be(0),qs,qs],n=$e(t,"int");return`hsl(${$t(n.getComponents("hsl")).map((i,o)=>e[o](i)).join(", ")})`}function FC(t){const e=[Be(0),qs,qs,Be(2)];return`hsla(${$e(t,"int").getComponents("hsl").map((i,o)=>e[o](i)).join(", ")})`}function dw(t,e){const n=Be(e==="float"?2:0),r=["r","g","b"],i=$e(t,e);return`{${$t(i.getComponents("rgb")).map((s,l)=>`${r[l]}: ${n(s)}`).join(", ")}}`}function UC(t){return e=>dw(e,t)}function hw(t,e){const n=Be(2),r=Be(e==="float"?2:0),i=["r","g","b","a"];return`{${$e(t,e).getComponents("rgb").map((l,a)=>{const u=a===3?n:r;return`${i[a]}: ${u(l)}`}).join(", ")}}`}function KC(t){return e=>hw(e,t)}const HC=[{format:{alpha:!1,mode:"rgb",notation:"hex",type:"int"},stringifier:Gc},{format:{alpha:!0,mode:"rgb",notation:"hex",type:"int"},stringifier:Wc},{format:{alpha:!1,mode:"rgb",notation:"func",type:"int"},stringifier:pw},{format:{alpha:!0,mode:"rgb",notation:"func",type:"int"},stringifier:fs},{format:{alpha:!1,mode:"hsl",notation:"func",type:"int"},stringifier:BC},{format:{alpha:!0,mode:"hsl",notation:"func",type:"int"},stringifier:FC},...["int","float"].reduce((t,e)=>[...t,{format:{alpha:!1,mode:"rgb",notation:"object",type:e},stringifier:UC(e)},{format:{alpha:!0,mode:"rgb",notation:"object",type:e},stringifier:KC(e)}],[])];function mw(t){return HC.reduce((e,n)=>e||(LC(n.format,t)?n.stringifier:null),null)}const Ci=D("apl");let qC=class{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.value=n.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(Ci()),n.viewProps.bindClassModifiers(this.element),n.viewProps.bindTabIndex(this.element);const r=e.createElement("div");r.classList.add(Ci("b")),this.element.appendChild(r);const i=e.createElement("div");i.classList.add(Ci("c")),r.appendChild(i),this.colorElem_=i;const o=e.createElement("div");o.classList.add(Ci("m")),this.element.appendChild(o),this.markerElem_=o;const s=e.createElement("div");s.classList.add(Ci("p")),this.markerElem_.appendChild(s),this.previewElem_=s,this.update_()}update_(){const e=this.value.rawValue,n=e.getComponents("rgb"),r=new j([n[0],n[1],n[2],0],"rgb"),i=new j([n[0],n[1],n[2],255],"rgb"),o=["to right",fs(r),fs(i)];this.colorElem_.style.background=`linear-gradient(${o.join(",")})`,this.previewElem_.style.backgroundColor=fs(e);const s=z(n[3],0,1,0,100);this.markerElem_.style.left=`${s}%`}onValueChange_(){this.update_()}},GC=class{constructor(e,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new qC(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new cr(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,n){if(!e.point)return;const r=e.point.x/e.bounds.width,i=this.value.rawValue,[o,s,l]=i.getComponents("hsv");this.value.setRawValue(new j([o,s,l,r],"hsv"),n)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){const n=Ae(nr(!0),Gt(e));if(n===0)return;const r=this.value.rawValue,[i,o,s,l]=r.getComponents("hsv");this.value.setRawValue(new j([i,o,s,l+n],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){Ae(nr(!0),Gt(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}};const fr=D("coltxt");function WC(t){const e=t.createElement("select"),n=[{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"},{text:"HEX",value:"hex"}];return e.appendChild(n.reduce((r,i)=>{const o=t.createElement("option");return o.textContent=i.text,o.value=i.value,r.appendChild(o),r},t.createDocumentFragment())),e}let QC=class{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(fr()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(fr("m")),this.modeElem_=WC(e),this.modeElem_.classList.add(fr("ms")),r.appendChild(this.modeSelectElement),n.viewProps.bindDisabled(this.modeElem_);const i=e.createElement("div");i.classList.add(fr("mm")),i.appendChild(wl(e,"dropdown")),r.appendChild(i),this.element.appendChild(r);const o=e.createElement("div");o.classList.add(fr("w")),this.element.appendChild(o),this.inputsElem_=o,this.inputViews_=n.inputViews,this.applyInputViews_(),Bt(n.mode,s=>{this.modeElem_.value=s})}get modeSelectElement(){return this.modeElem_}get inputViews(){return this.inputViews_}set inputViews(e){this.inputViews_=e,this.applyInputViews_()}applyInputViews_(){Tv(this.inputsElem_);const e=this.element.ownerDocument;this.inputViews_.forEach(n=>{const r=e.createElement("div");r.classList.add(fr("c")),r.appendChild(n.element),this.inputsElem_.appendChild(r)})}};function YC(t){return Be(t==="float"?2:0)}function XC(t,e,n){const r=Yr(t,e)[n];return new Co({min:0,max:r})}function ZC(t,e,n){return new So(t,{arrayPosition:n===0?"fst":n===2?"lst":"mid",parser:e.parser,props:M.fromObject({formatter:YC(e.colorType),keyScale:nr(!1),pointerScale:e.colorType==="float"?.01:1}),value:W(0,{constraint:XC(e.colorMode,e.colorType,n)}),viewProps:e.viewProps})}function JC(t,e){const n={colorMode:e.colorMode,colorType:e.colorType,parser:qt,viewProps:e.viewProps};return[0,1,2].map(r=>{const i=ZC(t,n,r);return oi({primary:e.value,secondary:i.value,forward(o){return $e(o,e.colorType).getComponents(e.colorMode)[r]},backward(o,s){const l=e.colorMode,u=$e(o,e.colorType).getComponents(l);u[r]=s;const p=qc(gl($t(u),u[3]),l,e.colorType);return $e(p,"int")}}),i})}function e1(t,e){const n=new ao(t,{parser:Lo("int"),props:M.fromObject({formatter:Gc}),value:W(j.black()),viewProps:e.viewProps});return oi({primary:e.value,secondary:n.value,forward:r=>new j($t(r.getComponents()),r.mode),backward:(r,i)=>new j(gl($t(i.getComponents(r.mode)),r.getComponents()[3]),r.mode)}),[n]}function t1(t){return t!=="hex"}let n1=class{constructor(e,n){this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.colorType_=n.colorType,this.value=n.value,this.viewProps=n.viewProps,this.colorMode=W(this.value.rawValue.mode),this.ccs_=this.createComponentControllers_(e),this.view=new QC(e,{mode:this.colorMode,inputViews:[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view],viewProps:this.viewProps}),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}createComponentControllers_(e){const n=this.colorMode.rawValue;return t1(n)?JC(e,{colorMode:n,colorType:this.colorType_,value:this.value,viewProps:this.viewProps}):e1(e,{value:this.value,viewProps:this.viewProps})}onModeSelectChange_(e){const n=e.currentTarget;this.colorMode.rawValue=n.value,this.ccs_=this.createComponentControllers_(this.view.element.ownerDocument),this.view.inputViews=this.ccs_.map(r=>r.view)}};const pa=D("hpl");let r1=class{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.value=n.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(pa()),n.viewProps.bindClassModifiers(this.element),n.viewProps.bindTabIndex(this.element);const r=e.createElement("div");r.classList.add(pa("c")),this.element.appendChild(r);const i=e.createElement("div");i.classList.add(pa("m")),this.element.appendChild(i),this.markerElem_=i,this.update_()}update_(){const e=this.value.rawValue,[n]=e.getComponents("hsv");this.markerElem_.style.backgroundColor=pw(new j([n,100,100],"hsv"));const r=z(n,0,360,0,100);this.markerElem_.style.left=`${r}%`}onValueChange_(){this.update_()}},i1=class{constructor(e,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new r1(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new cr(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,n){if(!e.point)return;const r=z(pe(e.point.x,0,e.bounds.width),0,e.bounds.width,0,360),i=this.value.rawValue,[,o,s,l]=i.getComponents("hsv");this.value.setRawValue(new j([r,o,s,l],"hsv"),n)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){const n=Ae(nr(!1),Gt(e));if(n===0)return;const r=this.value.rawValue,[i,o,s,l]=r.getComponents("hsv");this.value.setRawValue(new j([i+n,o,s,l],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){Ae(nr(!1),Gt(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}};const da=D("svp"),ph=64;let o1=class{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.value=n.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(da()),n.viewProps.bindClassModifiers(this.element),n.viewProps.bindTabIndex(this.element);const r=e.createElement("canvas");r.height=ph,r.width=ph,r.classList.add(da("c")),this.element.appendChild(r),this.canvasElement=r;const i=e.createElement("div");i.classList.add(da("m")),this.element.appendChild(i),this.markerElem_=i,this.update_()}update_(){const e=sy(this.canvasElement);if(!e)return;const r=this.value.rawValue.getComponents("hsv"),i=this.canvasElement.width,o=this.canvasElement.height,s=e.getImageData(0,0,i,o),l=s.data;for(let p=0;p<o;p++)for(let d=0;d<i;d++){const f=z(d,0,i,0,100),_=z(p,0,o,100,0),g=Yv(r[0],f,_),b=(p*i+d)*4;l[b]=g[0],l[b+1]=g[1],l[b+2]=g[2],l[b+3]=255}e.putImageData(s,0,0);const a=z(r[1],0,100,0,100);this.markerElem_.style.left=`${a}%`;const u=z(r[2],0,100,100,0);this.markerElem_.style.top=`${u}%`}onValueChange_(){this.update_()}},s1=class{constructor(e,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new o1(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new cr(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,n){if(!e.point)return;const r=z(e.point.x,0,e.bounds.width,0,100),i=z(e.point.y,0,e.bounds.height,100,0),[o,,,s]=this.value.rawValue.getComponents("hsv");this.value.setRawValue(new j([o,r,i,s],"hsv"),n)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){qv(e.key)&&e.preventDefault();const[n,r,i,o]=this.value.rawValue.getComponents("hsv"),s=nr(!1),l=Ae(s,Gt(e)),a=Ae(s,uo(e));l===0&&a===0||this.value.setRawValue(new j([n,r+l,i+a,o],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){const n=nr(!1),r=Ae(n,Gt(e)),i=Ae(n,uo(e));r===0&&i===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}},l1=class{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.hPaletteC_=new i1(e,{value:this.value,viewProps:this.viewProps}),this.svPaletteC_=new s1(e,{value:this.value,viewProps:this.viewProps}),this.alphaIcs_=n.supportsAlpha?{palette:new GC(e,{value:this.value,viewProps:this.viewProps}),text:new So(e,{parser:qt,props:M.fromObject({pointerScale:.01,keyScale:.1,formatter:Be(2)}),value:W(0,{constraint:new Co({min:0,max:1})}),viewProps:this.viewProps})}:null,this.alphaIcs_&&oi({primary:this.value,secondary:this.alphaIcs_.text.value,forward:r=>r.getComponents()[3],backward:(r,i)=>{const o=r.getComponents();return o[3]=i,new j(o,r.mode)}}),this.textsC_=new n1(e,{colorType:n.colorType,value:this.value,viewProps:this.viewProps}),this.view=new CC(e,{alphaViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,hPaletteView:this.hPaletteC_.view,supportsAlpha:n.supportsAlpha,svPaletteView:this.svPaletteC_.view,textsView:this.textsC_.view,viewProps:this.viewProps})}get textsController(){return this.textsC_}};const ha=D("colsw");let a1=class{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),n.value.emitter.on("change",this.onValueChange_),this.value=n.value,this.element=e.createElement("div"),this.element.classList.add(ha()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(ha("sw")),this.element.appendChild(r),this.swatchElem_=r;const i=e.createElement("button");i.classList.add(ha("b")),n.viewProps.bindDisabled(i),this.element.appendChild(i),this.buttonElement=i,this.update_()}update_(){const e=this.value.rawValue;this.swatchElem_.style.backgroundColor=Wc(e)}onValueChange_(){this.update_()}},u1=class{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.view=new a1(e,{value:this.value,viewProps:this.viewProps})}},Qc=class{constructor(e,n){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.foldable_=jc.create(n.expanded),this.swatchC_=new u1(e,{value:this.value,viewProps:this.viewProps});const r=this.swatchC_.view.buttonElement;r.addEventListener("blur",this.onButtonBlur_),r.addEventListener("click",this.onButtonClick_),this.textC_=new ao(e,{parser:n.parser,props:M.fromObject({formatter:n.formatter}),value:this.value,viewProps:this.viewProps}),this.view=new mC(e,{foldable:this.foldable_,pickerLayout:n.pickerLayout}),this.view.swatchElement.appendChild(this.swatchC_.view.element),this.view.textElement.appendChild(this.textC_.view.element),this.popC_=n.pickerLayout==="popup"?new Uv(e,{viewProps:this.viewProps}):null;const i=new l1(e,{colorType:n.colorType,supportsAlpha:n.supportsAlpha,value:this.value,viewProps:this.viewProps});i.view.allFocusableElements.forEach(o=>{o.addEventListener("blur",this.onPopupChildBlur_),o.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=i,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(i.view.element),oi({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:o=>o,backward:(o,s)=>s})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),Ic(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onButtonBlur_(e){if(!this.popC_)return;const n=this.view.element,r=e.relatedTarget;(!r||!n.contains(r))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(e){if(!this.popC_)return;const n=this.popC_.view.element,r=Mv(e);r&&n.contains(r)||r&&r===this.swatchC_.view.buttonElement&&!Oc(n.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(e){this.popC_?e.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&e.key==="Escape"&&this.swatchC_.view.buttonElement.focus()}};function c1(t){return $t(t.getComponents("rgb")).reduce((e,n)=>e<<8|Math.floor(n)&255,0)}function p1(t){return t.getComponents("rgb").reduce((e,n,r)=>{const i=Math.floor(r===3?n*255:n)&255;return e<<8|i},0)>>>0}function d1(t){return new j([t>>16&255,t>>8&255,t&255],"rgb")}function h1(t){return new j([t>>24&255,t>>16&255,t>>8&255,z(t&255,0,255,0,1)],"rgb")}function m1(t){return typeof t!="number"?j.black():d1(t)}function f1(t){return typeof t!="number"?j.black():h1(t)}function vs(t,e){return typeof t!="object"||F(t)?!1:e in t&&typeof t[e]=="number"}function fw(t){return vs(t,"r")&&vs(t,"g")&&vs(t,"b")}function vw(t){return fw(t)&&vs(t,"a")}function ww(t){return fw(t)}function Yc(t,e){if(t.mode!==e.mode||t.type!==e.type)return!1;const n=t.getComponents(),r=e.getComponents();for(let i=0;i<n.length;i++)if(n[i]!==r[i])return!1;return!0}function dh(t){return"a"in t?[t.r,t.g,t.b,t.a]:[t.r,t.g,t.b]}function v1(t){const e=mw(t);return e?(n,r)=>{Vo(n,e(r))}:null}function w1(t){const e=t?p1:c1;return(n,r)=>{Vo(n,e(r))}}function _1(t,e,n){const i=$e(e,n).toRgbaObject();t.writeProperty("r",i.r),t.writeProperty("g",i.g),t.writeProperty("b",i.b),t.writeProperty("a",i.a)}function g1(t,e,n){const i=$e(e,n).toRgbaObject();t.writeProperty("r",i.r),t.writeProperty("g",i.g),t.writeProperty("b",i.b)}function b1(t,e){return(n,r)=>{t?_1(n,r,e):g1(n,r,e)}}function y1(t){var e;return!!(!((e=t==null?void 0:t.color)===null||e===void 0)&&e.alpha)}function C1(t){return t?e=>Wc(e,"0x"):e=>Gc(e,"0x")}function x1(t){return"color"in t||t.view==="color"}const P1=Re({id:"input-color-number",type:"input",accept:(t,e)=>{if(typeof t!="number"||!x1(e))return null;const n=Kc(e);return n?{initialValue:t,params:Object.assign(Object.assign({},n),{supportsAlpha:y1(e)})}:null},binding:{reader:t=>t.params.supportsAlpha?f1:m1,equals:Yc,writer:t=>w1(t.params.supportsAlpha)},controller:t=>{var e,n;return new Qc(t.document,{colorType:"int",expanded:(e=t.params.expanded)!==null&&e!==void 0?e:!1,formatter:C1(t.params.supportsAlpha),parser:Lo("int"),pickerLayout:(n=t.params.picker)!==null&&n!==void 0?n:"popup",supportsAlpha:t.params.supportsAlpha,value:t.value,viewProps:t.viewProps})}});function E1(t,e){if(!ww(t))return $e(j.black(),e);if(e==="int"){const n=dh(t);return new j(n,"rgb")}if(e==="float"){const n=dh(t);return new Hc(n,"rgb")}return $e(j.black(),"int")}function k1(t){return vw(t)}function S1(t){return e=>{const n=E1(e,t);return $e(n,"int")}}function V1(t,e){return n=>t?hw(n,e):dw(n,e)}const L1=Re({id:"input-color-object",type:"input",accept:(t,e)=>{var n;if(!ww(t))return null;const r=Kc(e);return r?{initialValue:t,params:Object.assign(Object.assign({},r),{colorType:(n=ew(e))!==null&&n!==void 0?n:"int"})}:null},binding:{reader:t=>S1(t.params.colorType),equals:Yc,writer:t=>b1(k1(t.initialValue),t.params.colorType)},controller:t=>{var e,n;const r=vw(t.initialValue);return new Qc(t.document,{colorType:t.params.colorType,expanded:(e=t.params.expanded)!==null&&e!==void 0?e:!1,formatter:V1(r,t.params.colorType),parser:Lo("int"),pickerLayout:(n=t.params.picker)!==null&&n!==void 0?n:"popup",supportsAlpha:r,value:t.value,viewProps:t.viewProps})}}),$1=Re({id:"input-color-string",type:"input",accept:(t,e)=>{if(typeof t!="string"||e.view==="text")return null;const n=jC(t,ew(e));if(!n)return null;const r=mw(n);if(!r)return null;const i=Kc(e);return i?{initialValue:t,params:Object.assign(Object.assign({},i),{format:n,stringifier:r})}:null},binding:{reader:()=>IC,equals:Yc,writer:t=>{const e=v1(t.params.format);if(!e)throw Pe.notBindable();return e}},controller:t=>{var e,n;return new Qc(t.document,{colorType:t.params.format.type,expanded:(e=t.params.expanded)!==null&&e!==void 0?e:!1,formatter:t.params.stringifier,parser:Lo("int"),pickerLayout:(n=t.params.picker)!==null&&n!==void 0?n:"popup",supportsAlpha:t.params.format.alpha,value:t.value,viewProps:t.viewProps})}});let Xc=class{constructor(e){this.components=e.components,this.asm_=e.assembly}constrain(e){const n=this.asm_.toComponents(e).map((r,i)=>{var o,s;return(s=(o=this.components[i])===null||o===void 0?void 0:o.constrain(r))!==null&&s!==void 0?s:r});return this.asm_.fromComponents(n)}};const hh=D("pndtxt");let T1=class{constructor(e,n){this.textViews=n.textViews,this.element=e.createElement("div"),this.element.classList.add(hh()),this.textViews.forEach(r=>{const i=e.createElement("div");i.classList.add(hh("a")),i.appendChild(r.element),this.element.appendChild(i)})}};function M1(t,e,n){return new So(t,{arrayPosition:n===0?"fst":n===e.axes.length-1?"lst":"mid",parser:e.parser,props:e.axes[n].textProps,value:W(0,{constraint:e.axes[n].constraint}),viewProps:e.viewProps})}let Zc=class{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.acs_=n.axes.map((r,i)=>M1(e,n,i)),this.acs_.forEach((r,i)=>{oi({primary:this.value,secondary:r.value,forward:o=>n.assembly.toComponents(o)[i],backward:(o,s)=>{const l=n.assembly.toComponents(o);return l[i]=s,n.assembly.fromComponents(l)}})}),this.view=new T1(e,{textViews:this.acs_.map(r=>r.view)})}get textControllers(){return this.acs_}},O1=class extends lo{get max(){return this.controller.valueController.sliderController.props.get("max")}set max(e){this.controller.valueController.sliderController.props.set("max",e)}get min(){return this.controller.valueController.sliderController.props.get("min")}set min(e){this.controller.valueController.sliderController.props.set("min",e)}};function R1(t,e){const n=[],r=Ev(t,e);r&&n.push(r);const i=kv(t);i&&n.push(i);const o=Uc(t.options);return o&&n.push(o),new Po(n)}const N1=Re({id:"input-number",type:"input",accept:(t,e)=>{if(typeof t!="number")return null;const n=J(e,r=>Object.assign(Object.assign({},Vv(r)),{options:r.optional.custom(ko),readonly:r.optional.constant(!1)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>yv,constraint:t=>R1(t.params,t.initialValue),writer:t=>Vo},controller:t=>{const e=t.value,n=t.constraint,r=n&&Hs(n,Eo);if(r)return new Vn(t.document,{props:new M({options:r.values.value("options")}),value:e,viewProps:t.viewProps});const i=Sv(t.params,e.rawValue),o=n&&Hs(n,Co);return o?new Gs(t.document,Object.assign(Object.assign({},Gv(Object.assign(Object.assign({},i),{keyScale:W(i.keyScale),max:o.values.value("max"),min:o.values.value("min")}))),{parser:qt,value:e,viewProps:t.viewProps})):new So(t.document,{parser:qt,props:M.fromObject(i),value:e,viewProps:t.viewProps})},api(t){return typeof t.controller.value.rawValue!="number"?null:t.controller.valueController instanceof Gs?new O1(t.controller):t.controller.valueController instanceof Vn?new Bc(t.controller):null}});let xn=class{constructor(e=0,n=0){this.x=e,this.y=n}getComponents(){return[this.x,this.y]}static isObject(e){if(F(e))return!1;const n=e.x,r=e.y;return!(typeof n!="number"||typeof r!="number")}static equals(e,n){return e.x===n.x&&e.y===n.y}toObject(){return{x:this.x,y:this.y}}};const _w={toComponents:t=>t.getComponents(),fromComponents:t=>new xn(...t)},vr=D("p2d");let D1=class{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(vr()),n.viewProps.bindClassModifiers(this.element),Bt(n.expanded,ni(this.element,vr(void 0,"expanded")));const r=e.createElement("div");r.classList.add(vr("h")),this.element.appendChild(r);const i=e.createElement("button");i.classList.add(vr("b")),i.appendChild(wl(e,"p2dpad")),n.viewProps.bindDisabled(i),r.appendChild(i),this.buttonElement=i;const o=e.createElement("div");if(o.classList.add(vr("t")),r.appendChild(o),this.textElement=o,n.pickerLayout==="inline"){const s=e.createElement("div");s.classList.add(vr("p")),this.element.appendChild(s),this.pickerElement=s}else this.pickerElement=null}};const Jt=D("p2dp");let A1=class{constructor(e,n){this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onPropsChange_=this.onPropsChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.props_=n.props,this.props_.emitter.on("change",this.onPropsChange_),this.element=e.createElement("div"),this.element.classList.add(Jt()),n.layout==="popup"&&this.element.classList.add(Jt(void 0,"p")),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(Jt("p")),n.viewProps.bindTabIndex(r),this.element.appendChild(r),this.padElement=r;const i=e.createElementNS(kt,"svg");i.classList.add(Jt("g")),this.padElement.appendChild(i),this.svgElem_=i;const o=e.createElementNS(kt,"line");o.classList.add(Jt("ax")),o.setAttributeNS(null,"x1","0"),o.setAttributeNS(null,"y1","50%"),o.setAttributeNS(null,"x2","100%"),o.setAttributeNS(null,"y2","50%"),this.svgElem_.appendChild(o);const s=e.createElementNS(kt,"line");s.classList.add(Jt("ax")),s.setAttributeNS(null,"x1","50%"),s.setAttributeNS(null,"y1","0"),s.setAttributeNS(null,"x2","50%"),s.setAttributeNS(null,"y2","100%"),this.svgElem_.appendChild(s);const l=e.createElementNS(kt,"line");l.classList.add(Jt("l")),l.setAttributeNS(null,"x1","50%"),l.setAttributeNS(null,"y1","50%"),this.svgElem_.appendChild(l),this.lineElem_=l;const a=e.createElement("div");a.classList.add(Jt("m")),this.padElement.appendChild(a),this.markerElem_=a,n.value.emitter.on("change",this.onValueChange_),this.value=n.value,this.update_()}get allFocusableElements(){return[this.padElement]}update_(){const[e,n]=this.value.rawValue.getComponents(),r=this.props_.get("max"),i=z(e,-r,+r,0,100),o=z(n,-r,+r,0,100),s=this.props_.get("invertsY")?100-o:o;this.lineElem_.setAttributeNS(null,"x2",`${i}%`),this.lineElem_.setAttributeNS(null,"y2",`${s}%`),this.markerElem_.style.left=`${i}%`,this.markerElem_.style.top=`${s}%`}onValueChange_(){this.update_()}onPropsChange_(){this.update_()}onFoldableChange_(){this.update_()}};function mh(t,e,n){return[Ae(e[0],Gt(t)),Ae(e[1],uo(t))*(n?1:-1)]}let z1=class{constructor(e,n){this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPadKeyUp_=this.onPadKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.view=new A1(e,{layout:n.layout,props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new cr(this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_),this.view.padElement.addEventListener("keyup",this.onPadKeyUp_)}handlePointerEvent_(e,n){if(!e.point)return;const r=this.props.get("max"),i=z(e.point.x,0,e.bounds.width,-r,+r),o=z(this.props.get("invertsY")?e.bounds.height-e.point.y:e.point.y,0,e.bounds.height,-r,+r);this.value.setRawValue(new xn(i,o),n)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onPadKeyDown_(e){qv(e.key)&&e.preventDefault();const[n,r]=mh(e,[this.props.get("xKeyScale"),this.props.get("yKeyScale")],this.props.get("invertsY"));n===0&&r===0||this.value.setRawValue(new xn(this.value.rawValue.x+n,this.value.rawValue.y+r),{forceEmit:!1,last:!1})}onPadKeyUp_(e){const[n,r]=mh(e,[this.props.get("xKeyScale"),this.props.get("yKeyScale")],this.props.get("invertsY"));n===0&&r===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}},j1=class{constructor(e,n){var r,i;this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.foldable_=jc.create(n.expanded),this.popC_=n.pickerLayout==="popup"?new Uv(e,{viewProps:this.viewProps}):null;const o=new z1(e,{layout:n.pickerLayout,props:new M({invertsY:W(n.invertsY),max:W(n.max),xKeyScale:n.axes[0].textProps.value("keyScale"),yKeyScale:n.axes[1].textProps.value("keyScale")}),value:this.value,viewProps:this.viewProps});o.view.allFocusableElements.forEach(s=>{s.addEventListener("blur",this.onPopupChildBlur_),s.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=o,this.textC_=new Zc(e,{assembly:_w,axes:n.axes,parser:n.parser,value:this.value,viewProps:this.viewProps}),this.view=new D1(e,{expanded:this.foldable_.value("expanded"),pickerLayout:n.pickerLayout,viewProps:this.viewProps}),this.view.textElement.appendChild(this.textC_.view.element),(r=this.view.buttonElement)===null||r===void 0||r.addEventListener("blur",this.onPadButtonBlur_),(i=this.view.buttonElement)===null||i===void 0||i.addEventListener("click",this.onPadButtonClick_),this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),oi({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:s=>s,backward:(s,l)=>l})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),Ic(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onPadButtonBlur_(e){if(!this.popC_)return;const n=this.view.element,r=e.relatedTarget;(!r||!n.contains(r))&&(this.popC_.shows.rawValue=!1)}onPadButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(e){if(!this.popC_)return;const n=this.popC_.view.element,r=Mv(e);r&&n.contains(r)||r&&r===this.view.buttonElement&&!Oc(n.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(e){this.popC_?e.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&e.key==="Escape"&&this.view.buttonElement.focus()}};function I1(t){return xn.isObject(t)?new xn(t.x,t.y):new xn}function B1(t,e){t.writeProperty("x",e.x),t.writeProperty("y",e.y)}function F1(t,e){return new Xc({assembly:_w,components:[zt(Object.assign(Object.assign({},t),t.x),e.x),zt(Object.assign(Object.assign({},t),t.y),e.y)]})}function fh(t,e){var n,r;if(!F(t.min)||!F(t.max))return Math.max(Math.abs((n=t.min)!==null&&n!==void 0?n:0),Math.abs((r=t.max)!==null&&r!==void 0?r:0));const i=xv(t);return Math.max(Math.abs(i)*10,Math.abs(e)*10)}function U1(t,e){var n,r;const i=fh(er(t,(n=t.x)!==null&&n!==void 0?n:{}),e.x),o=fh(er(t,(r=t.y)!==null&&r!==void 0?r:{}),e.y);return Math.max(i,o)}function K1(t){if(!("y"in t))return!1;const e=t.y;return e&&"inverted"in e?!!e.inverted:!1}const H1=Re({id:"input-point2d",type:"input",accept:(t,e)=>{if(!xn.isObject(t))return null;const n=J(e,r=>Object.assign(Object.assign({},co(r)),{expanded:r.optional.boolean,picker:r.optional.custom(Qv),readonly:r.optional.constant(!1),x:r.optional.custom(hn),y:r.optional.object(Object.assign(Object.assign({},co(r)),{inverted:r.optional.boolean}))}));return n?{initialValue:t,params:n}:null},binding:{reader:()=>I1,constraint:t=>F1(t.params,t.initialValue),equals:xn.equals,writer:()=>B1},controller:t=>{var e,n;const r=t.document,i=t.value,o=t.constraint,s=[t.params.x,t.params.y];return new j1(r,{axes:i.rawValue.getComponents().map((l,a)=>{var u;return Mc({constraint:o.components[a],initialValue:l,params:er(t.params,(u=s[a])!==null&&u!==void 0?u:{})})}),expanded:(e=t.params.expanded)!==null&&e!==void 0?e:!1,invertsY:K1(t.params),max:U1(t.params,i.rawValue),parser:qt,pickerLayout:(n=t.params.picker)!==null&&n!==void 0?n:"popup",value:i,viewProps:t.viewProps})}});let jr=class{constructor(e=0,n=0,r=0){this.x=e,this.y=n,this.z=r}getComponents(){return[this.x,this.y,this.z]}static isObject(e){if(F(e))return!1;const n=e.x,r=e.y,i=e.z;return!(typeof n!="number"||typeof r!="number"||typeof i!="number")}static equals(e,n){return e.x===n.x&&e.y===n.y&&e.z===n.z}toObject(){return{x:this.x,y:this.y,z:this.z}}};const gw={toComponents:t=>t.getComponents(),fromComponents:t=>new jr(...t)};function q1(t){return jr.isObject(t)?new jr(t.x,t.y,t.z):new jr}function G1(t,e){t.writeProperty("x",e.x),t.writeProperty("y",e.y),t.writeProperty("z",e.z)}function W1(t,e){return new Xc({assembly:gw,components:[zt(Object.assign(Object.assign({},t),t.x),e.x),zt(Object.assign(Object.assign({},t),t.y),e.y),zt(Object.assign(Object.assign({},t),t.z),e.z)]})}const Q1=Re({id:"input-point3d",type:"input",accept:(t,e)=>{if(!jr.isObject(t))return null;const n=J(e,r=>Object.assign(Object.assign({},co(r)),{readonly:r.optional.constant(!1),x:r.optional.custom(hn),y:r.optional.custom(hn),z:r.optional.custom(hn)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>q1,constraint:t=>W1(t.params,t.initialValue),equals:jr.equals,writer:t=>G1},controller:t=>{const e=t.value,n=t.constraint,r=[t.params.x,t.params.y,t.params.z];return new Zc(t.document,{assembly:gw,axes:e.rawValue.getComponents().map((i,o)=>{var s;return Mc({constraint:n.components[o],initialValue:i,params:er(t.params,(s=r[o])!==null&&s!==void 0?s:{})})}),parser:qt,value:e,viewProps:t.viewProps})}});let Ir=class{constructor(e=0,n=0,r=0,i=0){this.x=e,this.y=n,this.z=r,this.w=i}getComponents(){return[this.x,this.y,this.z,this.w]}static isObject(e){if(F(e))return!1;const n=e.x,r=e.y,i=e.z,o=e.w;return!(typeof n!="number"||typeof r!="number"||typeof i!="number"||typeof o!="number")}static equals(e,n){return e.x===n.x&&e.y===n.y&&e.z===n.z&&e.w===n.w}toObject(){return{x:this.x,y:this.y,z:this.z,w:this.w}}};const bw={toComponents:t=>t.getComponents(),fromComponents:t=>new Ir(...t)};function Y1(t){return Ir.isObject(t)?new Ir(t.x,t.y,t.z,t.w):new Ir}function X1(t,e){t.writeProperty("x",e.x),t.writeProperty("y",e.y),t.writeProperty("z",e.z),t.writeProperty("w",e.w)}function Z1(t,e){return new Xc({assembly:bw,components:[zt(Object.assign(Object.assign({},t),t.x),e.x),zt(Object.assign(Object.assign({},t),t.y),e.y),zt(Object.assign(Object.assign({},t),t.z),e.z),zt(Object.assign(Object.assign({},t),t.w),e.w)]})}const J1=Re({id:"input-point4d",type:"input",accept:(t,e)=>{if(!Ir.isObject(t))return null;const n=J(e,r=>Object.assign(Object.assign({},co(r)),{readonly:r.optional.constant(!1),w:r.optional.custom(hn),x:r.optional.custom(hn),y:r.optional.custom(hn),z:r.optional.custom(hn)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>Y1,constraint:t=>Z1(t.params,t.initialValue),equals:Ir.equals,writer:t=>X1},controller:t=>{const e=t.value,n=t.constraint,r=[t.params.x,t.params.y,t.params.z,t.params.w];return new Zc(t.document,{assembly:bw,axes:e.rawValue.getComponents().map((i,o)=>{var s;return Mc({constraint:n.components[o],initialValue:i,params:er(t.params,(s=r[o])!==null&&s!==void 0?s:{})})}),parser:qt,value:e,viewProps:t.viewProps})}});function ex(t){const e=[],n=Uc(t.options);return n&&e.push(n),new Po(e)}const tx=Re({id:"input-string",type:"input",accept:(t,e)=>{if(typeof t!="string")return null;const n=J(e,r=>({readonly:r.optional.constant(!1),options:r.optional.custom(ko)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>Hv,constraint:t=>ex(t.params),writer:t=>Vo},controller:t=>{const e=t.document,n=t.value,r=t.constraint,i=r&&Hs(r,Eo);return i?new Vn(e,{props:new M({options:i.values.value("options")}),value:n,viewProps:t.viewProps}):new ao(e,{parser:o=>o,props:M.fromObject({formatter:Pu}),value:n,viewProps:t.viewProps})},api(t){return typeof t.controller.value.rawValue!="string"?null:t.controller.valueController instanceof Vn?new Bc(t.controller):null}}),$o={monitor:{defaultInterval:200,defaultRows:3}},vh=D("mll");let nx=class{constructor(e,n){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=n.formatter,this.element=e.createElement("div"),this.element.classList.add(vh()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("textarea");r.classList.add(vh("i")),r.style.height=`calc(var(${Wv("containerUnitSize")}) * ${n.rows})`,r.readOnly=!0,n.viewProps.bindDisabled(r),this.element.appendChild(r),this.textareaElem_=r,n.value.emitter.on("change",this.onValueUpdate_),this.value=n.value,this.update_()}update_(){const e=this.textareaElem_,n=e.scrollTop===e.scrollHeight-e.clientHeight,r=[];this.value.rawValue.forEach(i=>{i!==void 0&&r.push(this.formatter_(i))}),e.textContent=r.join(`
`),n&&(e.scrollTop=e.scrollHeight)}onValueUpdate_(){this.update_()}},Jc=class{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.view=new nx(e,{formatter:n.formatter,rows:n.rows,value:this.value,viewProps:this.viewProps})}};const wh=D("sgl");let rx=class{constructor(e,n){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=n.formatter,this.element=e.createElement("div"),this.element.classList.add(wh()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("input");r.classList.add(wh("i")),r.readOnly=!0,r.type="text",n.viewProps.bindDisabled(r),this.element.appendChild(r),this.inputElement=r,n.value.emitter.on("change",this.onValueUpdate_),this.value=n.value,this.update_()}update_(){const e=this.value.rawValue,n=e[e.length-1];this.inputElement.value=n!==void 0?this.formatter_(n):""}onValueUpdate_(){this.update_()}},ep=class{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.view=new rx(e,{formatter:n.formatter,value:this.value,viewProps:this.viewProps})}};const ix=Re({id:"monitor-bool",type:"monitor",accept:(t,e)=>{if(typeof t!="boolean")return null;const n=J(e,r=>({readonly:r.required.constant(!0),rows:r.optional.number}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>Kv},controller:t=>{var e;return t.value.rawValue.length===1?new ep(t.document,{formatter:lh,value:t.value,viewProps:t.viewProps}):new Jc(t.document,{formatter:lh,rows:(e=t.params.rows)!==null&&e!==void 0?e:$o.monitor.defaultRows,value:t.value,viewProps:t.viewProps})}});let ox=class extends lo{get max(){return this.controller.valueController.props.get("max")}set max(e){this.controller.valueController.props.set("max",e)}get min(){return this.controller.valueController.props.get("min")}set min(e){this.controller.valueController.props.set("min",e)}};const en=D("grl");let sx=class{constructor(e,n){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=e.createElement("div"),this.element.classList.add(en()),n.viewProps.bindClassModifiers(this.element),this.formatter_=n.formatter,this.props_=n.props,this.cursor_=n.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);const r=e.createElementNS(kt,"svg");r.classList.add(en("g")),r.style.height=`calc(var(${Wv("containerUnitSize")}) * ${n.rows})`,this.element.appendChild(r),this.svgElem_=r;const i=e.createElementNS(kt,"polyline");this.svgElem_.appendChild(i),this.lineElem_=i;const o=e.createElement("div");o.classList.add(en("t"),D("tt")()),this.element.appendChild(o),this.tooltipElem_=o,n.value.emitter.on("change",this.onValueUpdate_),this.value=n.value,this.update_()}get graphElement(){return this.svgElem_}update_(){const{clientWidth:e,clientHeight:n}=this.element,r=this.value.rawValue.length-1,i=this.props_.get("min"),o=this.props_.get("max"),s=[];this.value.rawValue.forEach((d,f)=>{if(d===void 0)return;const _=z(f,0,r,0,e),g=z(d,i,o,n,0);s.push([_,g].join(","))}),this.lineElem_.setAttributeNS(null,"points",s.join(" "));const l=this.tooltipElem_,a=this.value.rawValue[this.cursor_.rawValue];if(a===void 0){l.classList.remove(en("t","a"));return}const u=z(this.cursor_.rawValue,0,r,0,e),p=z(a,i,o,n,0);l.style.left=`${u}px`,l.style.top=`${p}px`,l.textContent=`${this.formatter_(a)}`,l.classList.contains(en("t","a"))||(l.classList.add(en("t","a"),en("t","in")),Ks(l),l.classList.remove(en("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}},yw=class{constructor(e,n){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.cursor_=W(-1),this.view=new sx(e,{cursor:this.cursor_,formatter:n.formatter,rows:n.rows,props:this.props,value:this.value,viewProps:this.viewProps}),!Oc(e))this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_);else{const r=new cr(this.view.element);r.emitter.on("down",this.onGraphPointerDown_),r.emitter.on("move",this.onGraphPointerMove_),r.emitter.on("up",this.onGraphPointerUp_)}}importProps(e){return Ye(e,null,n=>({max:n.required.number,min:n.required.number}),n=>(this.props.set("max",n.max),this.props.set("min",n.min),!0))}exportProps(){return Xe(null,{max:this.props.get("max"),min:this.props.get("min")})}onGraphMouseLeave_(){this.cursor_.rawValue=-1}onGraphMouseMove_(e){const{clientWidth:n}=this.view.element;this.cursor_.rawValue=Math.floor(z(e.offsetX,0,n,0,this.value.rawValue.length))}onGraphPointerDown_(e){this.onGraphPointerMove_(e)}onGraphPointerMove_(e){if(!e.data.point){this.cursor_.rawValue=-1;return}this.cursor_.rawValue=Math.floor(z(e.data.point.x,0,e.data.bounds.width,0,this.value.rawValue.length))}onGraphPointerUp_(){this.cursor_.rawValue=-1}};function Eu(t){return F(t.format)?Be(2):t.format}function lx(t){var e;return t.value.rawValue.length===1?new ep(t.document,{formatter:Eu(t.params),value:t.value,viewProps:t.viewProps}):new Jc(t.document,{formatter:Eu(t.params),rows:(e=t.params.rows)!==null&&e!==void 0?e:$o.monitor.defaultRows,value:t.value,viewProps:t.viewProps})}function ax(t){var e,n,r;return new yw(t.document,{formatter:Eu(t.params),rows:(e=t.params.rows)!==null&&e!==void 0?e:$o.monitor.defaultRows,props:M.fromObject({max:(n=t.params.max)!==null&&n!==void 0?n:100,min:(r=t.params.min)!==null&&r!==void 0?r:0}),value:t.value,viewProps:t.viewProps})}function _h(t){return t.view==="graph"}const ux=Re({id:"monitor-number",type:"monitor",accept:(t,e)=>{if(typeof t!="number")return null;const n=J(e,r=>({format:r.optional.function,max:r.optional.number,min:r.optional.number,readonly:r.required.constant(!0),rows:r.optional.number,view:r.optional.string}));return n?{initialValue:t,params:n}:null},binding:{defaultBufferSize:t=>_h(t)?64:1,reader:t=>yv},controller:t=>_h(t.params)?ax(t):lx(t),api:t=>t.controller.valueController instanceof yw?new ox(t.controller):null}),cx=Re({id:"monitor-string",type:"monitor",accept:(t,e)=>{if(typeof t!="string")return null;const n=J(e,r=>({multiline:r.optional.boolean,readonly:r.required.constant(!0),rows:r.optional.number}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>Hv},controller:t=>{var e;const n=t.value;return n.rawValue.length>1||t.params.multiline?new Jc(t.document,{formatter:Pu,rows:(e=t.params.rows)!==null&&e!==void 0?e:$o.monitor.defaultRows,value:n,viewProps:t.viewProps}):new ep(t.document,{formatter:Pu,value:n,viewProps:t.viewProps})}});class px{constructor(){this.map_=new Map}get(e){var n;return(n=this.map_.get(e))!==null&&n!==void 0?n:null}has(e){return this.map_.has(e)}add(e,n){return this.map_.set(e,n),e.viewProps.handleDispose(()=>{this.map_.delete(e)}),n}}class dx{constructor(e){this.target=e.target,this.reader_=e.reader,this.writer_=e.writer}read(){return this.reader_(this.target.read())}write(e){this.writer_(this.target,e)}inject(e){this.write(this.reader_(e))}}function hx(t,e){var n;const r=t.accept(e.target.read(),e.params);if(F(r))return null;const i={target:e.target,initialValue:r.initialValue,params:r.params},o=J(e.params,d=>({disabled:d.optional.boolean,hidden:d.optional.boolean,label:d.optional.string,tag:d.optional.string})),s=t.binding.reader(i),l=t.binding.constraint?t.binding.constraint(i):void 0,a=new dx({reader:s,target:e.target,writer:t.binding.writer(i)}),u=new Z0(W(s(r.initialValue),{constraint:l,equals:t.binding.equals}),a),p=t.controller({constraint:l,document:e.document,initialValue:r.initialValue,params:r.params,value:u,viewProps:ur.create({disabled:o==null?void 0:o.disabled,hidden:o==null?void 0:o.hidden})});return new hy(e.document,{blade:ii(),props:M.fromObject({label:"label"in e.params?(n=o==null?void 0:o.label)!==null&&n!==void 0?n:null:e.target.key}),tag:o==null?void 0:o.tag,value:u,valueController:p})}class mx{constructor(e){this.target=e.target,this.reader_=e.reader}read(){return this.reader_(this.target.read())}}function fx(t,e){return e===0?new Qy:new Yy(t,e??$o.monitor.defaultInterval)}function vx(t,e){var n,r,i;const o=t.accept(e.target.read(),e.params);if(F(o))return null;const s={target:e.target,initialValue:o.initialValue,params:o.params},l=J(e.params,f=>({bufferSize:f.optional.number,disabled:f.optional.boolean,hidden:f.optional.boolean,interval:f.optional.number,label:f.optional.string})),a=t.binding.reader(s),u=(r=(n=l==null?void 0:l.bufferSize)!==null&&n!==void 0?n:t.binding.defaultBufferSize&&t.binding.defaultBufferSize(o.params))!==null&&r!==void 0?r:1,p=new _y({binding:new mx({reader:a,target:e.target}),bufferSize:u,ticker:fx(e.document,l==null?void 0:l.interval)}),d=t.controller({document:e.document,params:o.params,value:p,viewProps:ur.create({disabled:l==null?void 0:l.disabled,hidden:l==null?void 0:l.hidden})});return d.viewProps.bindDisabled(p.ticker),d.viewProps.handleDispose(()=>{p.ticker.dispose()}),new by(e.document,{blade:ii(),props:M.fromObject({label:"label"in e.params?(i=l==null?void 0:l.label)!==null&&i!==void 0?i:null:e.target.key}),value:p,valueController:d})}class wx{constructor(e){this.pluginsMap_={blades:[],inputs:[],monitors:[]},this.apiCache_=e}getAll(){return[...this.pluginsMap_.blades,...this.pluginsMap_.inputs,...this.pluginsMap_.monitors]}register(e,n){if(!uC(n.core))throw Pe.notCompatible(e,n.id);n.type==="blade"?this.pluginsMap_.blades.unshift(n):n.type==="input"?this.pluginsMap_.inputs.unshift(n):n.type==="monitor"&&this.pluginsMap_.monitors.unshift(n)}createInput_(e,n,r){return this.pluginsMap_.inputs.reduce((i,o)=>i??hx(o,{document:e,target:n,params:r}),null)}createMonitor_(e,n,r){return this.pluginsMap_.monitors.reduce((i,o)=>i??vx(o,{document:e,params:r,target:n}),null)}createBinding(e,n,r){const i=n.read();if(F(i))throw new Pe({context:{key:n.key},type:"nomatchingcontroller"});const o=this.createInput_(e,n,r);if(o)return o;const s=this.createMonitor_(e,n,r);if(s)return s;throw new Pe({context:{key:n.key},type:"nomatchingcontroller"})}createBlade(e,n){const r=this.pluginsMap_.blades.reduce((i,o)=>i??Wy(o,{document:e,params:n}),null);if(!r)throw new Pe({type:"nomatchingview",context:{params:n}});return r}createInputBindingApi_(e){const n=this.pluginsMap_.inputs.reduce((r,i)=>{var o,s;return r||((s=(o=i.api)===null||o===void 0?void 0:o.call(i,{controller:e}))!==null&&s!==void 0?s:null)},null);return this.apiCache_.add(e,n??new lo(e))}createMonitorBindingApi_(e){const n=this.pluginsMap_.monitors.reduce((r,i)=>{var o,s;return r||((s=(o=i.api)===null||o===void 0?void 0:o.call(i,{controller:e}))!==null&&s!==void 0?s:null)},null);return this.apiCache_.add(e,n??new lo(e))}createBindingApi(e){if(this.apiCache_.has(e))return this.apiCache_.get(e);if(my(e))return this.createInputBindingApi_(e);if(yy(e))return this.createMonitorBindingApi_(e);throw Pe.shouldNeverHappen()}createApi(e){if(this.apiCache_.has(e))return this.apiCache_.get(e);if(dy(e))return this.createBindingApi(e);const n=this.pluginsMap_.blades.reduce((r,i)=>r??i.api({controller:e,pool:this}),null);if(!n)throw Pe.shouldNeverHappen();return this.apiCache_.add(e,n)}}const _x=new px;function gx(){const t=new wx(_x);return[H1,Q1,J1,tx,N1,$1,L1,P1,hC,ix,cx,ux,ky,jy,Fv].forEach(e=>{t.register("core",e)}),t}class bx extends ar{constructor(e){super(e),this.emitter_=new ae,this.controller.value.emitter.on("change",n=>{this.emitter_.emit("change",new xo(this,n.rawValue))})}get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get options(){return this.controller.valueController.props.get("options")}set options(e){this.controller.valueController.props.set("options",e)}get value(){return this.controller.value.rawValue}set value(e){this.controller.value.rawValue=e}on(e,n){const r=n.bind(this);return this.emitter_.on(e,i=>{r(i)},{key:n}),this}off(e,n){return this.emitter_.off(e,n),this}}class yx extends ar{}class Cx extends ar{constructor(e){super(e),this.emitter_=new ae,this.controller.value.emitter.on("change",n=>{this.emitter_.emit("change",new xo(this,n.rawValue))})}get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get max(){return this.controller.valueController.sliderController.props.get("max")}set max(e){this.controller.valueController.sliderController.props.set("max",e)}get min(){return this.controller.valueController.sliderController.props.get("min")}set min(e){this.controller.valueController.sliderController.props.set("min",e)}get value(){return this.controller.value.rawValue}set value(e){this.controller.value.rawValue=e}on(e,n){const r=n.bind(this);return this.emitter_.on(e,i=>{r(i)},{key:n}),this}off(e,n){return this.emitter_.off(e,n),this}}class xx extends ar{constructor(e){super(e),this.emitter_=new ae,this.controller.value.emitter.on("change",n=>{this.emitter_.emit("change",new xo(this,n.rawValue))})}get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get formatter(){return this.controller.valueController.props.get("formatter")}set formatter(e){this.controller.valueController.props.set("formatter",e)}get value(){return this.controller.value.rawValue}set value(e){this.controller.value.rawValue=e}on(e,n){const r=n.bind(this);return this.emitter_.on(e,i=>{r(i)},{key:n}),this}off(e,n){return this.emitter_.off(e,n),this}}const Px=function(){return{id:"list",type:"blade",core:ri,accept(t){const e=J(t,n=>({options:n.required.custom(ko),value:n.required.raw,view:n.required.constant("list"),label:n.optional.string}));return e?{params:e}:null},controller(t){const e=new Eo(Fc(t.params.options)),n=W(t.params.value,{constraint:e}),r=new Vn(t.document,{props:new M({options:e.values.value("options")}),value:n,viewProps:t.viewProps});return new tr(t.document,{blade:t.blade,props:M.fromObject({label:t.params.label}),value:n,valueController:r})},api(t){return!(t.controller instanceof tr)||!(t.controller.valueController instanceof Vn)?null:new bx(t.controller)}}}();class Ex extends jv{constructor(e,n){super(e,n)}get element(){return this.controller.view.element}}class kx extends Cu{constructor(e,n){super(e,{expanded:n.expanded,blade:n.blade,props:n.props,root:!0,viewProps:n.viewProps})}}const gh=D("spr");class Sx{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(gh()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("hr");r.classList.add(gh("r")),this.element.appendChild(r)}}class bh extends _l{constructor(e,n){super(Object.assign(Object.assign({},n),{view:new Sx(e,{viewProps:n.viewProps})}))}}const Vx={id:"separator",type:"blade",core:ri,accept(t){const e=J(t,n=>({view:n.required.constant("separator")}));return e?{params:e}:null},controller(t){return new bh(t.document,{blade:t.blade,viewProps:t.viewProps})},api(t){return t.controller instanceof bh?new yx(t.controller):null}},Lx={id:"slider",type:"blade",core:ri,accept(t){const e=J(t,n=>({max:n.required.number,min:n.required.number,view:n.required.constant("slider"),format:n.optional.function,label:n.optional.string,value:n.optional.number}));return e?{params:e}:null},controller(t){var e,n;const r=(e=t.params.value)!==null&&e!==void 0?e:0,i=new Co({max:t.params.max,min:t.params.min}),o=W(r,{constraint:i}),s=new Gs(t.document,Object.assign(Object.assign({},Gv({formatter:(n=t.params.format)!==null&&n!==void 0?n:G0,keyScale:W(1),max:i.values.value("max"),min:i.values.value("min"),pointerScale:Pv(t.params,r)})),{parser:qt,value:o,viewProps:t.viewProps}));return new tr(t.document,{blade:t.blade,props:M.fromObject({label:t.params.label}),value:o,valueController:s})},api(t){return!(t.controller instanceof tr)||!(t.controller.valueController instanceof Gs)?null:new Cx(t.controller)}},$x=function(){return{id:"text",type:"blade",core:ri,accept(t){const e=J(t,n=>({parse:n.required.function,value:n.required.raw,view:n.required.constant("text"),format:n.optional.function,label:n.optional.string}));return e?{params:e}:null},controller(t){var e;const n=W(t.params.value),r=new ao(t.document,{parser:t.params.parse,props:M.fromObject({formatter:(e=t.params.format)!==null&&e!==void 0?e:i=>String(i)}),value:n,viewProps:t.viewProps});return new tr(t.document,{blade:t.blade,props:M.fromObject({label:t.params.label}),value:n,valueController:r})},api(t){return!(t.controller instanceof tr)||!(t.controller.valueController instanceof ao)?null:new xx(t.controller)}}}();function Tx(t){const e=t.createElement("div");return e.classList.add(D("dfw")()),t.body&&t.body.appendChild(e),e}function Mx(t,e,n){if(t.querySelector(`style[data-tp-style=${e}]`))return;const r=t.createElement("style");r.dataset.tpStyle=e,r.textContent=n,t.head.appendChild(r)}class Ox extends Ex{constructor(e){var n,r;const i=e??{},o=(n=i.document)!==null&&n!==void 0?n:oy(),s=gx(),l=new kx(o,{expanded:i.expanded,blade:ii(),props:M.fromObject({title:i.title}),viewProps:ur.create()});super(l,s),this.pool_=s,this.containerElem_=(r=i.container)!==null&&r!==void 0?r:Tx(o),this.containerElem_.appendChild(this.element),this.doc_=o,this.usesDefaultWrapper_=!i.container,this.setUpDefaultPlugins_()}get document(){if(!this.doc_)throw Pe.alreadyDisposed();return this.doc_}dispose(){const e=this.containerElem_;if(!e)throw Pe.alreadyDisposed();if(this.usesDefaultWrapper_){const n=e.parentElement;n&&n.removeChild(e)}this.containerElem_=null,this.doc_=null,super.dispose()}registerPlugin(e){e.css&&Mx(this.document,`plugin-${e.id}`,e.css),("plugin"in e?[e.plugin]:"plugins"in e?e.plugins:[]).forEach(r=>{this.pool_.register(e.id,r)})}setUpDefaultPlugins_(){this.registerPlugin({id:"default",css:'.tp-tbiv_b,.tp-coltxtv_ms,.tp-colswv_b,.tp-ckbv_i,.tp-sglv_i,.tp-mllv_i,.tp-grlv_g,.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw,.tp-rotv_b,.tp-fldv_b,.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{background-color:var(--btn-bg);border-radius:var(--bld-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--cnt-usz);line-height:var(--cnt-usz);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-p2dv_b:hover,.tp-btnv_b:hover,.tp-lstv_s:hover{background-color:var(--btn-bg-h)}.tp-p2dv_b:focus,.tp-btnv_b:focus,.tp-lstv_s:focus{background-color:var(--btn-bg-f)}.tp-p2dv_b:active,.tp-btnv_b:active,.tp-lstv_s:active{background-color:var(--btn-bg-a)}.tp-p2dv_b:disabled,.tp-btnv_b:disabled,.tp-lstv_s:disabled{opacity:.5}.tp-rotv_c>.tp-cntv.tp-v-lst,.tp-tbpv_c>.tp-cntv.tp-v-lst,.tp-fldv_c>.tp-cntv.tp-v-lst{margin-bottom:calc(-1*var(--cnt-vp))}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-tbpv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_c{border-bottom-left-radius:0}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-tbpv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_b{border-bottom-left-radius:0}.tp-rotv_c>*:not(.tp-v-fst),.tp-tbpv_c>*:not(.tp-v-fst),.tp-fldv_c>*:not(.tp-v-fst){margin-top:var(--cnt-usp)}.tp-rotv_c>.tp-sprv:not(.tp-v-fst),.tp-tbpv_c>.tp-sprv:not(.tp-v-fst),.tp-fldv_c>.tp-sprv:not(.tp-v-fst),.tp-rotv_c>.tp-cntv:not(.tp-v-fst),.tp-tbpv_c>.tp-cntv:not(.tp-v-fst),.tp-fldv_c>.tp-cntv:not(.tp-v-fst){margin-top:var(--cnt-vp)}.tp-rotv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-tbpv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-tbpv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-cntv+*:not(.tp-v-hidden){margin-top:var(--cnt-vp)}.tp-rotv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-tbpv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-fldv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-rotv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-tbpv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-fldv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv{margin-top:0}.tp-tbpv_c>.tp-cntv,.tp-fldv_c>.tp-cntv{margin-left:4px}.tp-tbpv_c>.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-fldv>.tp-fldv_b{border-top-left-radius:var(--bld-br);border-bottom-left-radius:var(--bld-br)}.tp-tbpv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b{border-bottom-left-radius:0}.tp-tbpv_c .tp-fldv>.tp-fldv_c,.tp-fldv_c .tp-fldv>.tp-fldv_c{border-bottom-left-radius:var(--bld-br)}.tp-tbpv_c>.tp-cntv+.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-cntv+.tp-fldv>.tp-fldv_b{border-top-left-radius:0}.tp-tbpv_c>.tp-cntv+.tp-tabv>.tp-tabv_t,.tp-fldv_c>.tp-cntv+.tp-tabv>.tp-tabv_t{border-top-left-radius:0}.tp-tbpv_c>.tp-tabv>.tp-tabv_t,.tp-fldv_c>.tp-tabv>.tp-tabv_t{border-top-left-radius:var(--bld-br)}.tp-tbpv_c .tp-tabv>.tp-tabv_c,.tp-fldv_c .tp-tabv>.tp-tabv_c{border-bottom-left-radius:var(--bld-br)}.tp-rotv_b,.tp-fldv_b{background-color:var(--cnt-bg);color:var(--cnt-fg);cursor:pointer;display:block;height:calc(var(--cnt-usz) + 4px);line-height:calc(var(--cnt-usz) + 4px);overflow:hidden;padding-left:var(--cnt-hp);padding-right:calc(4px + var(--cnt-usz) + var(--cnt-hp));position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-rotv_b:hover,.tp-fldv_b:hover{background-color:var(--cnt-bg-h)}.tp-rotv_b:focus,.tp-fldv_b:focus{background-color:var(--cnt-bg-f)}.tp-rotv_b:active,.tp-fldv_b:active{background-color:var(--cnt-bg-a)}.tp-rotv_b:disabled,.tp-fldv_b:disabled{opacity:.5}.tp-rotv_m,.tp-fldv_m{background:linear-gradient(to left, var(--cnt-fg), var(--cnt-fg) 2px, transparent 2px, transparent 4px, var(--cnt-fg) 4px);border-radius:2px;bottom:0;content:"";display:block;height:6px;right:calc(var(--cnt-hp) + (var(--cnt-usz) + 4px - 6px)/2 - 2px);margin:auto;opacity:.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-rotv.tp-rotv-expanded .tp-rotv_m,.tp-fldv.tp-fldv-expanded>.tp-fldv_b>.tp-fldv_m{transform:none}.tp-rotv_c,.tp-fldv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-rotv.tp-rotv-cpl:not(.tp-rotv-expanded) .tp-rotv_c,.tp-fldv.tp-fldv-cpl:not(.tp-fldv-expanded)>.tp-fldv_c{display:none}.tp-rotv.tp-rotv-expanded .tp-rotv_c,.tp-fldv.tp-fldv-expanded>.tp-fldv_c{opacity:1;padding-bottom:var(--cnt-vp);padding-top:var(--cnt-vp);transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw{background-color:var(--in-bg);border-radius:var(--bld-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--cnt-usz);line-height:var(--cnt-usz);min-width:0;width:100%}.tp-txtv_i:hover,.tp-p2dpv_p:hover,.tp-colswv_sw:hover{background-color:var(--in-bg-h)}.tp-txtv_i:focus,.tp-p2dpv_p:focus,.tp-colswv_sw:focus{background-color:var(--in-bg-f)}.tp-txtv_i:active,.tp-p2dpv_p:active,.tp-colswv_sw:active{background-color:var(--in-bg-a)}.tp-txtv_i:disabled,.tp-p2dpv_p:disabled,.tp-colswv_sw:disabled{opacity:.5}.tp-lstv,.tp-coltxtv_m{position:relative}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m,.tp-coltxtv_mm{bottom:0;margin:auto;pointer-events:none;position:absolute;right:2px;top:0}.tp-lstv_m svg,.tp-coltxtv_mm svg{bottom:0;height:16px;margin:auto;position:absolute;right:0;top:0;width:16px}.tp-lstv_m svg path,.tp-coltxtv_mm svg path{fill:currentColor}.tp-sglv_i,.tp-mllv_i,.tp-grlv_g{background-color:var(--mo-bg);border-radius:var(--bld-br);box-sizing:border-box;color:var(--mo-fg);height:var(--cnt-usz);scrollbar-color:currentColor rgba(0,0,0,0);scrollbar-width:thin;width:100%}.tp-sglv_i::-webkit-scrollbar,.tp-mllv_i::-webkit-scrollbar,.tp-grlv_g::-webkit-scrollbar{height:8px;width:8px}.tp-sglv_i::-webkit-scrollbar-corner,.tp-mllv_i::-webkit-scrollbar-corner,.tp-grlv_g::-webkit-scrollbar-corner{background-color:rgba(0,0,0,0)}.tp-sglv_i::-webkit-scrollbar-thumb,.tp-mllv_i::-webkit-scrollbar-thumb,.tp-grlv_g::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:currentColor;border:rgba(0,0,0,0) solid 2px;border-radius:4px}.tp-pndtxtv,.tp-coltxtv_w{display:flex}.tp-pndtxtv_a,.tp-coltxtv_c{width:100%}.tp-pndtxtv_a+.tp-pndtxtv_a,.tp-coltxtv_c+.tp-pndtxtv_a,.tp-pndtxtv_a+.tp-coltxtv_c,.tp-coltxtv_c+.tp-coltxtv_c{margin-left:2px}.tp-rotv{--bs-bg: var(--tp-base-background-color, hsl(230, 7%, 17%));--bs-br: var(--tp-base-border-radius, 6px);--bs-ff: var(--tp-base-font-family, Roboto Mono, Source Code Pro, Menlo, Courier, monospace);--bs-sh: var(--tp-base-shadow-color, rgba(0, 0, 0, 0.2));--bld-br: var(--tp-blade-border-radius, 2px);--bld-hp: var(--tp-blade-horizontal-padding, 4px);--bld-vw: var(--tp-blade-value-width, 160px);--btn-bg: var(--tp-button-background-color, hsl(230, 7%, 70%));--btn-bg-a: var(--tp-button-background-color-active, #d6d7db);--btn-bg-f: var(--tp-button-background-color-focus, #c8cad0);--btn-bg-h: var(--tp-button-background-color-hover, #bbbcc4);--btn-fg: var(--tp-button-foreground-color, hsl(230, 7%, 17%));--cnt-bg: var(--tp-container-background-color, rgba(187, 188, 196, 0.1));--cnt-bg-a: var(--tp-container-background-color-active, rgba(187, 188, 196, 0.25));--cnt-bg-f: var(--tp-container-background-color-focus, rgba(187, 188, 196, 0.2));--cnt-bg-h: var(--tp-container-background-color-hover, rgba(187, 188, 196, 0.15));--cnt-fg: var(--tp-container-foreground-color, hsl(230, 7%, 75%));--cnt-hp: var(--tp-container-horizontal-padding, 4px);--cnt-vp: var(--tp-container-vertical-padding, 4px);--cnt-usp: var(--tp-container-unit-spacing, 4px);--cnt-usz: var(--tp-container-unit-size, 20px);--in-bg: var(--tp-input-background-color, rgba(187, 188, 196, 0.1));--in-bg-a: var(--tp-input-background-color-active, rgba(187, 188, 196, 0.25));--in-bg-f: var(--tp-input-background-color-focus, rgba(187, 188, 196, 0.2));--in-bg-h: var(--tp-input-background-color-hover, rgba(187, 188, 196, 0.15));--in-fg: var(--tp-input-foreground-color, hsl(230, 7%, 75%));--lbl-fg: var(--tp-label-foreground-color, rgba(187, 188, 196, 0.7));--mo-bg: var(--tp-monitor-background-color, rgba(0, 0, 0, 0.2));--mo-fg: var(--tp-monitor-foreground-color, rgba(187, 188, 196, 0.7));--grv-fg: var(--tp-groove-foreground-color, rgba(187, 188, 196, 0.1))}.tp-btnv_b{width:100%}.tp-btnv_t{text-align:center}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_w{background-color:var(--in-bg);border-radius:var(--bld-br);cursor:pointer;display:block;height:var(--cnt-usz);position:relative;width:var(--cnt-usz)}.tp-ckbv_w svg{bottom:0;display:block;height:16px;left:0;margin:auto;opacity:0;position:absolute;right:0;top:0;width:16px}.tp-ckbv_w svg path{fill:none;stroke:var(--in-fg);stroke-width:2}.tp-ckbv_i:hover+.tp-ckbv_w{background-color:var(--in-bg-h)}.tp-ckbv_i:focus+.tp-ckbv_w{background-color:var(--in-bg-f)}.tp-ckbv_i:active+.tp-ckbv_w{background-color:var(--in-bg-a)}.tp-ckbv_i:checked+.tp-ckbv_w svg{opacity:1}.tp-ckbv.tp-v-disabled .tp-ckbv_w{opacity:.5}.tp-colv{position:relative}.tp-colv_h{display:flex}.tp-colv_s{flex-grow:0;flex-shrink:0;width:var(--cnt-usz)}.tp-colv_t{flex:1;margin-left:4px}.tp-colv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-colv.tp-colv-expanded.tp-colv-cpl .tp-colv_p{overflow:visible}.tp-colv.tp-colv-expanded .tp-colv_p{margin-top:var(--cnt-usp);opacity:1}.tp-colv .tp-popv{left:calc(-1*var(--cnt-hp));right:calc(-1*var(--cnt-hp));top:var(--cnt-usz)}.tp-colpv_h,.tp-colpv_ap{margin-left:6px;margin-right:6px}.tp-colpv_h{margin-top:var(--cnt-usp)}.tp-colpv_rgb{display:flex;margin-top:var(--cnt-usp);width:100%}.tp-colpv_a{display:flex;margin-top:var(--cnt-vp);padding-top:calc(var(--cnt-vp) + 2px);position:relative}.tp-colpv_a::before{background-color:var(--grv-fg);content:"";height:2px;left:calc(-1*var(--cnt-hp));position:absolute;right:calc(-1*var(--cnt-hp));top:0}.tp-colpv.tp-v-disabled .tp-colpv_a::before{opacity:.5}.tp-colpv_ap{align-items:center;display:flex;flex:3}.tp-colpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:var(--bld-br);outline:none;overflow:hidden;position:relative}.tp-svpv.tp-v-disabled{opacity:.5}.tp-svpv_c{cursor:crosshair;display:block;height:calc(var(--cnt-usz)*4);width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0, 0, 0, 0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--cnt-usz);outline:none;position:relative}.tp-hplv.tp-v-disabled{opacity:.5}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:var(--bld-br);border:rgba(255,255,255,.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--cnt-usz);outline:none;position:relative;width:100%}.tp-aplv.tp-v-disabled{opacity:.5}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:var(--bld-br);box-shadow:0 0 2px rgba(0,0,0,.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;pointer-events:none;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:var(--bld-br);border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-colswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:var(--bld-br);overflow:hidden}.tp-colswv.tp-v-disabled{opacity:.5}.tp-colswv_sw{border-radius:0}.tp-colswv_b{cursor:pointer;display:block;height:var(--cnt-usz);left:0;position:absolute;top:0;width:var(--cnt-usz)}.tp-colswv_b:focus::after{border:rgba(255,255,255,.75) solid 2px;border-radius:var(--bld-br);bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}.tp-coltxtv{display:flex;width:100%}.tp-coltxtv_m{margin-right:4px}.tp-coltxtv_ms{border-radius:var(--bld-br);color:var(--lbl-fg);cursor:pointer;height:var(--cnt-usz);line-height:var(--cnt-usz);padding:0 18px 0 4px}.tp-coltxtv_ms:hover{background-color:var(--in-bg-h)}.tp-coltxtv_ms:focus{background-color:var(--in-bg-f)}.tp-coltxtv_ms:active{background-color:var(--in-bg-a)}.tp-coltxtv_mm{color:var(--lbl-fg)}.tp-coltxtv.tp-v-disabled .tp-coltxtv_mm{opacity:.5}.tp-coltxtv_w{flex:1}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv{position:relative}.tp-fldv_t{padding-left:4px}.tp-fldv_b:disabled .tp-fldv_m{display:none}.tp-fldv_c{padding-left:4px}.tp-fldv_i{bottom:0;color:var(--cnt-bg);left:0;overflow:hidden;position:absolute;top:calc(var(--cnt-usz) + 4px);width:max(var(--bs-br),4px)}.tp-fldv_i::before{background-color:currentColor;bottom:0;content:"";left:0;position:absolute;top:0;width:4px}.tp-fldv_b:hover+.tp-fldv_i{color:var(--cnt-bg-h)}.tp-fldv_b:focus+.tp-fldv_i{color:var(--cnt-bg-f)}.tp-fldv_b:active+.tp-fldv_i{color:var(--cnt-bg-a)}.tp-fldv.tp-v-disabled>.tp-fldv_i{opacity:.5}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--cnt-usz)*3)}.tp-grlv_g polyline{fill:none;stroke:var(--mo-fg);stroke-linejoin:round}.tp-grlv_t{margin-top:-4px;transition:left .05s,top .05s;visibility:hidden}.tp-grlv_t.tp-grlv_t-a{visibility:visible}.tp-grlv_t.tp-grlv_t-in{transition:none}.tp-grlv.tp-v-disabled .tp-grlv_g{opacity:.5}.tp-grlv .tp-ttv{background-color:var(--mo-fg)}.tp-grlv .tp-ttv::before{border-top-color:var(--mo-fg)}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:var(--cnt-hp);padding-right:var(--cnt-hp)}.tp-lblv.tp-lblv-nol{display:block}.tp-lblv_l{color:var(--lbl-fg);flex:1;-webkit-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv.tp-v-disabled .tp-lblv_l{opacity:.5}.tp-lblv.tp-lblv-nol .tp-lblv_l{display:none}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:var(--bld-vw)}.tp-lblv.tp-lblv-nol .tp-lblv_v{width:100%}.tp-lstv_s{padding:0 20px 0 var(--bld-hp);width:100%}.tp-lstv_m{color:var(--btn-fg)}.tp-sglv_i{padding-left:var(--bld-hp);padding-right:var(--bld-hp)}.tp-sglv.tp-v-disabled .tp-sglv_i{opacity:.5}.tp-mllv_i{display:block;height:calc(var(--cnt-usz)*3);line-height:var(--cnt-usz);padding-left:var(--bld-hp);padding-right:var(--bld-hp);resize:none;white-space:pre}.tp-mllv.tp-v-disabled .tp-mllv_i{opacity:.5}.tp-p2dv{position:relative}.tp-p2dv_h{display:flex}.tp-p2dv_b{height:var(--cnt-usz);margin-right:4px;position:relative;width:var(--cnt-usz)}.tp-p2dv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dv_b svg path{stroke:currentColor;stroke-width:2}.tp-p2dv_b svg circle{fill:currentColor}.tp-p2dv_t{flex:1}.tp-p2dv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-p2dv.tp-p2dv-expanded .tp-p2dv_p{margin-top:var(--cnt-usp);opacity:1}.tp-p2dv .tp-popv{left:calc(-1*var(--cnt-hp));right:calc(-1*var(--cnt-hp));top:var(--cnt-usz)}.tp-p2dpv{padding-left:calc(var(--cnt-usz) + 4px)}.tp-p2dpv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpv.tp-v-disabled .tp-p2dpv_p{opacity:.5}.tp-p2dpv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpv_ax{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_l{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_m{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;position:absolute;width:4px}.tp-p2dpv_p:focus .tp-p2dpv_m{background-color:var(--in-fg);border-width:0}.tp-popv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);display:none;max-width:var(--bld-vw);padding:var(--cnt-vp) var(--cnt-hp);position:absolute;visibility:hidden;z-index:1000}.tp-popv.tp-popv-v{display:block;visibility:visible}.tp-sldv.tp-v-disabled{opacity:.5}.tp-sldv_t{box-sizing:border-box;cursor:pointer;height:var(--cnt-usz);margin:0 6px;outline:none;position:relative}.tp-sldv_t::before{background-color:var(--in-bg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldv_k{height:100%;left:0;position:absolute;top:0}.tp-sldv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin-bottom:auto;margin-top:auto;position:absolute;right:0;top:0}.tp-sldv_k::after{background-color:var(--btn-bg);border-radius:var(--bld-br);bottom:0;content:"";display:block;height:12px;margin-bottom:auto;margin-top:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_t:hover .tp-sldv_k::after{background-color:var(--btn-bg-h)}.tp-sldv_t:focus .tp-sldv_k::after{background-color:var(--btn-bg-f)}.tp-sldv_t:active .tp-sldv_k::after{background-color:var(--btn-bg-a)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-tabv{position:relative}.tp-tabv_t{align-items:flex-end;color:var(--cnt-bg);display:flex;overflow:hidden;position:relative}.tp-tabv_t:hover{color:var(--cnt-bg-h)}.tp-tabv_t:has(*:focus){color:var(--cnt-bg-f)}.tp-tabv_t:has(*:active){color:var(--cnt-bg-a)}.tp-tabv_t::before{background-color:currentColor;bottom:0;content:"";height:2px;left:0;pointer-events:none;position:absolute;right:0}.tp-tabv.tp-v-disabled .tp-tabv_t::before{opacity:.5}.tp-tabv.tp-tabv-nop .tp-tabv_t{height:calc(var(--cnt-usz) + 4px);position:relative}.tp-tabv.tp-tabv-nop .tp-tabv_t::before{background-color:var(--cnt-bg);bottom:0;content:"";height:2px;left:0;position:absolute;right:0}.tp-tabv_i{bottom:0;color:var(--cnt-bg);left:0;overflow:hidden;position:absolute;top:calc(var(--cnt-usz) + 4px);width:max(var(--bs-br),4px)}.tp-tabv_i::before{background-color:currentColor;bottom:0;content:"";left:0;position:absolute;top:0;width:4px}.tp-tabv_t:hover+.tp-tabv_i{color:var(--cnt-bg-h)}.tp-tabv_t:has(*:focus)+.tp-tabv_i{color:var(--cnt-bg-f)}.tp-tabv_t:has(*:active)+.tp-tabv_i{color:var(--cnt-bg-a)}.tp-tabv.tp-v-disabled>.tp-tabv_i{opacity:.5}.tp-tbiv{flex:1;min-width:0;position:relative}.tp-tbiv+.tp-tbiv{margin-left:2px}.tp-tbiv+.tp-tbiv.tp-v-disabled::before{opacity:.5}.tp-tbiv_b{display:block;padding-left:calc(var(--cnt-hp) + 4px);padding-right:calc(var(--cnt-hp) + 4px);position:relative;width:100%}.tp-tbiv_b:disabled{opacity:.5}.tp-tbiv_b::before{background-color:var(--cnt-bg);bottom:2px;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.tp-tbiv_b:hover::before{background-color:var(--cnt-bg-h)}.tp-tbiv_b:focus::before{background-color:var(--cnt-bg-f)}.tp-tbiv_b:active::before{background-color:var(--cnt-bg-a)}.tp-tbiv_t{color:var(--cnt-fg);height:calc(var(--cnt-usz) + 4px);line-height:calc(var(--cnt-usz) + 4px);opacity:.5;overflow:hidden;position:relative;text-overflow:ellipsis}.tp-tbiv.tp-tbiv-sel .tp-tbiv_t{opacity:1}.tp-tbpv_c{padding-bottom:var(--cnt-vp);padding-left:4px;padding-top:var(--cnt-vp)}.tp-txtv{position:relative}.tp-txtv_i{padding-left:var(--bld-hp);padding-right:var(--bld-hp)}.tp-txtv.tp-txtv-fst .tp-txtv_i{border-bottom-right-radius:0;border-top-right-radius:0}.tp-txtv.tp-txtv-mid .tp-txtv_i{border-radius:0}.tp-txtv.tp-txtv-lst .tp-txtv_i{border-bottom-left-radius:0;border-top-left-radius:0}.tp-txtv.tp-txtv-num .tp-txtv_i{text-align:right}.tp-txtv.tp-txtv-drg .tp-txtv_i{opacity:.3}.tp-txtv_k{cursor:pointer;height:100%;left:calc(var(--bld-hp) - 5px);position:absolute;top:0;width:12px}.tp-txtv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";height:calc(var(--cnt-usz) - 4px);left:50%;margin-bottom:auto;margin-left:-1px;margin-top:auto;opacity:.1;position:absolute;top:0;transition:border-radius .1s,height .1s,transform .1s,width .1s;width:2px}.tp-txtv_k:hover::before,.tp-txtv.tp-txtv-drg .tp-txtv_k::before{opacity:1}.tp-txtv.tp-txtv-drg .tp-txtv_k::before{border-radius:50%;height:4px;transform:translateX(-1px);width:4px}.tp-txtv_g{bottom:0;display:block;height:8px;left:50%;margin:auto;overflow:visible;pointer-events:none;position:absolute;top:0;visibility:hidden;width:100%}.tp-txtv.tp-txtv-drg .tp-txtv_g{visibility:visible}.tp-txtv_gb{fill:none;stroke:var(--in-fg);stroke-dasharray:1}.tp-txtv_gh{fill:none;stroke:var(--in-fg)}.tp-txtv .tp-ttv{margin-left:6px;visibility:hidden}.tp-txtv.tp-txtv-drg .tp-ttv{visibility:visible}.tp-ttv{background-color:var(--in-fg);border-radius:var(--bld-br);color:var(--bs-bg);padding:2px 4px;pointer-events:none;position:absolute;transform:translate(-50%, -100%)}.tp-ttv::before{border-color:var(--in-fg) rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0);border-style:solid;border-width:2px;box-sizing:border-box;content:"";font-size:.9em;height:4px;left:50%;margin-left:-2px;position:absolute;top:100%;width:4px}.tp-rotv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);font-family:var(--bs-ff);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br);border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br);padding-left:calc(4px + var(--cnt-usz) + var(--cnt-hp));text-align:center}.tp-rotv.tp-rotv-expanded .tp-rotv_b{border-bottom-left-radius:0;border-bottom-right-radius:0;transition-delay:0s;transition-duration:0s}.tp-rotv.tp-rotv-not>.tp-rotv_b{display:none}.tp-rotv_b:disabled .tp-rotv_m{display:none}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_i{border-bottom-left-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst.tp-fldv-expanded>.tp-fldv_b{transition-delay:0s;transition-duration:0s}.tp-rotv_c .tp-fldv.tp-v-vlst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst{margin-top:calc(-1*var(--cnt-vp))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst>.tp-fldv_b{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_i{border-bottom-left-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst{margin-top:calc(-1*var(--cnt-vp))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst>.tp-tabv_t{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-v-disabled,.tp-rotv .tp-v-disabled{pointer-events:none}.tp-rotv.tp-v-hidden,.tp-rotv .tp-v-hidden{display:none}.tp-sprv_r{background-color:var(--grv-fg);border-width:0;display:block;height:2px;margin:0;width:100%}.tp-sprv.tp-v-disabled .tp-sprv_r{opacity:.5}',plugins:[Px,Vx,Lx,Fv,$x]})}}new Av("4.0.3");function G(t){return t==null}function tp(t){return t!==null&&typeof t=="object"}function ku(t){return t!==null&&typeof t=="object"}function Rx(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function rr(t,e){return Array.from(new Set([...Object.keys(t),...Object.keys(e)])).reduce((r,i)=>{const o=t[i],s=e[i];return ku(o)&&ku(s)?Object.assign(Object.assign({},r),{[i]:rr(o,s)}):Object.assign(Object.assign({},r),{[i]:i in e?s:o})},{})}function Nx(t){return tp(t)?"target"in t:!1}const Dx={alreadydisposed:()=>"View has been already disposed",invalidparams:t=>`Invalid parameters for '${t.name}'`,nomatchingcontroller:t=>`No matching controller for '${t.key}'`,nomatchingview:t=>`No matching view for '${JSON.stringify(t.params)}'`,notbindable:()=>"Value is not bindable",notcompatible:t=>`Not compatible with  plugin '${t.id}'`,propertynotfound:t=>`Property '${t.name}' not found`,shouldneverhappen:()=>"This error should never happen"};class Ve{static alreadyDisposed(){return new Ve({type:"alreadydisposed"})}static notBindable(){return new Ve({type:"notbindable"})}static notCompatible(e,n){return new Ve({type:"notcompatible",context:{id:`${e}.${n}`}})}static propertyNotFound(e){return new Ve({type:"propertynotfound",context:{name:e}})}static shouldNeverHappen(){return new Ve({type:"shouldneverhappen"})}constructor(e){var n;this.message=(n=Dx[e.type](e.context))!==null&&n!==void 0?n:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=e.type}toString(){return this.message}}class Ws{constructor(e,n){this.obj_=e,this.key=n}static isBindable(e){return!(e===null||typeof e!="object"&&typeof e!="function")}read(){return this.obj_[this.key]}write(e){this.obj_[this.key]=e}writeProperty(e,n){const r=this.read();if(!Ws.isBindable(r))throw Ve.notBindable();if(!(e in r))throw Ve.propertyNotFound(e);r[e]=n}}class ke{constructor(){this.observers_={}}on(e,n){let r=this.observers_[e];return r||(r=this.observers_[e]=[]),r.push({handler:n}),this}off(e,n){const r=this.observers_[e];return r&&(this.observers_[e]=r.filter(i=>i.handler!==n)),this}emit(e,n){const r=this.observers_[e];r&&r.forEach(i=>{i.handler(n)})}}class Ax{constructor(e,n){var r;this.constraint_=n==null?void 0:n.constraint,this.equals_=(r=n==null?void 0:n.equals)!==null&&r!==void 0?r:(i,o)=>i===o,this.emitter=new ke,this.rawValue_=e}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(e){this.setRawValue(e,{forceEmit:!1,last:!0})}setRawValue(e,n){const r=n??{forceEmit:!1,last:!0},i=this.constraint_?this.constraint_.constrain(e):e,o=this.rawValue_;this.equals_(o,i)&&!r.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=i,this.emitter.emit("change",{options:r,previousRawValue:o,rawValue:i,sender:this}))}}class zx{constructor(e){this.emitter=new ke,this.value_=e}get rawValue(){return this.value_}set rawValue(e){this.setRawValue(e,{forceEmit:!1,last:!0})}setRawValue(e,n){const r=n??{forceEmit:!1,last:!0},i=this.value_;i===e&&!r.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.value_=e,this.emitter.emit("change",{options:r,previousRawValue:i,rawValue:this.value_,sender:this}))}}class jx{constructor(e){this.emitter=new ke,this.onValueBeforeChange_=this.onValueBeforeChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.value_=e,this.value_.emitter.on("beforechange",this.onValueBeforeChange_),this.value_.emitter.on("change",this.onValueChange_)}get rawValue(){return this.value_.rawValue}onValueBeforeChange_(e){this.emitter.emit("beforechange",Object.assign(Object.assign({},e),{sender:this}))}onValueChange_(e){this.emitter.emit("change",Object.assign(Object.assign({},e),{sender:this}))}}function te(t,e){const n=e==null?void 0:e.constraint,r=e==null?void 0:e.equals;return!n&&!r?new zx(t):new Ax(t,e)}function Ix(t){return[new jx(t),(e,n)=>{t.setRawValue(e,n)}]}class V{constructor(e){this.emitter=new ke,this.valMap_=e;for(const n in this.valMap_)this.valMap_[n].emitter.on("change",()=>{this.emitter.emit("change",{key:n,sender:this})})}static createCore(e){return Object.keys(e).reduce((r,i)=>Object.assign(r,{[i]:te(e[i])}),{})}static fromObject(e){const n=this.createCore(e);return new V(n)}get(e){return this.valMap_[e].rawValue}set(e,n){this.valMap_[e].rawValue=n}value(e){return this.valMap_[e]}}class To{constructor(e){this.values=V.fromObject({max:e.max,min:e.min})}constrain(e){const n=this.values.get("max"),r=this.values.get("min");return Math.min(Math.max(e,r),n)}}class np{constructor(e){this.values=V.fromObject({max:e.max,min:e.min})}constrain(e){const n=this.values.get("max"),r=this.values.get("min");let i=e;return G(r)||(i=Math.max(i,r)),G(n)||(i=Math.min(i,n)),i}}class Bx{constructor(e,n=0){this.step=e,this.origin=n}constrain(e){const n=this.origin%this.step,r=Math.round((e-n)/this.step);return n+r*this.step}}class Fx{constructor(e){this.text=e}evaluate(){return Number(this.text)}toString(){return this.text}}const Ux={"**":(t,e)=>Math.pow(t,e),"*":(t,e)=>t*e,"/":(t,e)=>t/e,"%":(t,e)=>t%e,"+":(t,e)=>t+e,"-":(t,e)=>t-e,"<<":(t,e)=>t<<e,">>":(t,e)=>t>>e,">>>":(t,e)=>t>>>e,"&":(t,e)=>t&e,"^":(t,e)=>t^e,"|":(t,e)=>t|e};class Kx{constructor(e,n,r){this.left=n,this.operator=e,this.right=r}evaluate(){const e=Ux[this.operator];if(!e)throw new Error(`unexpected binary operator: '${this.operator}`);return e(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}const Hx={"+":t=>t,"-":t=>-t,"~":t=>~t};class qx{constructor(e,n){this.operator=e,this.expression=n}evaluate(){const e=Hx[this.operator];if(!e)throw new Error(`unexpected unary operator: '${this.operator}`);return e(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}function rp(t){return(e,n)=>{for(let r=0;r<t.length;r++){const i=t[r](e,n);if(i!=="")return i}return""}}function po(t,e){var n;const r=t.substr(e).match(/^\s+/);return(n=r&&r[0])!==null&&n!==void 0?n:""}function Gx(t,e){const n=t.substr(e,1);return n.match(/^[1-9]$/)?n:""}function ho(t,e){var n;const r=t.substr(e).match(/^[0-9]+/);return(n=r&&r[0])!==null&&n!==void 0?n:""}function Wx(t,e){const n=ho(t,e);if(n!=="")return n;const r=t.substr(e,1);if(e+=1,r!=="-"&&r!=="+")return"";const i=ho(t,e);return i===""?"":r+i}function ip(t,e){const n=t.substr(e,1);if(e+=1,n.toLowerCase()!=="e")return"";const r=Wx(t,e);return r===""?"":n+r}function Cw(t,e){const n=t.substr(e,1);if(n==="0")return n;const r=Gx(t,e);return e+=r.length,r===""?"":r+ho(t,e)}function Qx(t,e){const n=Cw(t,e);if(e+=n.length,n==="")return"";const r=t.substr(e,1);if(e+=r.length,r!==".")return"";const i=ho(t,e);return e+=i.length,n+r+i+ip(t,e)}function Yx(t,e){const n=t.substr(e,1);if(e+=n.length,n!==".")return"";const r=ho(t,e);return e+=r.length,r===""?"":n+r+ip(t,e)}function Xx(t,e){const n=Cw(t,e);return e+=n.length,n===""?"":n+ip(t,e)}const Zx=rp([Qx,Yx,Xx]);function Jx(t,e){var n;const r=t.substr(e).match(/^[01]+/);return(n=r&&r[0])!==null&&n!==void 0?n:""}function eP(t,e){const n=t.substr(e,2);if(e+=n.length,n.toLowerCase()!=="0b")return"";const r=Jx(t,e);return r===""?"":n+r}function tP(t,e){var n;const r=t.substr(e).match(/^[0-7]+/);return(n=r&&r[0])!==null&&n!==void 0?n:""}function nP(t,e){const n=t.substr(e,2);if(e+=n.length,n.toLowerCase()!=="0o")return"";const r=tP(t,e);return r===""?"":n+r}function rP(t,e){var n;const r=t.substr(e).match(/^[0-9a-f]+/i);return(n=r&&r[0])!==null&&n!==void 0?n:""}function iP(t,e){const n=t.substr(e,2);if(e+=n.length,n.toLowerCase()!=="0x")return"";const r=rP(t,e);return r===""?"":n+r}const oP=rp([eP,nP,iP]),sP=rp([oP,Zx]);function lP(t,e){const n=sP(t,e);return e+=n.length,n===""?null:{evaluable:new Fx(n),cursor:e}}function aP(t,e){const n=t.substr(e,1);if(e+=n.length,n!=="(")return null;const r=Pw(t,e);if(!r)return null;e=r.cursor,e+=po(t,e).length;const i=t.substr(e,1);return e+=i.length,i!==")"?null:{evaluable:r.evaluable,cursor:e}}function uP(t,e){var n;return(n=lP(t,e))!==null&&n!==void 0?n:aP(t,e)}function xw(t,e){const n=uP(t,e);if(n)return n;const r=t.substr(e,1);if(e+=r.length,r!=="+"&&r!=="-"&&r!=="~")return null;const i=xw(t,e);return i?(e=i.cursor,{cursor:e,evaluable:new qx(r,i.evaluable)}):null}function cP(t,e,n){n+=po(e,n).length;const r=t.filter(i=>e.startsWith(i,n))[0];return r?(n+=r.length,n+=po(e,n).length,{cursor:n,operator:r}):null}function pP(t,e){return(n,r)=>{const i=t(n,r);if(!i)return null;r=i.cursor;let o=i.evaluable;for(;;){const s=cP(e,n,r);if(!s)break;r=s.cursor;const l=t(n,r);if(!l)return null;r=l.cursor,o=new Kx(s.operator,o,l.evaluable)}return o?{cursor:r,evaluable:o}:null}}const dP=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((t,e)=>pP(t,e),xw);function Pw(t,e){return e+=po(t,e).length,dP(t,e)}function hP(t){const e=Pw(t,0);return!e||e.cursor+po(t,e.cursor).length!==t.length?null:e.evaluable}function gt(t){var e;const n=hP(t);return(e=n==null?void 0:n.evaluate())!==null&&e!==void 0?e:null}function op(t){if(typeof t=="number")return t;if(typeof t=="string"){const e=gt(t);if(!G(e))return e}return 0}function be(t){return e=>e.toFixed(Math.max(Math.min(t,20),0))}function S(t,e,n,r,i){const o=(t-e)/(n-e);return r+o*(i-r)}function yh(t){return String(t.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function Y(t,e,n){return Math.min(Math.max(t,e),n)}function Ew(t,e){return(t%e+e)%e}function mP(t,e){return G(t.step)?Math.max(yh(e),2):yh(t.step)}function kw(t){var e;return(e=t.step)!==null&&e!==void 0?e:1}function fP(t,e){var n;const r=Math.abs((n=t.step)!==null&&n!==void 0?n:e);return r===0?.1:Math.pow(10,Math.floor(Math.log10(r))-1)}function sp(t,e){return G(t.step)?null:new Bx(t.step,e)}function lp(t){return!G(t.max)&&!G(t.min)?new To({max:t.max,min:t.min}):!G(t.max)||!G(t.min)?new np({max:t.max,min:t.min}):null}function ap(t,e){var n,r,i;return{formatter:(n=t.format)!==null&&n!==void 0?n:be(mP(t,e)),keyScale:(r=t.keyScale)!==null&&r!==void 0?r:kw(t),pointerScale:(i=t.pointerScale)!==null&&i!==void 0?i:fP(t,e)}}function up(t){return{format:t.optional.function,keyScale:t.optional.number,max:t.optional.number,min:t.optional.number,pointerScale:t.optional.number,step:t.optional.number}}function cp(t){return{constraint:t.constraint,textProps:V.fromObject(ap(t.params,t.initialValue))}}class pr{constructor(e){this.controller=e}get element(){return this.controller.view.element}get disabled(){return this.controller.viewProps.get("disabled")}set disabled(e){this.controller.viewProps.set("disabled",e)}get hidden(){return this.controller.viewProps.get("hidden")}set hidden(e){this.controller.viewProps.set("hidden",e)}dispose(){this.controller.viewProps.set("disposed",!0)}importState(e){return this.controller.importState(e)}exportState(){return this.controller.exportState()}}class dr{constructor(e){this.target=e}}class bl extends dr{constructor(e,n,r){super(e),this.value=n,this.last=r??!0}}class vP extends dr{constructor(e,n){super(e),this.expanded=n}}class wP extends dr{constructor(e,n){super(e),this.index=n}}class pp extends pr{constructor(e){super(e),this.onValueChange_=this.onValueChange_.bind(this),this.emitter_=new ke,this.controller.value.emitter.on("change",this.onValueChange_)}get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get key(){return this.controller.value.binding.target.key}get tag(){return this.controller.tag}set tag(e){this.controller.tag=e}on(e,n){const r=n.bind(this);return this.emitter_.on(e,i=>{r(i)}),this}refresh(){this.controller.value.fetch()}onValueChange_(e){const n=this.controller.value;this.emitter_.emit("change",new bl(this,n.binding.target.read(),e.options.last))}}function _P(t,e){const r=Object.keys(e).reduce((i,o)=>{if(i===void 0)return;const s=e[o],l=s(t[o]);return l.succeeded?Object.assign(Object.assign({},i),{[o]:l.value}):void 0},{});return r}function gP(t,e){return t.reduce((n,r)=>{if(n===void 0)return;const i=e(r);if(!(!i.succeeded||i.value===void 0))return[...n,i.value]},[])}function bP(t){return t===null?!1:typeof t=="object"}function Ot(t){return e=>n=>{if(!e&&n===void 0)return{succeeded:!1,value:void 0};if(e&&n===void 0)return{succeeded:!0,value:void 0};const r=t(n);return r!==void 0?{succeeded:!0,value:r}:{succeeded:!1,value:void 0}}}function Ch(t){return{custom:e=>Ot(e)(t),boolean:Ot(e=>typeof e=="boolean"?e:void 0)(t),number:Ot(e=>typeof e=="number"?e:void 0)(t),string:Ot(e=>typeof e=="string"?e:void 0)(t),function:Ot(e=>typeof e=="function"?e:void 0)(t),constant:e=>Ot(n=>n===e?e:void 0)(t),raw:Ot(e=>e)(t),object:e=>Ot(n=>{if(bP(n))return _P(n,e)})(t),array:e=>Ot(n=>{if(Array.isArray(n))return gP(n,e)})(t)}}const Su={optional:Ch(!0),required:Ch(!1)};function ne(t,e){const n=e(Su),r=Su.required.object(n)(t);return r.succeeded?r.value:void 0}function yt(t,e,n,r){if(e&&!e(t))return!1;const i=ne(t,n);return i?r(i):!1}function Ct(t,e){var n;return rr((n=t==null?void 0:t())!==null&&n!==void 0?n:{},e)}function ws(t){return"value"in t}function yP(t){if(!tp(t)||!("binding"in t))return!1;const e=t.binding;return Nx(e)}const me="http://www.w3.org/2000/svg";function Qs(t){t.offsetHeight}function CP(t,e){const n=t.style.transition;t.style.transition="none",e(),t.style.transition=n}function yl(t){return t.ontouchstart!==void 0}function xP(t){const e=t.ownerDocument.defaultView;return e&&"document"in e?t.getContext("2d",{willReadFrequently:!0}):null}const PP={check:'<path d="M2 8l4 4l8 -8"/>',dropdown:'<path d="M5 7h6l-3 3 z"/>',p2dpad:'<path d="M8 4v8"/><path d="M4 8h8"/><circle cx="12" cy="12" r="1.2"/>'};function Cl(t,e){const n=t.createElementNS(me,"svg");return n.innerHTML=PP[e],n}function Sw(t,e,n){t.insertBefore(e,t.children[n])}function dp(t){t.parentElement&&t.parentElement.removeChild(t)}function Vw(t){for(;t.children.length>0;)t.removeChild(t.children[0])}function EP(t){for(;t.childNodes.length>0;)t.removeChild(t.childNodes[0])}function hp(t){return t.relatedTarget?t.relatedTarget:"explicitOriginalTarget"in t?t.explicitOriginalTarget:null}function lt(t,e){t.emitter.on("change",n=>{e(n.rawValue)}),e(t.rawValue)}function ct(t,e,n){lt(t.value(e),n)}const kP="tp";function $(t){return(n,r)=>[kP,"-",t,"v",n?`_${n}`:"",r?`-${r}`:""].join("")}const xi=$("lbl");function SP(t,e){const n=t.createDocumentFragment();return e.split(`
`).map(i=>t.createTextNode(i)).forEach((i,o)=>{o>0&&n.appendChild(t.createElement("br")),n.appendChild(i)}),n}class Lw{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(xi()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(xi("l")),ct(n.props,"label",o=>{G(o)?this.element.classList.add(xi(void 0,"nol")):(this.element.classList.remove(xi(void 0,"nol")),EP(r),r.appendChild(SP(e,o)))}),this.element.appendChild(r),this.labelElement=r;const i=e.createElement("div");i.classList.add(xi("v")),this.element.appendChild(i),this.valueElement=i}}class xl{constructor(e,n){this.props=n.props,this.valueController=n.valueController,this.viewProps=n.valueController.viewProps,this.view=new Lw(e,{props:n.props,viewProps:this.viewProps}),this.view.valueElement.appendChild(this.valueController.view.element)}importProps(e){return yt(e,null,n=>({label:n.optional.string}),n=>(this.props.set("label",n.label),!0))}exportProps(){return Ct(null,{label:this.props.get("label")})}}function VP(){return["veryfirst","first","last","verylast"]}const xh=$(""),Ph={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"};class Mo{constructor(e){this.parent_=null,this.blade=e.blade,this.view=e.view,this.viewProps=e.viewProps;const n=this.view.element;this.blade.value("positions").emitter.on("change",()=>{VP().forEach(r=>{n.classList.remove(xh(void 0,Ph[r]))}),this.blade.get("positions").forEach(r=>{n.classList.add(xh(void 0,Ph[r]))})}),this.viewProps.handleDispose(()=>{dp(n)})}get parent(){return this.parent_}set parent(e){this.parent_=e,this.viewProps.set("parent",this.parent_?this.parent_.viewProps:null)}importState(e){return yt(e,null,n=>({disabled:n.required.boolean,hidden:n.required.boolean}),n=>(this.viewProps.importState(n),!0))}exportState(){return Ct(null,Object.assign({},this.viewProps.exportState()))}}class Ys extends Mo{constructor(e,n){if(n.value!==n.valueController.value)throw Ve.shouldNeverHappen();const r=n.valueController.viewProps,i=new xl(e,{blade:n.blade,props:n.props,valueController:n.valueController});super(Object.assign(Object.assign({},n),{view:new Lw(e,{props:n.props,viewProps:r}),viewProps:r})),this.labelController=i,this.value=n.value,this.valueController=n.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}importState(e){return yt(e,n=>{var r,i,o;return super.importState(n)&&this.labelController.importProps(n)&&((o=(i=(r=this.valueController).importProps)===null||i===void 0?void 0:i.call(r,e))!==null&&o!==void 0?o:!0)},n=>({value:n.optional.raw}),n=>(n.value&&(this.value.rawValue=n.value),!0))}exportState(){var e,n,r;return Ct(()=>super.exportState(),Object.assign(Object.assign({value:this.value.rawValue},this.labelController.exportProps()),(r=(n=(e=this.valueController).exportProps)===null||n===void 0?void 0:n.call(e))!==null&&r!==void 0?r:{}))}}function $w(t,e){for(;t.length<e;)t.push(void 0)}function LP(t){const e=[];return $w(e,t),e}function $P(t){const e=t.indexOf(void 0);return e<0?t:t.slice(0,e)}function TP(t,e){const n=[...$P(t),e];return n.length>t.length?n.splice(0,n.length-t.length):$w(n,t.length),n}class MP extends pr{get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get title(){var e;return(e=this.controller.buttonController.props.get("title"))!==null&&e!==void 0?e:""}set title(e){this.controller.buttonController.props.set("title",e)}on(e,n){const r=n.bind(this);return this.controller.buttonController.emitter.on(e,()=>{r(new dr(this))}),this}}function OP(t,e,n){n?t.classList.add(e):t.classList.remove(e)}function On(t,e){return n=>{OP(t,e,n)}}function mp(t,e){lt(t,n=>{e.textContent=n??""})}const ma=$("btn");class RP{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(ma()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("button");r.classList.add(ma("b")),n.viewProps.bindDisabled(r),this.element.appendChild(r),this.buttonElement=r;const i=e.createElement("div");i.classList.add(ma("t")),mp(n.props.value("title"),i),this.buttonElement.appendChild(i)}}class Tw{constructor(e,n){this.emitter=new ke,this.onClick_=this.onClick_.bind(this),this.props=n.props,this.viewProps=n.viewProps,this.view=new RP(e,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}importProps(e){return yt(e,null,n=>({title:n.optional.string}),n=>(this.props.set("title",n.title),!0))}exportProps(){return Ct(null,{title:this.props.get("title")})}onClick_(){this.emitter.emit("click",{sender:this})}}class Eh extends Mo{constructor(e,n){const r=new Tw(e,{props:n.buttonProps,viewProps:n.viewProps}),i=new xl(e,{blade:n.blade,props:n.labelProps,valueController:r});super({blade:n.blade,view:i.view,viewProps:n.viewProps}),this.buttonController=r,this.labelController=i}importState(e){return yt(e,n=>super.importState(n)&&this.buttonController.importProps(n)&&this.labelController.importProps(n),()=>({}),()=>!0)}exportState(){return Ct(()=>super.exportState(),Object.assign(Object.assign({},this.buttonController.exportProps()),this.labelController.exportProps()))}}class NP{constructor(e){const[n,r]=e.split("-"),i=n.split(".");this.major=parseInt(i[0],10),this.minor=parseInt(i[1],10),this.patch=parseInt(i[2],10),this.prerelease=r??null}toString(){const e=[this.major,this.minor,this.patch].join(".");return this.prerelease!==null?[e,this.prerelease].join("-"):e}}const DP=new NP("2.0.0-beta.2");function se(t){return Object.assign({core:DP},t)}se({id:"button",type:"blade",accept(t){const e=ne(t,n=>({title:n.required.string,view:n.required.constant("button"),label:n.optional.string}));return e?{params:e}:null},controller(t){return new Eh(t.document,{blade:t.blade,buttonProps:V.fromObject({title:t.params.title}),labelProps:V.fromObject({label:t.params.label}),viewProps:t.viewProps})},api(t){return t.controller instanceof Eh?new MP(t.controller):null}});function AP(t,e){return t.addBlade(Object.assign(Object.assign({},e),{view:"button"}))}function zP(t,e){return t.addBlade(Object.assign(Object.assign({},e),{view:"folder"}))}function jP(t,e){return t.addBlade(Object.assign(Object.assign({},e),{view:"tab"}))}function IP(t){return tp(t)?"refresh"in t&&typeof t.refresh=="function":!1}function BP(t,e){if(!Ws.isBindable(t))throw Ve.notBindable();return new Ws(t,e)}class FP{constructor(e,n){this.onRackValueChange_=this.onRackValueChange_.bind(this),this.controller_=e,this.emitter_=new ke,this.pool_=n,this.controller_.rack.emitter.on("valuechange",this.onRackValueChange_)}get children(){return this.controller_.rack.children.map(e=>this.pool_.createApi(e))}addBinding(e,n,r){const i=r??{},o=this.controller_.element.ownerDocument,s=this.pool_.createBinding(o,BP(e,n),i),l=this.pool_.createBindingApi(s);return this.add(l,i.index)}addFolder(e){return zP(this,e)}addButton(e){return AP(this,e)}addTab(e){return jP(this,e)}add(e,n){const r=e.controller;return this.controller_.rack.add(r,n),e}remove(e){this.controller_.rack.remove(e.controller)}addBlade(e){const n=this.controller_.element.ownerDocument,r=this.pool_.createBlade(n,e),i=this.pool_.createApi(r);return this.add(i,e.index)}on(e,n){const r=n.bind(this);return this.emitter_.on(e,i=>{r(i)}),this}refresh(){this.children.forEach(e=>{IP(e)&&e.refresh()})}onRackValueChange_(e){const n=e.bladeController,r=this.pool_.createApi(n),i=yP(n.value)?n.value.binding:null;this.emitter_.emit("change",new bl(r,i?i.target.read():n.value.rawValue,e.options.last))}}class fp extends pr{constructor(e,n){super(e),this.rackApi_=new FP(e.rackController,n)}}class vp extends Mo{constructor(e){super({blade:e.blade,view:e.view,viewProps:e.rackController.viewProps}),this.rackController=e.rackController}importState(e){return yt(e,n=>super.importState(n),n=>({children:n.required.array(n.required.raw)}),n=>this.rackController.rack.children.every((r,i)=>r.importState(n.children[i])))}exportState(){return Ct(()=>super.exportState(),{children:this.rackController.rack.children.map(e=>e.exportState())})}}function Vu(t){return"rackController"in t}class UP{constructor(e){this.emitter=new ke,this.items_=[],this.cache_=new Set,this.onSubListAdd_=this.onSubListAdd_.bind(this),this.onSubListRemove_=this.onSubListRemove_.bind(this),this.extract_=e}get items(){return this.items_}allItems(){return Array.from(this.cache_)}find(e){for(const n of this.allItems())if(e(n))return n;return null}includes(e){return this.cache_.has(e)}add(e,n){if(this.includes(e))throw Ve.shouldNeverHappen();const r=n!==void 0?n:this.items_.length;this.items_.splice(r,0,e),this.cache_.add(e);const i=this.extract_(e);i&&(i.emitter.on("add",this.onSubListAdd_),i.emitter.on("remove",this.onSubListRemove_),i.allItems().forEach(o=>{this.cache_.add(o)})),this.emitter.emit("add",{index:r,item:e,root:this,target:this})}remove(e){const n=this.items_.indexOf(e);if(n<0)return;this.items_.splice(n,1),this.cache_.delete(e);const r=this.extract_(e);r&&(r.allItems().forEach(i=>{this.cache_.delete(i)}),r.emitter.off("add",this.onSubListAdd_),r.emitter.off("remove",this.onSubListRemove_)),this.emitter.emit("remove",{index:n,item:e,root:this,target:this})}onSubListAdd_(e){this.cache_.add(e.item),this.emitter.emit("add",{index:e.index,item:e.item,root:this,target:e.target})}onSubListRemove_(e){this.cache_.delete(e.item),this.emitter.emit("remove",{index:e.index,item:e.item,root:this,target:e.target})}}function KP(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(ws(r)&&r.value===e)return r}return null}function HP(t){return Vu(t)?t.rackController.rack.bcSet_:null}class qP{constructor(e){var n,r;this.emitter=new ke,this.onBladePositionsChange_=this.onBladePositionsChange_.bind(this),this.onSetAdd_=this.onSetAdd_.bind(this),this.onSetRemove_=this.onSetRemove_.bind(this),this.onChildDispose_=this.onChildDispose_.bind(this),this.onChildPositionsChange_=this.onChildPositionsChange_.bind(this),this.onChildValueChange_=this.onChildValueChange_.bind(this),this.onChildViewPropsChange_=this.onChildViewPropsChange_.bind(this),this.onRackLayout_=this.onRackLayout_.bind(this),this.onRackValueChange_=this.onRackValueChange_.bind(this),this.blade_=(n=e.blade)!==null&&n!==void 0?n:null,(r=this.blade_)===null||r===void 0||r.value("positions").emitter.on("change",this.onBladePositionsChange_),this.viewProps=e.viewProps,this.bcSet_=new UP(HP),this.bcSet_.emitter.on("add",this.onSetAdd_),this.bcSet_.emitter.on("remove",this.onSetRemove_)}get children(){return this.bcSet_.items}add(e,n){var r;(r=e.parent)===null||r===void 0||r.remove(e),e.parent=this,this.bcSet_.add(e,n)}remove(e){e.parent=null,this.bcSet_.remove(e)}find(e){return this.bcSet_.allItems().filter(e)}onSetAdd_(e){this.updatePositions_();const n=e.target===e.root;if(this.emitter.emit("add",{bladeController:e.item,index:e.index,root:n,sender:this}),!n)return;const r=e.item;if(r.viewProps.emitter.on("change",this.onChildViewPropsChange_),r.blade.value("positions").emitter.on("change",this.onChildPositionsChange_),r.viewProps.handleDispose(this.onChildDispose_),ws(r))r.value.emitter.on("change",this.onChildValueChange_);else if(Vu(r)){const i=r.rackController.rack;if(i){const o=i.emitter;o.on("layout",this.onRackLayout_),o.on("valuechange",this.onRackValueChange_)}}}onSetRemove_(e){this.updatePositions_();const n=e.target===e.root;if(this.emitter.emit("remove",{bladeController:e.item,root:n,sender:this}),!n)return;const r=e.item;if(ws(r))r.value.emitter.off("change",this.onChildValueChange_);else if(Vu(r)){const i=r.rackController.rack;if(i){const o=i.emitter;o.off("layout",this.onRackLayout_),o.off("valuechange",this.onRackValueChange_)}}}updatePositions_(){const e=this.bcSet_.items.filter(i=>!i.viewProps.get("hidden")),n=e[0],r=e[e.length-1];this.bcSet_.items.forEach(i=>{const o=[];i===n&&(o.push("first"),(!this.blade_||this.blade_.get("positions").includes("veryfirst"))&&o.push("veryfirst")),i===r&&(o.push("last"),(!this.blade_||this.blade_.get("positions").includes("verylast"))&&o.push("verylast")),i.blade.set("positions",o)})}onChildPositionsChange_(){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildViewPropsChange_(e){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildDispose_(){this.bcSet_.items.filter(n=>n.viewProps.get("disposed")).forEach(n=>{this.bcSet_.remove(n)})}onChildValueChange_(e){const n=KP(this.find(ws),e.sender);if(!n)throw Ve.alreadyDisposed();this.emitter.emit("valuechange",{bladeController:n,options:e.options,sender:this})}onRackLayout_(e){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onRackValueChange_(e){this.emitter.emit("valuechange",{bladeController:e.bladeController,options:e.options,sender:this})}onBladePositionsChange_(){this.updatePositions_()}}class wp{constructor(e){this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this),this.element=e.element,this.viewProps=e.viewProps;const n=new qP({blade:e.root?void 0:e.blade,viewProps:e.viewProps});n.emitter.on("add",this.onRackAdd_),n.emitter.on("remove",this.onRackRemove_),this.rack=n,this.viewProps.handleDispose(()=>{for(let r=this.rack.children.length-1;r>=0;r--)this.rack.children[r].viewProps.set("disposed",!0)})}onRackAdd_(e){e.root&&Sw(this.element,e.bladeController.view.element,e.index)}onRackRemove_(e){e.root&&dp(e.bladeController.view.element)}}function Mw(){return new V({positions:te([],{equals:Rx})})}class si extends V{constructor(e){super(e)}static create(e){const n={completed:!0,expanded:e,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},r=V.createCore(n);return new si(r)}get styleExpanded(){var e;return(e=this.get("temporaryExpanded"))!==null&&e!==void 0?e:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";const e=this.get("expandedHeight");return this.get("shouldFixHeight")&&!G(e)?`${e}px`:"auto"}bindExpandedClass(e,n){const r=()=>{this.styleExpanded?e.classList.add(n):e.classList.remove(n)};ct(this,"expanded",r),ct(this,"temporaryExpanded",r)}cleanUpTransition(){this.set("shouldFixHeight",!1),this.set("expandedHeight",null),this.set("completed",!0)}}function GP(t,e){let n=0;return CP(e,()=>{t.set("expandedHeight",null),t.set("temporaryExpanded",!0),Qs(e),n=e.clientHeight,t.set("temporaryExpanded",null),Qs(e)}),n}function kh(t,e){e.style.height=t.styleHeight}function Pl(t,e){t.value("expanded").emitter.on("beforechange",()=>{if(t.set("completed",!1),G(t.get("expandedHeight"))){const n=GP(t,e);n>0&&t.set("expandedHeight",n)}t.set("shouldFixHeight",!0),Qs(e)}),t.emitter.on("change",()=>{kh(t,e)}),kh(t,e),e.addEventListener("transitionend",n=>{n.propertyName==="height"&&t.cleanUpTransition()})}class WP extends fp{constructor(e,n){super(e,n),this.emitter_=new ke,this.controller.foldable.value("expanded").emitter.on("change",r=>{this.emitter_.emit("fold",new vP(this,r.sender.rawValue))}),this.rackApi_.on("change",r=>{this.emitter_.emit("change",r)})}get expanded(){return this.controller.foldable.get("expanded")}set expanded(e){this.controller.foldable.set("expanded",e)}get title(){return this.controller.props.get("title")}set title(e){this.controller.props.set("title",e)}get children(){return this.rackApi_.children}addBinding(e,n,r){return this.rackApi_.addBinding(e,n,r)}addFolder(e){return this.rackApi_.addFolder(e)}addButton(e){return this.rackApi_.addButton(e)}addTab(e){return this.rackApi_.addTab(e)}add(e,n){return this.rackApi_.add(e,n)}remove(e){this.rackApi_.remove(e)}addBlade(e){return this.rackApi_.addBlade(e)}on(e,n){const r=n.bind(this);return this.emitter_.on(e,i=>{r(i)}),this}refresh(){this.rackApi_.refresh()}}const Ow=$("cnt");class QP{constructor(e,n){var r;this.className_=$((r=n.viewName)!==null&&r!==void 0?r:"fld"),this.element=e.createElement("div"),this.element.classList.add(this.className_(),Ow()),n.viewProps.bindClassModifiers(this.element),this.foldable_=n.foldable,this.foldable_.bindExpandedClass(this.element,this.className_(void 0,"expanded")),ct(this.foldable_,"completed",On(this.element,this.className_(void 0,"cpl")));const i=e.createElement("button");i.classList.add(this.className_("b")),ct(n.props,"title",u=>{G(u)?this.element.classList.add(this.className_(void 0,"not")):this.element.classList.remove(this.className_(void 0,"not"))}),n.viewProps.bindDisabled(i),this.element.appendChild(i),this.buttonElement=i;const o=e.createElement("div");o.classList.add(this.className_("i")),this.element.appendChild(o);const s=e.createElement("div");s.classList.add(this.className_("t")),mp(n.props.value("title"),s),this.buttonElement.appendChild(s),this.titleElement=s;const l=e.createElement("div");l.classList.add(this.className_("m")),this.buttonElement.appendChild(l);const a=e.createElement("div");a.classList.add(this.className_("c")),this.element.appendChild(a),this.containerElement=a}}class Sh extends vp{constructor(e,n){var r;const i=si.create((r=n.expanded)!==null&&r!==void 0?r:!0),o=new QP(e,{foldable:i,props:n.props,viewName:n.root?"rot":void 0,viewProps:n.viewProps});super(Object.assign(Object.assign({},n),{rackController:new wp({blade:n.blade,element:o.containerElement,root:n.root,viewProps:n.viewProps}),view:o})),this.onTitleClick_=this.onTitleClick_.bind(this),this.props=n.props,this.foldable=i,Pl(this.foldable,this.view.containerElement),this.rackController.rack.emitter.on("add",()=>{this.foldable.cleanUpTransition()}),this.rackController.rack.emitter.on("remove",()=>{this.foldable.cleanUpTransition()}),this.view.buttonElement.addEventListener("click",this.onTitleClick_)}get document(){return this.view.element.ownerDocument}importState(e){return yt(e,n=>super.importState(n),n=>({expanded:n.required.boolean,title:n.optional.string}),n=>(this.foldable.set("expanded",n.expanded),this.props.set("title",n.title),!0))}exportState(){return Ct(()=>super.exportState(),{expanded:this.foldable.get("expanded"),title:this.props.get("title")})}onTitleClick_(){this.foldable.set("expanded",!this.foldable.get("expanded"))}}se({id:"folder",type:"blade",accept(t){const e=ne(t,n=>({title:n.required.string,view:n.required.constant("folder"),expanded:n.optional.boolean}));return e?{params:e}:null},controller(t){return new Sh(t.document,{blade:t.blade,expanded:t.params.expanded,props:V.fromObject({title:t.params.title}),viewProps:t.viewProps})},api(t){return t.controller instanceof Sh?new WP(t.controller,t.pool):null}});const YP=$("");function Vh(t,e){return On(t,YP(void 0,e))}class Wt extends V{constructor(e){var n;super(e),this.onDisabledChange_=this.onDisabledChange_.bind(this),this.onParentChange_=this.onParentChange_.bind(this),this.onParentGlobalDisabledChange_=this.onParentGlobalDisabledChange_.bind(this),[this.globalDisabled_,this.setGlobalDisabled_]=Ix(te(this.getGlobalDisabled_())),this.value("disabled").emitter.on("change",this.onDisabledChange_),this.value("parent").emitter.on("change",this.onParentChange_),(n=this.get("parent"))===null||n===void 0||n.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_)}static create(e){var n,r,i;const o=e??{};return new Wt(V.createCore({disabled:(n=o.disabled)!==null&&n!==void 0?n:!1,disposed:!1,hidden:(r=o.hidden)!==null&&r!==void 0?r:!1,parent:(i=o.parent)!==null&&i!==void 0?i:null}))}get globalDisabled(){return this.globalDisabled_}bindClassModifiers(e){lt(this.globalDisabled_,Vh(e,"disabled")),ct(this,"hidden",Vh(e,"hidden"))}bindDisabled(e){lt(this.globalDisabled_,n=>{e.disabled=n})}bindTabIndex(e){lt(this.globalDisabled_,n=>{e.tabIndex=n?-1:0})}handleDispose(e){this.value("disposed").emitter.on("change",n=>{n&&e()})}importState(e){this.set("disabled",e.disabled),this.set("hidden",e.hidden)}exportState(){return{disabled:this.get("disabled"),hidden:this.get("hidden")}}getGlobalDisabled_(){const e=this.get("parent");return(e?e.globalDisabled.rawValue:!1)||this.get("disabled")}updateGlobalDisabled_(){this.setGlobalDisabled_(this.getGlobalDisabled_())}onDisabledChange_(){this.updateGlobalDisabled_()}onParentGlobalDisabledChange_(){this.updateGlobalDisabled_()}onParentChange_(e){var n;const r=e.previousRawValue;r==null||r.globalDisabled.emitter.off("change",this.onParentGlobalDisabledChange_),(n=this.get("parent"))===null||n===void 0||n.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_),this.updateGlobalDisabled_()}}const Lh=$("tbp");class XP{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(Lh()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(Lh("c")),this.element.appendChild(r),this.containerElement=r}}const Pi=$("tbi");class ZP{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(Pi()),n.viewProps.bindClassModifiers(this.element),ct(n.props,"selected",o=>{o?this.element.classList.add(Pi(void 0,"sel")):this.element.classList.remove(Pi(void 0,"sel"))});const r=e.createElement("button");r.classList.add(Pi("b")),n.viewProps.bindDisabled(r),this.element.appendChild(r),this.buttonElement=r;const i=e.createElement("div");i.classList.add(Pi("t")),mp(n.props.value("title"),i),this.buttonElement.appendChild(i),this.titleElement=i}}class JP{constructor(e,n){this.emitter=new ke,this.onClick_=this.onClick_.bind(this),this.props=n.props,this.viewProps=n.viewProps,this.view=new ZP(e,{props:n.props,viewProps:n.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class Lu extends vp{constructor(e,n){const r=new XP(e,{viewProps:n.viewProps});super(Object.assign(Object.assign({},n),{rackController:new wp({blade:n.blade,element:r.containerElement,viewProps:n.viewProps}),view:r})),this.onItemClick_=this.onItemClick_.bind(this),this.ic_=new JP(e,{props:n.itemProps,viewProps:Wt.create()}),this.ic_.emitter.on("click",this.onItemClick_),this.props=n.props,ct(this.props,"selected",i=>{this.itemController.props.set("selected",i),this.viewProps.set("hidden",!i)})}get itemController(){return this.ic_}importState(e){return yt(e,n=>super.importState(n),n=>({selected:n.required.boolean,title:n.required.string}),n=>(this.ic_.props.set("selected",n.selected),this.ic_.props.set("title",n.title),!0))}exportState(){return Ct(()=>super.exportState(),{selected:this.ic_.props.get("selected"),title:this.ic_.props.get("title")})}onItemClick_(){this.props.set("selected",!0)}}class eE extends fp{constructor(e,n){super(e,n),this.emitter_=new ke,this.onSelect_=this.onSelect_.bind(this),this.pool_=n,this.rackApi_.on("change",r=>{this.emitter_.emit("change",r)}),this.controller.tab.selectedIndex.emitter.on("change",this.onSelect_)}get pages(){return this.rackApi_.children}addPage(e){const n=this.controller.view.element.ownerDocument,r=new Lu(n,{blade:Mw(),itemProps:V.fromObject({selected:!1,title:e.title}),props:V.fromObject({selected:!1}),viewProps:Wt.create()}),i=this.pool_.createApi(r);return this.rackApi_.add(i,e.index)}removePage(e){this.rackApi_.remove(this.rackApi_.children[e])}on(e,n){const r=n.bind(this);return this.emitter_.on(e,i=>{r(i)}),this}onSelect_(e){this.emitter_.emit("select",new wP(this,e.rawValue))}}class tE extends fp{get title(){var e;return(e=this.controller.itemController.props.get("title"))!==null&&e!==void 0?e:""}set title(e){this.controller.itemController.props.set("title",e)}get selected(){return this.controller.props.get("selected")}set selected(e){this.controller.props.set("selected",e)}get children(){return this.rackApi_.children}addButton(e){return this.rackApi_.addButton(e)}addFolder(e){return this.rackApi_.addFolder(e)}addTab(e){return this.rackApi_.addTab(e)}add(e,n){this.rackApi_.add(e,n)}remove(e){this.rackApi_.remove(e)}addBinding(e,n,r){return this.rackApi_.addBinding(e,n,r)}addBlade(e){return this.rackApi_.addBlade(e)}refresh(){this.rackApi_.refresh()}}const $h=-1;class nE{constructor(){this.onItemSelectedChange_=this.onItemSelectedChange_.bind(this),this.empty=te(!0),this.selectedIndex=te($h),this.items_=[]}add(e,n){const r=n??this.items_.length;this.items_.splice(r,0,e),e.emitter.on("change",this.onItemSelectedChange_),this.keepSelection_()}remove(e){const n=this.items_.indexOf(e);n<0||(this.items_.splice(n,1),e.emitter.off("change",this.onItemSelectedChange_),this.keepSelection_())}keepSelection_(){if(this.items_.length===0){this.selectedIndex.rawValue=$h,this.empty.rawValue=!0;return}const e=this.items_.findIndex(n=>n.rawValue);e<0?(this.items_.forEach((n,r)=>{n.rawValue=r===0}),this.selectedIndex.rawValue=0):(this.items_.forEach((n,r)=>{n.rawValue=r===e}),this.selectedIndex.rawValue=e),this.empty.rawValue=!1}onItemSelectedChange_(e){if(e.rawValue){const n=this.items_.findIndex(r=>r===e.sender);this.items_.forEach((r,i)=>{r.rawValue=i===n}),this.selectedIndex.rawValue=n}else this.keepSelection_()}}const Ei=$("tab");class rE{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(Ei(),Ow()),n.viewProps.bindClassModifiers(this.element),lt(n.empty,On(this.element,Ei(void 0,"nop")));const r=e.createElement("div");r.classList.add(Ei("t")),this.element.appendChild(r),this.itemsElement=r;const i=e.createElement("div");i.classList.add(Ei("i")),this.element.appendChild(i);const o=e.createElement("div");o.classList.add(Ei("c")),this.element.appendChild(o),this.contentsElement=o}}class Th extends vp{constructor(e,n){const r=new nE,i=new rE(e,{empty:r.empty,viewProps:n.viewProps});super({blade:n.blade,rackController:new wp({blade:n.blade,element:i.contentsElement,viewProps:n.viewProps}),view:i}),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this);const o=this.rackController.rack;o.emitter.on("add",this.onRackAdd_),o.emitter.on("remove",this.onRackRemove_),this.tab=r}add(e,n){this.rackController.rack.add(e,n)}remove(e){this.rackController.rack.remove(this.rackController.rack.children[e])}onRackAdd_(e){if(!e.root)return;const n=e.bladeController;Sw(this.view.itemsElement,n.itemController.view.element,e.index),n.itemController.viewProps.set("parent",this.viewProps),this.tab.add(n.props.value("selected"))}onRackRemove_(e){if(!e.root)return;const n=e.bladeController;dp(n.itemController.view.element),n.itemController.viewProps.set("parent",null),this.tab.remove(n.props.value("selected"))}}se({id:"tab",type:"blade",accept(t){const e=ne(t,n=>({pages:n.required.array(n.required.object({title:n.required.string})),view:n.required.constant("tab")}));return!e||e.pages.length===0?null:{params:e}},controller(t){const e=new Th(t.document,{blade:t.blade,viewProps:t.viewProps});return t.params.pages.forEach(n=>{const r=new Lu(t.document,{blade:Mw(),itemProps:V.fromObject({selected:!1,title:n.title}),props:V.fromObject({selected:!1}),viewProps:Wt.create()});e.add(r)}),e},api(t){return t.controller instanceof Th?new eE(t.controller,t.pool):t.controller instanceof Lu?new tE(t.controller,t.pool):null}});class _p extends pp{get options(){return this.controller.valueController.props.get("options")}set options(e){this.controller.valueController.props.set("options",e)}}class iE{constructor(){this.disabled=!1,this.emitter=new ke}dispose(){}tick(){this.disabled||this.emitter.emit("tick",{sender:this})}}class oE{constructor(e,n){this.disabled_=!1,this.timerId_=null,this.onTick_=this.onTick_.bind(this),this.doc_=e,this.emitter=new ke,this.interval_=n,this.setTimer_()}get disabled(){return this.disabled_}set disabled(e){this.disabled_=e,this.disabled_?this.clearTimer_():this.setTimer_()}dispose(){this.clearTimer_()}clearTimer_(){if(this.timerId_===null)return;const e=this.doc_.defaultView;e&&e.clearInterval(this.timerId_),this.timerId_=null}setTimer_(){if(this.clearTimer_(),this.interval_<=0)return;const e=this.doc_.defaultView;e&&(this.timerId_=e.setInterval(this.onTick_,this.interval_))}onTick_(){this.disabled_||this.emitter.emit("tick",{sender:this})}}class li{constructor(e){this.constraints=e}constrain(e){return this.constraints.reduce((n,r)=>r.constrain(n),e)}}function mo(t,e){if(t instanceof e)return t;if(t instanceof li){const n=t.constraints.reduce((r,i)=>r||(i instanceof e?i:null),null);if(n)return n}return null}class El{constructor(e){this.values=V.fromObject({options:e})}constrain(e){const n=this.values.get("options");return n.length===0||n.filter(i=>i.value===e).length>0?e:n[0].value}}function kl(t){var e;const n=Su;if(Array.isArray(t))return(e=ne({items:t},r=>({items:r.required.array(r.required.object({text:r.required.string,value:r.required.raw}))})))===null||e===void 0?void 0:e.items;if(typeof t=="object")return n.required.raw(t).value}function Rw(t){if(Array.isArray(t))return t;const e=[];return Object.keys(t).forEach(n=>{e.push({text:n,value:t[n]})}),e}function gp(t){return G(t)?null:new El(Rw(t))}const fa=$("lst");class sE{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.props_=n.props,this.element=e.createElement("div"),this.element.classList.add(fa()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("select");r.classList.add(fa("s")),n.viewProps.bindDisabled(r),this.element.appendChild(r),this.selectElement=r;const i=e.createElement("div");i.classList.add(fa("m")),i.appendChild(Cl(e,"dropdown")),this.element.appendChild(i),n.value.emitter.on("change",this.onValueChange_),this.value_=n.value,ct(this.props_,"options",o=>{Vw(this.selectElement),o.forEach(s=>{const l=e.createElement("option");l.textContent=s.text,this.selectElement.appendChild(l)}),this.update_()})}update_(){const e=this.props_.get("options").map(n=>n.value);this.selectElement.selectedIndex=e.indexOf(this.value_.rawValue)}onValueChange_(){this.update_()}}class Xr{constructor(e,n){this.onSelectChange_=this.onSelectChange_.bind(this),this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.view=new sE(e,{props:this.props,value:this.value,viewProps:this.viewProps}),this.view.selectElement.addEventListener("change",this.onSelectChange_)}onSelectChange_(e){const n=e.currentTarget;this.value.rawValue=this.props.get("options")[n.selectedIndex].value}importProps(e){return yt(e,null,n=>({options:n.required.custom(kl)}),n=>(this.props.set("options",Rw(n.options)),!0))}exportProps(){return Ct(null,{options:this.props.get("options")})}}const Mh=$("pop");class lE{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(Mh()),n.viewProps.bindClassModifiers(this.element),lt(n.shows,On(this.element,Mh(void 0,"v")))}}class bp{constructor(e,n){this.shows=te(!1),this.viewProps=n.viewProps,this.view=new lE(e,{shows:this.shows,viewProps:this.viewProps})}}const Oh=$("txt");class aE{constructor(e,n){this.onChange_=this.onChange_.bind(this),this.element=e.createElement("div"),this.element.classList.add(Oh()),n.viewProps.bindClassModifiers(this.element),this.props_=n.props,this.props_.emitter.on("change",this.onChange_);const r=e.createElement("input");r.classList.add(Oh("i")),r.type="text",n.viewProps.bindDisabled(r),this.element.appendChild(r),this.inputElement=r,n.value.emitter.on("change",this.onChange_),this.value_=n.value,this.refresh()}refresh(){const e=this.props_.get("formatter");this.inputElement.value=e(this.value_.rawValue)}onChange_(){this.refresh()}}class Sl{constructor(e,n){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=n.parser,this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.view=new aE(e,{props:n.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(e){const r=e.currentTarget.value,i=this.parser_(r);G(i)||(this.value.rawValue=i),this.view.refresh()}}function uE(t){return String(t)}function yp(t){return t==="false"?!1:!!t}function Rh(t){return uE(t)}function cE(t){return e=>t.reduce((n,r)=>n!==null?n:r(e),null)}const pE=be(0);function Xs(t){return pE(t)+"%"}function Cp(t){return String(t)}function $u(t){return t}function hr({primary:t,secondary:e,forward:n,backward:r}){let i=!1;function o(s){i||(i=!0,s(),i=!1)}t.emitter.on("change",s=>{o(()=>{e.setRawValue(n(t.rawValue,e.rawValue),s.options)})}),e.emitter.on("change",s=>{o(()=>{t.setRawValue(r(t.rawValue,e.rawValue),s.options)}),o(()=>{e.setRawValue(n(t.rawValue,e.rawValue),s.options)})}),o(()=>{e.setRawValue(n(t.rawValue,e.rawValue),{forceEmit:!1,last:!0})})}function fe(t,e){const n=t*(e.altKey?.1:1)*(e.shiftKey?10:1);return e.upKey?+n:e.downKey?-n:0}function ir(t){return{altKey:t.altKey,downKey:t.key==="ArrowDown",shiftKey:t.shiftKey,upKey:t.key==="ArrowUp"}}function bt(t){return{altKey:t.altKey,downKey:t.key==="ArrowLeft",shiftKey:t.shiftKey,upKey:t.key==="ArrowRight"}}function dE(t){return t==="ArrowUp"||t==="ArrowDown"}function Zs(t){return dE(t)||t==="ArrowLeft"||t==="ArrowRight"}function va(t,e){var n,r;const i=e.ownerDocument.defaultView,o=e.getBoundingClientRect();return{x:t.pageX-(((n=i&&i.scrollX)!==null&&n!==void 0?n:0)+o.left),y:t.pageY-(((r=i&&i.scrollY)!==null&&r!==void 0?r:0)+o.top)}}class Yt{constructor(e){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=e,this.emitter=new ke,e.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),e.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),e.addEventListener("touchend",this.onTouchEnd_),e.addEventListener("mousedown",this.onMouseDown_)}computePosition_(e){const n=this.elem_.getBoundingClientRect();return{bounds:{width:n.width,height:n.height},point:e?{x:e.x,y:e.y}:null}}onMouseDown_(e){var n;e.preventDefault(),(n=e.currentTarget)===null||n===void 0||n.focus();const r=this.elem_.ownerDocument;r.addEventListener("mousemove",this.onDocumentMouseMove_),r.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:e.altKey,data:this.computePosition_(va(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onDocumentMouseMove_(e){this.emitter.emit("move",{altKey:e.altKey,data:this.computePosition_(va(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onDocumentMouseUp_(e){const n=this.elem_.ownerDocument;n.removeEventListener("mousemove",this.onDocumentMouseMove_),n.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:e.altKey,data:this.computePosition_(va(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onTouchStart_(e){e.preventDefault();const n=e.targetTouches.item(0),r=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:e.altKey,data:this.computePosition_(n?{x:n.clientX-r.left,y:n.clientY-r.top}:void 0),sender:this,shiftKey:e.shiftKey}),this.lastTouch_=n}onTouchMove_(e){const n=e.targetTouches.item(0),r=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:e.altKey,data:this.computePosition_(n?{x:n.clientX-r.left,y:n.clientY-r.top}:void 0),sender:this,shiftKey:e.shiftKey}),this.lastTouch_=n}onTouchEnd_(e){var n;const r=(n=e.targetTouches.item(0))!==null&&n!==void 0?n:this.lastTouch_,i=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:e.altKey,data:this.computePosition_(r?{x:r.clientX-i.left,y:r.clientY-i.top}:void 0),sender:this,shiftKey:e.shiftKey})}}const Je=$("txt");class hE{constructor(e,n){this.onChange_=this.onChange_.bind(this),this.props_=n.props,this.props_.emitter.on("change",this.onChange_),this.element=e.createElement("div"),this.element.classList.add(Je(),Je(void 0,"num")),n.arrayPosition&&this.element.classList.add(Je(void 0,n.arrayPosition)),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("input");r.classList.add(Je("i")),r.type="text",n.viewProps.bindDisabled(r),this.element.appendChild(r),this.inputElement=r,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=n.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(Je()),this.inputElement.classList.add(Je("i"));const i=e.createElement("div");i.classList.add(Je("k")),this.element.appendChild(i),this.knobElement=i;const o=e.createElementNS(me,"svg");o.classList.add(Je("g")),this.knobElement.appendChild(o);const s=e.createElementNS(me,"path");s.classList.add(Je("gb")),o.appendChild(s),this.guideBodyElem_=s;const l=e.createElementNS(me,"path");l.classList.add(Je("gh")),o.appendChild(l),this.guideHeadElem_=l;const a=e.createElement("div");a.classList.add($("tt")()),this.knobElement.appendChild(a),this.tooltipElem_=a,n.value.emitter.on("change",this.onChange_),this.value=n.value,this.refresh()}onDraggingChange_(e){if(e.rawValue===null){this.element.classList.remove(Je(void 0,"drg"));return}this.element.classList.add(Je(void 0,"drg"));const n=e.rawValue/this.props_.get("pointerScale"),r=n+(n>0?-1:n<0?1:0),i=Y(-r,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",[`M ${r+i},0 L${r},4 L${r+i},8`,`M ${n},-1 L${n},9`].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d",`M 0,4 L${n},4`);const o=this.props_.get("formatter");this.tooltipElem_.textContent=o(this.value.rawValue),this.tooltipElem_.style.left=`${n}px`}refresh(){const e=this.props_.get("formatter");this.inputElement.value=e(this.value.rawValue)}onChange_(){this.refresh()}}class Oo{constructor(e,n){var r;this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.parser_=n.parser,this.props=n.props,this.sliderProps_=(r=n.sliderProps)!==null&&r!==void 0?r:null,this.value=n.value,this.viewProps=n.viewProps,this.dragging_=te(null),this.view=new hE(e,{arrayPosition:n.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);const i=new Yt(this.view.knobElement);i.emitter.on("down",this.onPointerDown_),i.emitter.on("move",this.onPointerMove_),i.emitter.on("up",this.onPointerUp_)}constrainValue_(e){var n,r;const i=(n=this.sliderProps_)===null||n===void 0?void 0:n.get("min"),o=(r=this.sliderProps_)===null||r===void 0?void 0:r.get("max");let s=e;return i!==void 0&&(s=Math.max(s,i)),o!==void 0&&(s=Math.min(s,o)),s}onInputChange_(e){const r=e.currentTarget.value,i=this.parser_(r);G(i)||(this.value.rawValue=this.constrainValue_(i)),this.view.refresh()}onInputKeyDown_(e){const n=fe(this.props.get("keyScale"),ir(e));n!==0&&this.value.setRawValue(this.constrainValue_(this.value.rawValue+n),{forceEmit:!1,last:!1})}onInputKeyUp_(e){fe(this.props.get("keyScale"),ir(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(e){if(!e.point)return null;const n=e.point.x-e.bounds.width/2;return this.constrainValue_(this.originRawValue_+n*this.props.get("pointerScale"))}onPointerMove_(e){const n=this.computeDraggingValue_(e.data);n!==null&&(this.value.setRawValue(n,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(e){const n=this.computeDraggingValue_(e.data);n!==null&&(this.value.setRawValue(n,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}}const wa=$("sld");class mE{constructor(e,n){this.onChange_=this.onChange_.bind(this),this.props_=n.props,this.props_.emitter.on("change",this.onChange_),this.element=e.createElement("div"),this.element.classList.add(wa()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(wa("t")),n.viewProps.bindTabIndex(r),this.element.appendChild(r),this.trackElement=r;const i=e.createElement("div");i.classList.add(wa("k")),this.trackElement.appendChild(i),this.knobElement=i,n.value.emitter.on("change",this.onChange_),this.value=n.value,this.update_()}update_(){const e=Y(S(this.value.rawValue,this.props_.get("min"),this.props_.get("max"),0,100),0,100);this.knobElement.style.width=`${e}%`}onChange_(){this.update_()}}class fE{constructor(e,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDownOrMove_=this.onPointerDownOrMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.props=n.props,this.view=new mE(e,{props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Yt(this.view.trackElement),this.ptHandler_.emitter.on("down",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("move",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.trackElement.addEventListener("keydown",this.onKeyDown_),this.view.trackElement.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,n){e.point&&this.value.setRawValue(S(Y(e.point.x,0,e.bounds.width),0,e.bounds.width,this.props.get("min"),this.props.get("max")),n)}onPointerDownOrMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){const n=fe(this.props.get("keyScale"),bt(e));n!==0&&this.value.setRawValue(this.value.rawValue+n,{forceEmit:!1,last:!1})}onKeyUp_(e){fe(this.props.get("keyScale"),bt(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const _a=$("sldtxt");class vE{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(_a());const r=e.createElement("div");r.classList.add(_a("s")),this.sliderView_=n.sliderView,r.appendChild(this.sliderView_.element),this.element.appendChild(r);const i=e.createElement("div");i.classList.add(_a("t")),this.textView_=n.textView,i.appendChild(this.textView_.element),this.element.appendChild(i)}}class Nh{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.sliderC_=new fE(e,{props:n.sliderProps,value:n.value,viewProps:this.viewProps}),this.textC_=new Oo(e,{parser:n.parser,props:n.textProps,sliderProps:n.sliderProps,value:n.value,viewProps:n.viewProps}),this.view=new vE(e,{sliderView:this.sliderC_.view,textView:this.textC_.view})}get sliderController(){return this.sliderC_}get textController(){return this.textC_}importProps(e){return yt(e,null,n=>({max:n.required.number,min:n.required.number}),n=>{const r=this.sliderC_.props;return r.set("max",n.max),r.set("min",n.min),!0})}exportProps(){const e=this.sliderC_.props;return Ct(null,{max:e.get("max"),min:e.get("min")})}}function wE(t){return{sliderProps:new V({keyScale:t.keyScale,max:t.max,min:t.min}),textProps:new V({formatter:te(t.formatter),keyScale:t.keyScale,pointerScale:te(t.pointerScale)})}}const _E={containerUnitSize:"cnt-usz"};function Nw(t){return`--${_E[t]}`}class Dw{constructor(e,n){const r=$(n.viewName);this.element=e.createElement("div"),this.element.classList.add(r()),n.viewProps.bindClassModifiers(this.element)}}function fo(t){return up(t)}function mn(t){if(ku(t))return ne(t,fo)}function jt(t,e){if(!t)return;const n=[],r=sp(t,e);r&&n.push(r);const i=lp(t);return i&&n.push(i),new li(n)}function Aw(t){if(t==="inline"||t==="popup")return t}function Rn(t,e){t.write(e)}const ns=$("ckb");class gE{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.element=e.createElement("div"),this.element.classList.add(ns()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("label");r.classList.add(ns("l")),this.element.appendChild(r);const i=e.createElement("input");i.classList.add(ns("i")),i.type="checkbox",r.appendChild(i),this.inputElement=i,n.viewProps.bindDisabled(this.inputElement);const o=e.createElement("div");o.classList.add(ns("w")),r.appendChild(o);const s=Cl(e,"check");o.appendChild(s),n.value.emitter.on("change",this.onValueChange_),this.value=n.value,this.update_()}update_(){this.inputElement.checked=this.value.rawValue}onValueChange_(){this.update_()}}class bE{constructor(e,n){this.onInputChange_=this.onInputChange_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new gE(e,{value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(e){const n=e.currentTarget;this.value.rawValue=n.checked}}function yE(t){const e=[],n=gp(t.options);return n&&e.push(n),new li(e)}se({id:"input-bool",type:"input",accept:(t,e)=>{if(typeof t!="boolean")return null;const n=ne(e,r=>({options:r.optional.custom(kl),readonly:r.optional.constant(!1)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>yp,constraint:t=>yE(t.params),writer:t=>Rn},controller:t=>{const e=t.document,n=t.value,r=t.constraint,i=r&&mo(r,El);return i?new Xr(e,{props:new V({options:i.values.value("options")}),value:n,viewProps:t.viewProps}):new bE(e,{value:n,viewProps:t.viewProps})},api(t){return typeof t.controller.value.rawValue!="boolean"?null:t.controller.valueController instanceof Xr?new _p(t.controller):null}});const zn=$("col");class CE{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(zn()),n.foldable.bindExpandedClass(this.element,zn(void 0,"expanded")),ct(n.foldable,"completed",On(this.element,zn(void 0,"cpl")));const r=e.createElement("div");r.classList.add(zn("h")),this.element.appendChild(r);const i=e.createElement("div");i.classList.add(zn("s")),r.appendChild(i),this.swatchElement=i;const o=e.createElement("div");if(o.classList.add(zn("t")),r.appendChild(o),this.textElement=o,n.pickerLayout==="inline"){const s=e.createElement("div");s.classList.add(zn("p")),this.element.appendChild(s),this.pickerElement=s}else this.pickerElement=null}}function xE(t,e,n){const r=Y(t/255,0,1),i=Y(e/255,0,1),o=Y(n/255,0,1),s=Math.max(r,i,o),l=Math.min(r,i,o),a=s-l;let u=0,p=0;const d=(l+s)/2;return a!==0&&(p=a/(1-Math.abs(s+l-1)),r===s?u=(i-o)/a:i===s?u=2+(o-r)/a:u=4+(r-i)/a,u=u/6+(u<0?1:0)),[u*360,p*100,d*100]}function PE(t,e,n){const r=(t%360+360)%360,i=Y(e/100,0,1),o=Y(n/100,0,1),s=(1-Math.abs(2*o-1))*i,l=s*(1-Math.abs(r/60%2-1)),a=o-s/2;let u,p,d;return r>=0&&r<60?[u,p,d]=[s,l,0]:r>=60&&r<120?[u,p,d]=[l,s,0]:r>=120&&r<180?[u,p,d]=[0,s,l]:r>=180&&r<240?[u,p,d]=[0,l,s]:r>=240&&r<300?[u,p,d]=[l,0,s]:[u,p,d]=[s,0,l],[(u+a)*255,(p+a)*255,(d+a)*255]}function EE(t,e,n){const r=Y(t/255,0,1),i=Y(e/255,0,1),o=Y(n/255,0,1),s=Math.max(r,i,o),l=Math.min(r,i,o),a=s-l;let u;a===0?u=0:s===r?u=60*(((i-o)/a%6+6)%6):s===i?u=60*((o-r)/a+2):u=60*((r-i)/a+4);const p=s===0?0:a/s,d=s;return[u,p*100,d*100]}function zw(t,e,n){const r=Ew(t,360),i=Y(e/100,0,1),o=Y(n/100,0,1),s=o*i,l=s*(1-Math.abs(r/60%2-1)),a=o-s;let u,p,d;return r>=0&&r<60?[u,p,d]=[s,l,0]:r>=60&&r<120?[u,p,d]=[l,s,0]:r>=120&&r<180?[u,p,d]=[0,s,l]:r>=180&&r<240?[u,p,d]=[0,l,s]:r>=240&&r<300?[u,p,d]=[l,0,s]:[u,p,d]=[s,0,l],[(u+a)*255,(p+a)*255,(d+a)*255]}function kE(t,e,n){const r=n+e*(100-Math.abs(2*n-100))/200;return[t,r!==0?e*(100-Math.abs(2*n-100))/r:0,n+e*(100-Math.abs(2*n-100))/(2*100)]}function SE(t,e,n){const r=100-Math.abs(n*(200-e)/100-100);return[t,r!==0?e*n/r:0,n*(200-e)/(2*100)]}function Tt(t){return[t[0],t[1],t[2]]}function Vl(t,e){return[t[0],t[1],t[2],e]}const VE={hsl:{hsl:(t,e,n)=>[t,e,n],hsv:kE,rgb:PE},hsv:{hsl:SE,hsv:(t,e,n)=>[t,e,n],rgb:zw},rgb:{hsl:xE,hsv:EE,rgb:(t,e,n)=>[t,e,n]}};function Zr(t,e){return[e==="float"?1:t==="rgb"?255:360,e==="float"?1:t==="rgb"?255:100,e==="float"?1:t==="rgb"?255:100]}function LE(t,e){return t===e?e:Ew(t,e)}function jw(t,e,n){var r;const i=Zr(e,n);return[e==="rgb"?Y(t[0],0,i[0]):LE(t[0],i[0]),Y(t[1],0,i[1]),Y(t[2],0,i[2]),Y((r=t[3])!==null&&r!==void 0?r:1,0,1)]}function Dh(t,e,n,r){const i=Zr(e,n),o=Zr(e,r);return t.map((s,l)=>s/i[l]*o[l])}function Iw(t,e,n){const r=Dh(t,e.mode,e.type,"int"),i=VE[e.mode][n.mode](...r);return Dh(i,n.mode,"int",n.type)}class A{static black(){return new A([0,0,0],"rgb")}constructor(e,n){this.type="int",this.mode=n,this.comps_=jw(e,n,this.type)}getComponents(e){return Vl(Iw(Tt(this.comps_),{mode:this.mode,type:this.type},{mode:e??this.mode,type:this.type}),this.comps_[3])}toRgbaObject(){const e=this.getComponents("rgb");return{r:e[0],g:e[1],b:e[2],a:e[3]}}}const tn=$("colp");class $E{constructor(e,n){this.alphaViews_=null,this.element=e.createElement("div"),this.element.classList.add(tn()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(tn("hsv"));const i=e.createElement("div");i.classList.add(tn("sv")),this.svPaletteView_=n.svPaletteView,i.appendChild(this.svPaletteView_.element),r.appendChild(i);const o=e.createElement("div");o.classList.add(tn("h")),this.hPaletteView_=n.hPaletteView,o.appendChild(this.hPaletteView_.element),r.appendChild(o),this.element.appendChild(r);const s=e.createElement("div");if(s.classList.add(tn("rgb")),this.textsView_=n.textsView,s.appendChild(this.textsView_.element),this.element.appendChild(s),n.alphaViews){this.alphaViews_={palette:n.alphaViews.palette,text:n.alphaViews.text};const l=e.createElement("div");l.classList.add(tn("a"));const a=e.createElement("div");a.classList.add(tn("ap")),a.appendChild(this.alphaViews_.palette.element),l.appendChild(a);const u=e.createElement("div");u.classList.add(tn("at")),u.appendChild(this.alphaViews_.text.element),l.appendChild(u),this.element.appendChild(l)}}get allFocusableElements(){const e=[this.svPaletteView_.element,this.hPaletteView_.element,this.textsView_.modeSelectElement,...this.textsView_.inputViews.map(n=>n.inputElement)];return this.alphaViews_&&e.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),e}}function TE(t){return t==="int"?"int":t==="float"?"float":void 0}function xp(t){return ne(t,e=>({color:e.optional.object({alpha:e.optional.boolean,type:e.optional.custom(TE)}),expanded:e.optional.boolean,picker:e.optional.custom(Aw),readonly:e.optional.constant(!1)}))}function or(t){return t?.1:1}function Bw(t){var e;return(e=t.color)===null||e===void 0?void 0:e.type}class Pp{constructor(e,n){this.type="float",this.mode=n,this.comps_=jw(e,n,this.type)}getComponents(e){return Vl(Iw(Tt(this.comps_),{mode:this.mode,type:this.type},{mode:e??this.mode,type:this.type}),this.comps_[3])}toRgbaObject(){const e=this.getComponents("rgb");return{r:e[0],g:e[1],b:e[2],a:e[3]}}}const ME={int:(t,e)=>new A(t,e),float:(t,e)=>new Pp(t,e)};function Ep(t,e,n){return ME[n](t,e)}function OE(t){return t.type==="float"}function RE(t){return t.type==="int"}function NE(t){const e=t.getComponents(),n=Zr(t.mode,"int");return new A([Math.round(S(e[0],0,1,0,n[0])),Math.round(S(e[1],0,1,0,n[1])),Math.round(S(e[2],0,1,0,n[2])),e[3]],t.mode)}function DE(t){const e=t.getComponents(),n=Zr(t.mode,"int");return new Pp([S(e[0],0,n[0],0,1),S(e[1],0,n[1],0,1),S(e[2],0,n[2],0,1),e[3]],t.mode)}function Te(t,e){if(t.type===e)return t;if(RE(t)&&e==="float")return DE(t);if(OE(t)&&e==="int")return NE(t);throw Ve.shouldNeverHappen()}function AE(t,e){return t.alpha===e.alpha&&t.mode===e.mode&&t.notation===e.notation&&t.type===e.type}function ot(t,e){const n=t.match(/^(.+)%$/);return Math.min(n?parseFloat(n[1])*.01*e:parseFloat(t),e)}const zE={deg:t=>t,grad:t=>t*360/400,rad:t=>t*360/(2*Math.PI),turn:t=>t*360};function Fw(t){const e=t.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!e)return parseFloat(t);const n=parseFloat(e[1]),r=e[2];return zE[r](n)}function Uw(t){const e=t.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[ot(e[1],255),ot(e[2],255),ot(e[3],255)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function jE(t){const e=Uw(t);return e?new A(e,"rgb"):null}function Kw(t){const e=t.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[ot(e[1],255),ot(e[2],255),ot(e[3],255),ot(e[4],1)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:n}function IE(t){const e=Kw(t);return e?new A(e,"rgb"):null}function Hw(t){const e=t.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[Fw(e[1]),ot(e[2],100),ot(e[3],100)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function BE(t){const e=Hw(t);return e?new A(e,"hsl"):null}function qw(t){const e=t.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[Fw(e[1]),ot(e[2],100),ot(e[3],100),ot(e[4],1)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:n}function FE(t){const e=qw(t);return e?new A(e,"hsl"):null}function Gw(t){const e=t.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(e)return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)];const n=t.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:null}function UE(t){const e=Gw(t);return e?new A(e,"rgb"):null}function Ww(t){const e=t.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(e)return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),S(parseInt(e[4]+e[4],16),0,255,0,1)];const n=t.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16),S(parseInt(n[4],16),0,255,0,1)]:null}function KE(t){const e=Ww(t);return e?new A(e,"rgb"):null}function Qw(t){const e=t.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!e)return null;const n=[parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3])];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function Ah(t){return e=>{const n=Qw(e);return n?Ep(n,"rgb",t):null}}function Yw(t){const e=t.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*a\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!e)return null;const n=[parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4])];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:n}function zh(t){return e=>{const n=Yw(e);return n?Ep(n,"rgb",t):null}}const HE=[{parser:Gw,result:{alpha:!1,mode:"rgb",notation:"hex"}},{parser:Ww,result:{alpha:!0,mode:"rgb",notation:"hex"}},{parser:Uw,result:{alpha:!1,mode:"rgb",notation:"func"}},{parser:Kw,result:{alpha:!0,mode:"rgb",notation:"func"}},{parser:Hw,result:{alpha:!1,mode:"hsl",notation:"func"}},{parser:qw,result:{alpha:!0,mode:"hsl",notation:"func"}},{parser:Qw,result:{alpha:!1,mode:"rgb",notation:"object"}},{parser:Yw,result:{alpha:!0,mode:"rgb",notation:"object"}}];function qE(t){return HE.reduce((e,{parser:n,result:r})=>e||(n(t)?r:null),null)}function GE(t,e="int"){const n=qE(t);return n?n.notation==="hex"&&e!=="float"?Object.assign(Object.assign({},n),{type:"int"}):n.notation==="func"?Object.assign(Object.assign({},n),{type:e}):null:null}function Ro(t){const e=[UE,KE,jE,IE,BE,FE];t==="int"&&e.push(Ah("int"),zh("int")),t==="float"&&e.push(Ah("float"),zh("float"));const n=cE(e);return r=>{const i=n(r);return i?Te(i,t):null}}function WE(t){const e=Ro("int");if(typeof t!="string")return A.black();const n=e(t);return n??A.black()}function Xw(t){const e=Y(Math.floor(t),0,255).toString(16);return e.length===1?`0${e}`:e}function kp(t,e="#"){const n=Tt(t.getComponents("rgb")).map(Xw).join("");return`${e}${n}`}function Sp(t,e="#"){const n=t.getComponents("rgb"),r=[n[0],n[1],n[2],n[3]*255].map(Xw).join("");return`${e}${r}`}function Zw(t){const e=be(0),n=Te(t,"int");return`rgb(${Tt(n.getComponents("rgb")).map(i=>e(i)).join(", ")})`}function _s(t){const e=be(2),n=be(0);return`rgba(${Te(t,"int").getComponents("rgb").map((o,s)=>(s===3?e:n)(o)).join(", ")})`}function QE(t){const e=[be(0),Xs,Xs],n=Te(t,"int");return`hsl(${Tt(n.getComponents("hsl")).map((i,o)=>e[o](i)).join(", ")})`}function YE(t){const e=[be(0),Xs,Xs,be(2)];return`hsla(${Te(t,"int").getComponents("hsl").map((i,o)=>e[o](i)).join(", ")})`}function Jw(t,e){const n=be(e==="float"?2:0),r=["r","g","b"],i=Te(t,e);return`{${Tt(i.getComponents("rgb")).map((s,l)=>`${r[l]}: ${n(s)}`).join(", ")}}`}function XE(t){return e=>Jw(e,t)}function e_(t,e){const n=be(2),r=be(e==="float"?2:0),i=["r","g","b","a"];return`{${Te(t,e).getComponents("rgb").map((l,a)=>{const u=a===3?n:r;return`${i[a]}: ${u(l)}`}).join(", ")}}`}function ZE(t){return e=>e_(e,t)}const JE=[{format:{alpha:!1,mode:"rgb",notation:"hex",type:"int"},stringifier:kp},{format:{alpha:!0,mode:"rgb",notation:"hex",type:"int"},stringifier:Sp},{format:{alpha:!1,mode:"rgb",notation:"func",type:"int"},stringifier:Zw},{format:{alpha:!0,mode:"rgb",notation:"func",type:"int"},stringifier:_s},{format:{alpha:!1,mode:"hsl",notation:"func",type:"int"},stringifier:QE},{format:{alpha:!0,mode:"hsl",notation:"func",type:"int"},stringifier:YE},...["int","float"].reduce((t,e)=>[...t,{format:{alpha:!1,mode:"rgb",notation:"object",type:e},stringifier:XE(e)},{format:{alpha:!0,mode:"rgb",notation:"object",type:e},stringifier:ZE(e)}],[])];function t_(t){return JE.reduce((e,n)=>e||(AE(n.format,t)?n.stringifier:null),null)}const ki=$("apl");class ek{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.value=n.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(ki()),n.viewProps.bindClassModifiers(this.element),n.viewProps.bindTabIndex(this.element);const r=e.createElement("div");r.classList.add(ki("b")),this.element.appendChild(r);const i=e.createElement("div");i.classList.add(ki("c")),r.appendChild(i),this.colorElem_=i;const o=e.createElement("div");o.classList.add(ki("m")),this.element.appendChild(o),this.markerElem_=o;const s=e.createElement("div");s.classList.add(ki("p")),this.markerElem_.appendChild(s),this.previewElem_=s,this.update_()}update_(){const e=this.value.rawValue,n=e.getComponents("rgb"),r=new A([n[0],n[1],n[2],0],"rgb"),i=new A([n[0],n[1],n[2],255],"rgb"),o=["to right",_s(r),_s(i)];this.colorElem_.style.background=`linear-gradient(${o.join(",")})`,this.previewElem_.style.backgroundColor=_s(e);const s=S(n[3],0,1,0,100);this.markerElem_.style.left=`${s}%`}onValueChange_(){this.update_()}}class tk{constructor(e,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new ek(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Yt(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,n){if(!e.point)return;const r=e.point.x/e.bounds.width,i=this.value.rawValue,[o,s,l]=i.getComponents("hsv");this.value.setRawValue(new A([o,s,l,r],"hsv"),n)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){const n=fe(or(!0),bt(e));if(n===0)return;const r=this.value.rawValue,[i,o,s,l]=r.getComponents("hsv");this.value.setRawValue(new A([i,o,s,l+n],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){fe(or(!0),bt(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const wr=$("coltxt");function nk(t){const e=t.createElement("select"),n=[{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"},{text:"HEX",value:"hex"}];return e.appendChild(n.reduce((r,i)=>{const o=t.createElement("option");return o.textContent=i.text,o.value=i.value,r.appendChild(o),r},t.createDocumentFragment())),e}class rk{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(wr()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(wr("m")),this.modeElem_=nk(e),this.modeElem_.classList.add(wr("ms")),r.appendChild(this.modeSelectElement),n.viewProps.bindDisabled(this.modeElem_);const i=e.createElement("div");i.classList.add(wr("mm")),i.appendChild(Cl(e,"dropdown")),r.appendChild(i),this.element.appendChild(r);const o=e.createElement("div");o.classList.add(wr("w")),this.element.appendChild(o),this.inputsElem_=o,this.inputViews_=n.inputViews,this.applyInputViews_(),lt(n.mode,s=>{this.modeElem_.value=s})}get modeSelectElement(){return this.modeElem_}get inputViews(){return this.inputViews_}set inputViews(e){this.inputViews_=e,this.applyInputViews_()}applyInputViews_(){Vw(this.inputsElem_);const e=this.element.ownerDocument;this.inputViews_.forEach(n=>{const r=e.createElement("div");r.classList.add(wr("c")),r.appendChild(n.element),this.inputsElem_.appendChild(r)})}}function ik(t){return be(t==="float"?2:0)}function ok(t,e,n){const r=Zr(t,e)[n];return new To({min:0,max:r})}function sk(t,e,n){return new Oo(t,{arrayPosition:n===0?"fst":n===2?"lst":"mid",parser:e.parser,props:V.fromObject({formatter:ik(e.colorType),keyScale:or(!1),pointerScale:e.colorType==="float"?.01:1}),value:te(0,{constraint:ok(e.colorMode,e.colorType,n)}),viewProps:e.viewProps})}function lk(t,e){const n={colorMode:e.colorMode,colorType:e.colorType,parser:gt,viewProps:e.viewProps};return[0,1,2].map(r=>{const i=sk(t,n,r);return hr({primary:e.value,secondary:i.value,forward(o){return Te(o,e.colorType).getComponents(e.colorMode)[r]},backward(o,s){const l=e.colorMode,u=Te(o,e.colorType).getComponents(l);u[r]=s;const p=Ep(Vl(Tt(u),u[3]),l,e.colorType);return Te(p,"int")}}),i})}function ak(t,e){const n=new Sl(t,{parser:Ro("int"),props:V.fromObject({formatter:kp}),value:te(A.black()),viewProps:e.viewProps});return hr({primary:e.value,secondary:n.value,forward:r=>new A(Tt(r.getComponents()),r.mode),backward:(r,i)=>new A(Vl(Tt(i.getComponents(r.mode)),r.getComponents()[3]),r.mode)}),[n]}function uk(t){return t!=="hex"}class ck{constructor(e,n){this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.colorType_=n.colorType,this.value=n.value,this.viewProps=n.viewProps,this.colorMode=te(this.value.rawValue.mode),this.ccs_=this.createComponentControllers_(e),this.view=new rk(e,{mode:this.colorMode,inputViews:[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view],viewProps:this.viewProps}),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}createComponentControllers_(e){const n=this.colorMode.rawValue;return uk(n)?lk(e,{colorMode:n,colorType:this.colorType_,value:this.value,viewProps:this.viewProps}):ak(e,{value:this.value,viewProps:this.viewProps})}onModeSelectChange_(e){const n=e.currentTarget;this.colorMode.rawValue=n.value,this.ccs_=this.createComponentControllers_(this.view.element.ownerDocument),this.view.inputViews=this.ccs_.map(r=>r.view)}}const ga=$("hpl");class pk{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.value=n.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(ga()),n.viewProps.bindClassModifiers(this.element),n.viewProps.bindTabIndex(this.element);const r=e.createElement("div");r.classList.add(ga("c")),this.element.appendChild(r);const i=e.createElement("div");i.classList.add(ga("m")),this.element.appendChild(i),this.markerElem_=i,this.update_()}update_(){const e=this.value.rawValue,[n]=e.getComponents("hsv");this.markerElem_.style.backgroundColor=Zw(new A([n,100,100],"hsv"));const r=S(n,0,360,0,100);this.markerElem_.style.left=`${r}%`}onValueChange_(){this.update_()}}class dk{constructor(e,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new pk(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Yt(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,n){if(!e.point)return;const r=S(Y(e.point.x,0,e.bounds.width),0,e.bounds.width,0,360),i=this.value.rawValue,[,o,s,l]=i.getComponents("hsv");this.value.setRawValue(new A([r,o,s,l],"hsv"),n)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){const n=fe(or(!1),bt(e));if(n===0)return;const r=this.value.rawValue,[i,o,s,l]=r.getComponents("hsv");this.value.setRawValue(new A([i+n,o,s,l],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){fe(or(!1),bt(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const ba=$("svp"),jh=64;class hk{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.value=n.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(ba()),n.viewProps.bindClassModifiers(this.element),n.viewProps.bindTabIndex(this.element);const r=e.createElement("canvas");r.height=jh,r.width=jh,r.classList.add(ba("c")),this.element.appendChild(r),this.canvasElement=r;const i=e.createElement("div");i.classList.add(ba("m")),this.element.appendChild(i),this.markerElem_=i,this.update_()}update_(){const e=xP(this.canvasElement);if(!e)return;const r=this.value.rawValue.getComponents("hsv"),i=this.canvasElement.width,o=this.canvasElement.height,s=e.getImageData(0,0,i,o),l=s.data;for(let p=0;p<o;p++)for(let d=0;d<i;d++){const f=S(d,0,i,0,100),_=S(p,0,o,100,0),g=zw(r[0],f,_),b=(p*i+d)*4;l[b]=g[0],l[b+1]=g[1],l[b+2]=g[2],l[b+3]=255}e.putImageData(s,0,0);const a=S(r[1],0,100,0,100);this.markerElem_.style.left=`${a}%`;const u=S(r[2],0,100,100,0);this.markerElem_.style.top=`${u}%`}onValueChange_(){this.update_()}}class mk{constructor(e,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new hk(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Yt(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,n){if(!e.point)return;const r=S(e.point.x,0,e.bounds.width,0,100),i=S(e.point.y,0,e.bounds.height,100,0),[o,,,s]=this.value.rawValue.getComponents("hsv");this.value.setRawValue(new A([o,r,i,s],"hsv"),n)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){Zs(e.key)&&e.preventDefault();const[n,r,i,o]=this.value.rawValue.getComponents("hsv"),s=or(!1),l=fe(s,bt(e)),a=fe(s,ir(e));l===0&&a===0||this.value.setRawValue(new A([n,r+l,i+a,o],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){const n=or(!1),r=fe(n,bt(e)),i=fe(n,ir(e));r===0&&i===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class fk{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.hPaletteC_=new dk(e,{value:this.value,viewProps:this.viewProps}),this.svPaletteC_=new mk(e,{value:this.value,viewProps:this.viewProps}),this.alphaIcs_=n.supportsAlpha?{palette:new tk(e,{value:this.value,viewProps:this.viewProps}),text:new Oo(e,{parser:gt,props:V.fromObject({pointerScale:.01,keyScale:.1,formatter:be(2)}),value:te(0,{constraint:new To({min:0,max:1})}),viewProps:this.viewProps})}:null,this.alphaIcs_&&hr({primary:this.value,secondary:this.alphaIcs_.text.value,forward:r=>r.getComponents()[3],backward:(r,i)=>{const o=r.getComponents();return o[3]=i,new A(o,r.mode)}}),this.textsC_=new ck(e,{colorType:n.colorType,value:this.value,viewProps:this.viewProps}),this.view=new $E(e,{alphaViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,hPaletteView:this.hPaletteC_.view,supportsAlpha:n.supportsAlpha,svPaletteView:this.svPaletteC_.view,textsView:this.textsC_.view,viewProps:this.viewProps})}get textsController(){return this.textsC_}}const ya=$("colsw");class vk{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),n.value.emitter.on("change",this.onValueChange_),this.value=n.value,this.element=e.createElement("div"),this.element.classList.add(ya()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(ya("sw")),this.element.appendChild(r),this.swatchElem_=r;const i=e.createElement("button");i.classList.add(ya("b")),n.viewProps.bindDisabled(i),this.element.appendChild(i),this.buttonElement=i,this.update_()}update_(){const e=this.value.rawValue;this.swatchElem_.style.backgroundColor=Sp(e)}onValueChange_(){this.update_()}}class wk{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.view=new vk(e,{value:this.value,viewProps:this.viewProps})}}class Vp{constructor(e,n){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.foldable_=si.create(n.expanded),this.swatchC_=new wk(e,{value:this.value,viewProps:this.viewProps});const r=this.swatchC_.view.buttonElement;r.addEventListener("blur",this.onButtonBlur_),r.addEventListener("click",this.onButtonClick_),this.textC_=new Sl(e,{parser:n.parser,props:V.fromObject({formatter:n.formatter}),value:this.value,viewProps:this.viewProps}),this.view=new CE(e,{foldable:this.foldable_,pickerLayout:n.pickerLayout}),this.view.swatchElement.appendChild(this.swatchC_.view.element),this.view.textElement.appendChild(this.textC_.view.element),this.popC_=n.pickerLayout==="popup"?new bp(e,{viewProps:this.viewProps}):null;const i=new fk(e,{colorType:n.colorType,supportsAlpha:n.supportsAlpha,value:this.value,viewProps:this.viewProps});i.view.allFocusableElements.forEach(o=>{o.addEventListener("blur",this.onPopupChildBlur_),o.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=i,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(i.view.element),hr({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:o=>o,backward:(o,s)=>s})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),Pl(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onButtonBlur_(e){if(!this.popC_)return;const n=this.view.element,r=e.relatedTarget;(!r||!n.contains(r))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(e){if(!this.popC_)return;const n=this.popC_.view.element,r=hp(e);r&&n.contains(r)||r&&r===this.swatchC_.view.buttonElement&&!yl(n.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(e){this.popC_?e.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&e.key==="Escape"&&this.swatchC_.view.buttonElement.focus()}}function _k(t){return Tt(t.getComponents("rgb")).reduce((e,n)=>e<<8|Math.floor(n)&255,0)}function gk(t){return t.getComponents("rgb").reduce((e,n,r)=>{const i=Math.floor(r===3?n*255:n)&255;return e<<8|i},0)>>>0}function bk(t){return new A([t>>16&255,t>>8&255,t&255],"rgb")}function yk(t){return new A([t>>24&255,t>>16&255,t>>8&255,S(t&255,0,255,0,1)],"rgb")}function Ck(t){return typeof t!="number"?A.black():bk(t)}function xk(t){return typeof t!="number"?A.black():yk(t)}function gs(t,e){return typeof t!="object"||G(t)?!1:e in t&&typeof t[e]=="number"}function n_(t){return gs(t,"r")&&gs(t,"g")&&gs(t,"b")}function r_(t){return n_(t)&&gs(t,"a")}function i_(t){return n_(t)}function Lp(t,e){if(t.mode!==e.mode||t.type!==e.type)return!1;const n=t.getComponents(),r=e.getComponents();for(let i=0;i<n.length;i++)if(n[i]!==r[i])return!1;return!0}function Ih(t){return"a"in t?[t.r,t.g,t.b,t.a]:[t.r,t.g,t.b]}function Pk(t){const e=t_(t);return e?(n,r)=>{Rn(n,e(r))}:null}function Ek(t){const e=t?gk:_k;return(n,r)=>{Rn(n,e(r))}}function kk(t,e,n){const i=Te(e,n).toRgbaObject();t.writeProperty("r",i.r),t.writeProperty("g",i.g),t.writeProperty("b",i.b),t.writeProperty("a",i.a)}function Sk(t,e,n){const i=Te(e,n).toRgbaObject();t.writeProperty("r",i.r),t.writeProperty("g",i.g),t.writeProperty("b",i.b)}function Vk(t,e){return(n,r)=>{t?kk(n,r,e):Sk(n,r,e)}}function Lk(t){var e;return!!(!((e=t==null?void 0:t.color)===null||e===void 0)&&e.alpha)}function $k(t){return t?e=>Sp(e,"0x"):e=>kp(e,"0x")}function Tk(t){return"color"in t||t.view==="color"}se({id:"input-color-number",type:"input",accept:(t,e)=>{if(typeof t!="number"||!Tk(e))return null;const n=xp(e);return n?{initialValue:t,params:Object.assign(Object.assign({},n),{supportsAlpha:Lk(e)})}:null},binding:{reader:t=>t.params.supportsAlpha?xk:Ck,equals:Lp,writer:t=>Ek(t.params.supportsAlpha)},controller:t=>{var e,n;return new Vp(t.document,{colorType:"int",expanded:(e=t.params.expanded)!==null&&e!==void 0?e:!1,formatter:$k(t.params.supportsAlpha),parser:Ro("int"),pickerLayout:(n=t.params.picker)!==null&&n!==void 0?n:"popup",supportsAlpha:t.params.supportsAlpha,value:t.value,viewProps:t.viewProps})}});function Mk(t,e){if(!i_(t))return Te(A.black(),e);if(e==="int"){const n=Ih(t);return new A(n,"rgb")}if(e==="float"){const n=Ih(t);return new Pp(n,"rgb")}return Te(A.black(),"int")}function Ok(t){return r_(t)}function Rk(t){return e=>{const n=Mk(e,t);return Te(n,"int")}}function Nk(t,e){return n=>t?e_(n,e):Jw(n,e)}se({id:"input-color-object",type:"input",accept:(t,e)=>{var n;if(!i_(t))return null;const r=xp(e);return r?{initialValue:t,params:Object.assign(Object.assign({},r),{colorType:(n=Bw(e))!==null&&n!==void 0?n:"int"})}:null},binding:{reader:t=>Rk(t.params.colorType),equals:Lp,writer:t=>Vk(Ok(t.initialValue),t.params.colorType)},controller:t=>{var e,n;const r=r_(t.initialValue);return new Vp(t.document,{colorType:t.params.colorType,expanded:(e=t.params.expanded)!==null&&e!==void 0?e:!1,formatter:Nk(r,t.params.colorType),parser:Ro("int"),pickerLayout:(n=t.params.picker)!==null&&n!==void 0?n:"popup",supportsAlpha:r,value:t.value,viewProps:t.viewProps})}});se({id:"input-color-string",type:"input",accept:(t,e)=>{if(typeof t!="string"||e.view==="text")return null;const n=GE(t,Bw(e));if(!n)return null;const r=t_(n);if(!r)return null;const i=xp(e);return i?{initialValue:t,params:Object.assign(Object.assign({},i),{format:n,stringifier:r})}:null},binding:{reader:()=>WE,equals:Lp,writer:t=>{const e=Pk(t.params.format);if(!e)throw Ve.notBindable();return e}},controller:t=>{var e,n;return new Vp(t.document,{colorType:t.params.format.type,expanded:(e=t.params.expanded)!==null&&e!==void 0?e:!1,formatter:t.params.stringifier,parser:Ro("int"),pickerLayout:(n=t.params.picker)!==null&&n!==void 0?n:"popup",supportsAlpha:t.params.format.alpha,value:t.value,viewProps:t.viewProps})}});class Ll{constructor(e){this.components=e.components,this.asm_=e.assembly}constrain(e){const n=this.asm_.toComponents(e).map((r,i)=>{var o,s;return(s=(o=this.components[i])===null||o===void 0?void 0:o.constrain(r))!==null&&s!==void 0?s:r});return this.asm_.fromComponents(n)}}const Bh=$("pndtxt");class Dk{constructor(e,n){this.textViews=n.textViews,this.element=e.createElement("div"),this.element.classList.add(Bh()),this.textViews.forEach(r=>{const i=e.createElement("div");i.classList.add(Bh("a")),i.appendChild(r.element),this.element.appendChild(i)})}}function Ak(t,e,n){return new Oo(t,{arrayPosition:n===0?"fst":n===e.axes.length-1?"lst":"mid",parser:e.parser,props:e.axes[n].textProps,value:te(0,{constraint:e.axes[n].constraint}),viewProps:e.viewProps})}class ai{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.acs_=n.axes.map((r,i)=>Ak(e,n,i)),this.acs_.forEach((r,i)=>{hr({primary:this.value,secondary:r.value,forward:o=>n.assembly.toComponents(o)[i],backward:(o,s)=>{const l=n.assembly.toComponents(o);return l[i]=s,n.assembly.fromComponents(l)}})}),this.view=new Dk(e,{textViews:this.acs_.map(r=>r.view)})}get textControllers(){return this.acs_}}class zk extends pp{get max(){return this.controller.valueController.sliderController.props.get("max")}set max(e){this.controller.valueController.sliderController.props.set("max",e)}get min(){return this.controller.valueController.sliderController.props.get("min")}set min(e){this.controller.valueController.sliderController.props.set("min",e)}}function jk(t,e){const n=[],r=sp(t,e);r&&n.push(r);const i=lp(t);i&&n.push(i);const o=gp(t.options);return o&&n.push(o),new li(n)}se({id:"input-number",type:"input",accept:(t,e)=>{if(typeof t!="number")return null;const n=ne(e,r=>Object.assign(Object.assign({},up(r)),{options:r.optional.custom(kl),readonly:r.optional.constant(!1)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>op,constraint:t=>jk(t.params,t.initialValue),writer:t=>Rn},controller:t=>{const e=t.value,n=t.constraint,r=n&&mo(n,El);if(r)return new Xr(t.document,{props:new V({options:r.values.value("options")}),value:e,viewProps:t.viewProps});const i=ap(t.params,e.rawValue),o=n&&mo(n,To);return o?new Nh(t.document,Object.assign(Object.assign({},wE(Object.assign(Object.assign({},i),{keyScale:te(i.keyScale),max:o.values.value("max"),min:o.values.value("min")}))),{parser:gt,value:e,viewProps:t.viewProps})):new Oo(t.document,{parser:gt,props:V.fromObject(i),value:e,viewProps:t.viewProps})},api(t){return typeof t.controller.value.rawValue!="number"?null:t.controller.valueController instanceof Nh?new zk(t.controller):t.controller.valueController instanceof Xr?new _p(t.controller):null}});class Pn{constructor(e=0,n=0){this.x=e,this.y=n}getComponents(){return[this.x,this.y]}static isObject(e){if(G(e))return!1;const n=e.x,r=e.y;return!(typeof n!="number"||typeof r!="number")}static equals(e,n){return e.x===n.x&&e.y===n.y}toObject(){return{x:this.x,y:this.y}}}const o_={toComponents:t=>t.getComponents(),fromComponents:t=>new Pn(...t)},_r=$("p2d");class Ik{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(_r()),n.viewProps.bindClassModifiers(this.element),lt(n.expanded,On(this.element,_r(void 0,"expanded")));const r=e.createElement("div");r.classList.add(_r("h")),this.element.appendChild(r);const i=e.createElement("button");i.classList.add(_r("b")),i.appendChild(Cl(e,"p2dpad")),n.viewProps.bindDisabled(i),r.appendChild(i),this.buttonElement=i;const o=e.createElement("div");if(o.classList.add(_r("t")),r.appendChild(o),this.textElement=o,n.pickerLayout==="inline"){const s=e.createElement("div");s.classList.add(_r("p")),this.element.appendChild(s),this.pickerElement=s}else this.pickerElement=null}}const nn=$("p2dp");class Bk{constructor(e,n){this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onPropsChange_=this.onPropsChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.props_=n.props,this.props_.emitter.on("change",this.onPropsChange_),this.element=e.createElement("div"),this.element.classList.add(nn()),n.layout==="popup"&&this.element.classList.add(nn(void 0,"p")),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(nn("p")),n.viewProps.bindTabIndex(r),this.element.appendChild(r),this.padElement=r;const i=e.createElementNS(me,"svg");i.classList.add(nn("g")),this.padElement.appendChild(i),this.svgElem_=i;const o=e.createElementNS(me,"line");o.classList.add(nn("ax")),o.setAttributeNS(null,"x1","0"),o.setAttributeNS(null,"y1","50%"),o.setAttributeNS(null,"x2","100%"),o.setAttributeNS(null,"y2","50%"),this.svgElem_.appendChild(o);const s=e.createElementNS(me,"line");s.classList.add(nn("ax")),s.setAttributeNS(null,"x1","50%"),s.setAttributeNS(null,"y1","0"),s.setAttributeNS(null,"x2","50%"),s.setAttributeNS(null,"y2","100%"),this.svgElem_.appendChild(s);const l=e.createElementNS(me,"line");l.classList.add(nn("l")),l.setAttributeNS(null,"x1","50%"),l.setAttributeNS(null,"y1","50%"),this.svgElem_.appendChild(l),this.lineElem_=l;const a=e.createElement("div");a.classList.add(nn("m")),this.padElement.appendChild(a),this.markerElem_=a,n.value.emitter.on("change",this.onValueChange_),this.value=n.value,this.update_()}get allFocusableElements(){return[this.padElement]}update_(){const[e,n]=this.value.rawValue.getComponents(),r=this.props_.get("max"),i=S(e,-r,+r,0,100),o=S(n,-r,+r,0,100),s=this.props_.get("invertsY")?100-o:o;this.lineElem_.setAttributeNS(null,"x2",`${i}%`),this.lineElem_.setAttributeNS(null,"y2",`${s}%`),this.markerElem_.style.left=`${i}%`,this.markerElem_.style.top=`${s}%`}onValueChange_(){this.update_()}onPropsChange_(){this.update_()}onFoldableChange_(){this.update_()}}function Fh(t,e,n){return[fe(e[0],bt(t)),fe(e[1],ir(t))*(n?1:-1)]}class Fk{constructor(e,n){this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPadKeyUp_=this.onPadKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.view=new Bk(e,{layout:n.layout,props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Yt(this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_),this.view.padElement.addEventListener("keyup",this.onPadKeyUp_)}handlePointerEvent_(e,n){if(!e.point)return;const r=this.props.get("max"),i=S(e.point.x,0,e.bounds.width,-r,+r),o=S(this.props.get("invertsY")?e.bounds.height-e.point.y:e.point.y,0,e.bounds.height,-r,+r);this.value.setRawValue(new Pn(i,o),n)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onPadKeyDown_(e){Zs(e.key)&&e.preventDefault();const[n,r]=Fh(e,[this.props.get("xKeyScale"),this.props.get("yKeyScale")],this.props.get("invertsY"));n===0&&r===0||this.value.setRawValue(new Pn(this.value.rawValue.x+n,this.value.rawValue.y+r),{forceEmit:!1,last:!1})}onPadKeyUp_(e){const[n,r]=Fh(e,[this.props.get("xKeyScale"),this.props.get("yKeyScale")],this.props.get("invertsY"));n===0&&r===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class Uk{constructor(e,n){var r,i;this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.foldable_=si.create(n.expanded),this.popC_=n.pickerLayout==="popup"?new bp(e,{viewProps:this.viewProps}):null;const o=new Fk(e,{layout:n.pickerLayout,props:new V({invertsY:te(n.invertsY),max:te(n.max),xKeyScale:n.axes[0].textProps.value("keyScale"),yKeyScale:n.axes[1].textProps.value("keyScale")}),value:this.value,viewProps:this.viewProps});o.view.allFocusableElements.forEach(s=>{s.addEventListener("blur",this.onPopupChildBlur_),s.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=o,this.textC_=new ai(e,{assembly:o_,axes:n.axes,parser:n.parser,value:this.value,viewProps:this.viewProps}),this.view=new Ik(e,{expanded:this.foldable_.value("expanded"),pickerLayout:n.pickerLayout,viewProps:this.viewProps}),this.view.textElement.appendChild(this.textC_.view.element),(r=this.view.buttonElement)===null||r===void 0||r.addEventListener("blur",this.onPadButtonBlur_),(i=this.view.buttonElement)===null||i===void 0||i.addEventListener("click",this.onPadButtonClick_),this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),hr({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:s=>s,backward:(s,l)=>l})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),Pl(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onPadButtonBlur_(e){if(!this.popC_)return;const n=this.view.element,r=e.relatedTarget;(!r||!n.contains(r))&&(this.popC_.shows.rawValue=!1)}onPadButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(e){if(!this.popC_)return;const n=this.popC_.view.element,r=hp(e);r&&n.contains(r)||r&&r===this.view.buttonElement&&!yl(n.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(e){this.popC_?e.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&e.key==="Escape"&&this.view.buttonElement.focus()}}function Kk(t){return Pn.isObject(t)?new Pn(t.x,t.y):new Pn}function Hk(t,e){t.writeProperty("x",e.x),t.writeProperty("y",e.y)}function qk(t,e){return new Ll({assembly:o_,components:[jt(Object.assign(Object.assign({},t),t.x),e.x),jt(Object.assign(Object.assign({},t),t.y),e.y)]})}function Uh(t,e){var n,r;if(!G(t.min)||!G(t.max))return Math.max(Math.abs((n=t.min)!==null&&n!==void 0?n:0),Math.abs((r=t.max)!==null&&r!==void 0?r:0));const i=kw(t);return Math.max(Math.abs(i)*10,Math.abs(e)*10)}function Gk(t,e){var n,r;const i=Uh(rr(t,(n=t.x)!==null&&n!==void 0?n:{}),e.x),o=Uh(rr(t,(r=t.y)!==null&&r!==void 0?r:{}),e.y);return Math.max(i,o)}function Wk(t){if(!("y"in t))return!1;const e=t.y;return e&&"inverted"in e?!!e.inverted:!1}se({id:"input-point2d",type:"input",accept:(t,e)=>{if(!Pn.isObject(t))return null;const n=ne(e,r=>Object.assign(Object.assign({},fo(r)),{expanded:r.optional.boolean,picker:r.optional.custom(Aw),readonly:r.optional.constant(!1),x:r.optional.custom(mn),y:r.optional.object(Object.assign(Object.assign({},fo(r)),{inverted:r.optional.boolean}))}));return n?{initialValue:t,params:n}:null},binding:{reader:()=>Kk,constraint:t=>qk(t.params,t.initialValue),equals:Pn.equals,writer:()=>Hk},controller:t=>{var e,n;const r=t.document,i=t.value,o=t.constraint,s=[t.params.x,t.params.y];return new Uk(r,{axes:i.rawValue.getComponents().map((l,a)=>{var u;return cp({constraint:o.components[a],initialValue:l,params:rr(t.params,(u=s[a])!==null&&u!==void 0?u:{})})}),expanded:(e=t.params.expanded)!==null&&e!==void 0?e:!1,invertsY:Wk(t.params),max:Gk(t.params,i.rawValue),parser:gt,pickerLayout:(n=t.params.picker)!==null&&n!==void 0?n:"popup",value:i,viewProps:t.viewProps})}});class Br{constructor(e=0,n=0,r=0){this.x=e,this.y=n,this.z=r}getComponents(){return[this.x,this.y,this.z]}static isObject(e){if(G(e))return!1;const n=e.x,r=e.y,i=e.z;return!(typeof n!="number"||typeof r!="number"||typeof i!="number")}static equals(e,n){return e.x===n.x&&e.y===n.y&&e.z===n.z}toObject(){return{x:this.x,y:this.y,z:this.z}}}const s_={toComponents:t=>t.getComponents(),fromComponents:t=>new Br(...t)};function Qk(t){return Br.isObject(t)?new Br(t.x,t.y,t.z):new Br}function Yk(t,e){t.writeProperty("x",e.x),t.writeProperty("y",e.y),t.writeProperty("z",e.z)}function Xk(t,e){return new Ll({assembly:s_,components:[jt(Object.assign(Object.assign({},t),t.x),e.x),jt(Object.assign(Object.assign({},t),t.y),e.y),jt(Object.assign(Object.assign({},t),t.z),e.z)]})}se({id:"input-point3d",type:"input",accept:(t,e)=>{if(!Br.isObject(t))return null;const n=ne(e,r=>Object.assign(Object.assign({},fo(r)),{readonly:r.optional.constant(!1),x:r.optional.custom(mn),y:r.optional.custom(mn),z:r.optional.custom(mn)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>Qk,constraint:t=>Xk(t.params,t.initialValue),equals:Br.equals,writer:t=>Yk},controller:t=>{const e=t.value,n=t.constraint,r=[t.params.x,t.params.y,t.params.z];return new ai(t.document,{assembly:s_,axes:e.rawValue.getComponents().map((i,o)=>{var s;return cp({constraint:n.components[o],initialValue:i,params:rr(t.params,(s=r[o])!==null&&s!==void 0?s:{})})}),parser:gt,value:e,viewProps:t.viewProps})}});class Fr{constructor(e=0,n=0,r=0,i=0){this.x=e,this.y=n,this.z=r,this.w=i}getComponents(){return[this.x,this.y,this.z,this.w]}static isObject(e){if(G(e))return!1;const n=e.x,r=e.y,i=e.z,o=e.w;return!(typeof n!="number"||typeof r!="number"||typeof i!="number"||typeof o!="number")}static equals(e,n){return e.x===n.x&&e.y===n.y&&e.z===n.z&&e.w===n.w}toObject(){return{x:this.x,y:this.y,z:this.z,w:this.w}}}const l_={toComponents:t=>t.getComponents(),fromComponents:t=>new Fr(...t)};function Zk(t){return Fr.isObject(t)?new Fr(t.x,t.y,t.z,t.w):new Fr}function Jk(t,e){t.writeProperty("x",e.x),t.writeProperty("y",e.y),t.writeProperty("z",e.z),t.writeProperty("w",e.w)}function eS(t,e){return new Ll({assembly:l_,components:[jt(Object.assign(Object.assign({},t),t.x),e.x),jt(Object.assign(Object.assign({},t),t.y),e.y),jt(Object.assign(Object.assign({},t),t.z),e.z),jt(Object.assign(Object.assign({},t),t.w),e.w)]})}se({id:"input-point4d",type:"input",accept:(t,e)=>{if(!Fr.isObject(t))return null;const n=ne(e,r=>Object.assign(Object.assign({},fo(r)),{readonly:r.optional.constant(!1),w:r.optional.custom(mn),x:r.optional.custom(mn),y:r.optional.custom(mn),z:r.optional.custom(mn)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>Zk,constraint:t=>eS(t.params,t.initialValue),equals:Fr.equals,writer:t=>Jk},controller:t=>{const e=t.value,n=t.constraint,r=[t.params.x,t.params.y,t.params.z,t.params.w];return new ai(t.document,{assembly:l_,axes:e.rawValue.getComponents().map((i,o)=>{var s;return cp({constraint:n.components[o],initialValue:i,params:rr(t.params,(s=r[o])!==null&&s!==void 0?s:{})})}),parser:gt,value:e,viewProps:t.viewProps})}});function tS(t){const e=[],n=gp(t.options);return n&&e.push(n),new li(e)}se({id:"input-string",type:"input",accept:(t,e)=>{if(typeof t!="string")return null;const n=ne(e,r=>({readonly:r.optional.constant(!1),options:r.optional.custom(kl)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>Cp,constraint:t=>tS(t.params),writer:t=>Rn},controller:t=>{const e=t.document,n=t.value,r=t.constraint,i=r&&mo(r,El);return i?new Xr(e,{props:new V({options:i.values.value("options")}),value:n,viewProps:t.viewProps}):new Sl(e,{parser:o=>o,props:V.fromObject({formatter:$u}),value:n,viewProps:t.viewProps})},api(t){return typeof t.controller.value.rawValue!="string"?null:t.controller.valueController instanceof Xr?new _p(t.controller):null}});const No={monitor:{defaultInterval:200,defaultRows:3}},Kh=$("mll");class nS{constructor(e,n){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=n.formatter,this.element=e.createElement("div"),this.element.classList.add(Kh()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("textarea");r.classList.add(Kh("i")),r.style.height=`calc(var(${Nw("containerUnitSize")}) * ${n.rows})`,r.readOnly=!0,n.viewProps.bindDisabled(r),this.element.appendChild(r),this.textareaElem_=r,n.value.emitter.on("change",this.onValueUpdate_),this.value=n.value,this.update_()}update_(){const e=this.textareaElem_,n=e.scrollTop===e.scrollHeight-e.clientHeight,r=[];this.value.rawValue.forEach(i=>{i!==void 0&&r.push(this.formatter_(i))}),e.textContent=r.join(`
`),n&&(e.scrollTop=e.scrollHeight)}onValueUpdate_(){this.update_()}}class $p{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.view=new nS(e,{formatter:n.formatter,rows:n.rows,value:this.value,viewProps:this.viewProps})}}const Hh=$("sgl");class rS{constructor(e,n){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=n.formatter,this.element=e.createElement("div"),this.element.classList.add(Hh()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("input");r.classList.add(Hh("i")),r.readOnly=!0,r.type="text",n.viewProps.bindDisabled(r),this.element.appendChild(r),this.inputElement=r,n.value.emitter.on("change",this.onValueUpdate_),this.value=n.value,this.update_()}update_(){const e=this.value.rawValue,n=e[e.length-1];this.inputElement.value=n!==void 0?this.formatter_(n):""}onValueUpdate_(){this.update_()}}class Tp{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.view=new rS(e,{formatter:n.formatter,value:this.value,viewProps:this.viewProps})}}se({id:"monitor-bool",type:"monitor",accept:(t,e)=>{if(typeof t!="boolean")return null;const n=ne(e,r=>({readonly:r.required.constant(!0),rows:r.optional.number}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>yp},controller:t=>{var e;return t.value.rawValue.length===1?new Tp(t.document,{formatter:Rh,value:t.value,viewProps:t.viewProps}):new $p(t.document,{formatter:Rh,rows:(e=t.params.rows)!==null&&e!==void 0?e:No.monitor.defaultRows,value:t.value,viewProps:t.viewProps})}});class iS extends pp{get max(){return this.controller.valueController.props.get("max")}set max(e){this.controller.valueController.props.set("max",e)}get min(){return this.controller.valueController.props.get("min")}set min(e){this.controller.valueController.props.set("min",e)}}const rn=$("grl");class oS{constructor(e,n){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=e.createElement("div"),this.element.classList.add(rn()),n.viewProps.bindClassModifiers(this.element),this.formatter_=n.formatter,this.props_=n.props,this.cursor_=n.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);const r=e.createElementNS(me,"svg");r.classList.add(rn("g")),r.style.height=`calc(var(${Nw("containerUnitSize")}) * ${n.rows})`,this.element.appendChild(r),this.svgElem_=r;const i=e.createElementNS(me,"polyline");this.svgElem_.appendChild(i),this.lineElem_=i;const o=e.createElement("div");o.classList.add(rn("t"),$("tt")()),this.element.appendChild(o),this.tooltipElem_=o,n.value.emitter.on("change",this.onValueUpdate_),this.value=n.value,this.update_()}get graphElement(){return this.svgElem_}update_(){const e=this.svgElem_.getBoundingClientRect(),n=this.value.rawValue.length-1,r=this.props_.get("min"),i=this.props_.get("max"),o=[];this.value.rawValue.forEach((p,d)=>{if(p===void 0)return;const f=S(d,0,n,0,e.width),_=S(p,r,i,e.height,0);o.push([f,_].join(","))}),this.lineElem_.setAttributeNS(null,"points",o.join(" "));const s=this.tooltipElem_,l=this.value.rawValue[this.cursor_.rawValue];if(l===void 0){s.classList.remove(rn("t","a"));return}const a=S(this.cursor_.rawValue,0,n,0,e.width),u=S(l,r,i,e.height,0);s.style.left=`${a}px`,s.style.top=`${u}px`,s.textContent=`${this.formatter_(l)}`,s.classList.contains(rn("t","a"))||(s.classList.add(rn("t","a"),rn("t","in")),Qs(s),s.classList.remove(rn("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}}class Mp{constructor(e,n){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.cursor_=te(-1),this.view=new oS(e,{cursor:this.cursor_,formatter:n.formatter,rows:n.rows,props:this.props,value:this.value,viewProps:this.viewProps}),!yl(e))this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_);else{const r=new Yt(this.view.element);r.emitter.on("down",this.onGraphPointerDown_),r.emitter.on("move",this.onGraphPointerMove_),r.emitter.on("up",this.onGraphPointerUp_)}}importProps(e){return yt(e,null,n=>({max:n.required.number,min:n.required.number}),n=>(this.props.set("max",n.max),this.props.set("min",n.min),!0))}exportProps(){return Ct(null,{max:this.props.get("max"),min:this.props.get("min")})}onGraphMouseLeave_(){this.cursor_.rawValue=-1}onGraphMouseMove_(e){const n=this.view.element.getBoundingClientRect();this.cursor_.rawValue=Math.floor(S(e.offsetX,0,n.width,0,this.value.rawValue.length))}onGraphPointerDown_(e){this.onGraphPointerMove_(e)}onGraphPointerMove_(e){if(!e.data.point){this.cursor_.rawValue=-1;return}this.cursor_.rawValue=Math.floor(S(e.data.point.x,0,e.data.bounds.width,0,this.value.rawValue.length))}onGraphPointerUp_(){this.cursor_.rawValue=-1}}function Tu(t){return G(t.format)?be(2):t.format}function sS(t){var e;return t.value.rawValue.length===1?new Tp(t.document,{formatter:Tu(t.params),value:t.value,viewProps:t.viewProps}):new $p(t.document,{formatter:Tu(t.params),rows:(e=t.params.rows)!==null&&e!==void 0?e:No.monitor.defaultRows,value:t.value,viewProps:t.viewProps})}function lS(t){var e,n,r;return new Mp(t.document,{formatter:Tu(t.params),rows:(e=t.params.rows)!==null&&e!==void 0?e:No.monitor.defaultRows,props:V.fromObject({max:(n=t.params.max)!==null&&n!==void 0?n:100,min:(r=t.params.min)!==null&&r!==void 0?r:0}),value:t.value,viewProps:t.viewProps})}function qh(t){return t.view==="graph"}se({id:"monitor-number",type:"monitor",accept:(t,e)=>{if(typeof t!="number")return null;const n=ne(e,r=>({format:r.optional.function,max:r.optional.number,min:r.optional.number,readonly:r.required.constant(!0),rows:r.optional.number,view:r.optional.string}));return n?{initialValue:t,params:n}:null},binding:{defaultBufferSize:t=>qh(t)?64:1,reader:t=>op},controller:t=>qh(t.params)?lS(t):sS(t),api:t=>t.controller.valueController instanceof Mp?new iS(t.controller):null});se({id:"monitor-string",type:"monitor",accept:(t,e)=>{if(typeof t!="string")return null;const n=ne(e,r=>({multiline:r.optional.boolean,readonly:r.required.constant(!0),rows:r.optional.number}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>Cp},controller:t=>{var e;const n=t.value;return n.rawValue.length>1||t.params.multiline?new $p(t.document,{formatter:$u,rows:(e=t.params.rows)!==null&&e!==void 0?e:No.monitor.defaultRows,value:n,viewProps:t.viewProps}):new Tp(t.document,{formatter:$u,value:n,viewProps:t.viewProps})}});class a_{constructor(e){this.controller_=e}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(e){this.controller_.viewProps.set("disabled",e)}get title(){var e;return(e=this.controller_.props.get("title"))!==null&&e!==void 0?e:""}set title(e){this.controller_.props.set("title",e)}on(e,n){const r=n.bind(this);return this.controller_.emitter.on(e,()=>{r(new dr(this))}),this}}class aS extends dr{constructor(e,n,r){super(e),this.cell=n,this.index=r}}class u_ extends pr{constructor(e){super(e),this.cellToApiMap_=new Map,this.emitter_=new ke;const n=this.controller.valueController;n.cellControllers.forEach((r,i)=>{const o=new a_(r);this.cellToApiMap_.set(r,o),r.emitter.on("click",()=>{const s=i%n.size[0],l=Math.floor(i/n.size[0]);this.emitter_.emit("click",{event:new aS(this,o,[s,l])})})})}cell(e,n){const r=this.controller.valueController,i=r.cellControllers[n*r.size[0]+e];return this.cellToApiMap_.get(i)}on(e,n){const r=n.bind(this);return this.emitter_.on(e,i=>{r(i.event)}),this}}class c_{constructor(e,n){this.size=n.size;const[r,i]=this.size,o=[];for(let s=0;s<i;s++)for(let l=0;l<r;l++){const a=new Tw(e,{props:V.fromObject(Object.assign({},n.cellConfig(l,s))),viewProps:Wt.create()});o.push(a)}this.cellCs_=o,this.viewProps=Wt.create(),this.viewProps.handleDispose(()=>{this.cellCs_.forEach(s=>{s.viewProps.set("disposed",!0)})}),this.view=new Dw(e,{viewProps:this.viewProps,viewName:"btngrid"}),this.view.element.style.gridTemplateColumns=`repeat(${r}, 1fr)`,this.cellCs_.forEach(s=>{this.view.element.appendChild(s.view.element)})}get cellControllers(){return this.cellCs_}}class Gh extends Mo{constructor(e,n){const r=n.valueController,i=new xl(e,{blade:n.blade,props:n.labelProps,valueController:r});super({blade:n.blade,view:i.view,viewProps:r.viewProps}),this.valueController=r,this.labelController=i}}const uS=se({id:"buttongrid",type:"blade",accept(t){const e=ne(t,n=>({cells:n.required.function,size:n.required.array(n.required.number),view:n.required.constant("buttongrid"),label:n.optional.string}));return e?{params:e}:null},controller(t){return new Gh(t.document,{blade:t.blade,labelProps:V.fromObject({label:t.params.label}),valueController:new c_(t.document,{cellConfig:t.params.cells,size:t.params.size})})},api(t){return t.controller instanceof Gh?new u_(t.controller):null}});class p_ extends pr{get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get value(){return this.controller.valueController.value.rawValue}set value(e){this.controller.valueController.value.rawValue=e}on(e,n){const r=n.bind(this);return this.controller.valueController.value.emitter.on(e,i=>{r(new bl(this,i.rawValue,i.options.last))}),this}}function et(t,e,n){return t*(1-n)+e*n}const cS=20,pS=.001,Ca=100;function dS(t,e){let n=.25,r=.5,i=-1;for(let o=0;o<cS;o++){const[s,l]=t.curve(r);if(r+=n*(s<e?1:-1),i=l,n*=.5,Math.abs(e-s)<pS)break}return i}class Ln{constructor(e=0,n=0,r=1,i=1){this.cache_=[],this.comps_=[e,n,r,i]}get x1(){return this.comps_[0]}get y1(){return this.comps_[1]}get x2(){return this.comps_[2]}get y2(){return this.comps_[3]}static isObject(e){return G(e)||!Array.isArray(e)?!1:typeof e[0]=="number"&&typeof e[1]=="number"&&typeof e[2]=="number"&&typeof e[3]=="number"}static equals(e,n){return e.x1===n.x1&&e.y1===n.y1&&e.x2===n.x2&&e.y2===n.y2}curve(e){const n=et(0,this.x1,e),r=et(0,this.y1,e),i=et(this.x1,this.x2,e),o=et(this.y1,this.y2,e),s=et(this.x2,1,e),l=et(this.y2,1,e),a=et(n,i,e),u=et(r,o,e),p=et(i,s,e),d=et(o,l,e);return[et(a,p,e),et(u,d,e)]}y(e){if(this.cache_.length===0){const n=[];for(let r=0;r<Ca;r++)n.push(dS(this,S(r,0,Ca-1,0,1)));this.cache_=n}return this.cache_[Math.round(S(Y(e,0,1),0,1,0,Ca-1))]}toObject(){return[this.comps_[0],this.comps_[1],this.comps_[2],this.comps_[3]]}}const Op={toComponents:t=>t.toObject(),fromComponents:t=>new Ln(...t)};function hS(t){const e=be(2);return`cubic-bezier(${t.toObject().map(r=>e(r)).join(", ")})`}const Wh=[0,.5,.5,1];function mS(t){const e=t.match(/^cubic-bezier\s*\(\s*([0-9.]+)\s*,\s*([0-9.]+)\s*,\s*([0-9.]+)\s*,\s*([0-9.]+)\s*\)$/);if(!e)return new Ln(...Wh);const n=[e[1],e[2],e[3],e[4]].reduce((r,i)=>{if(!r)return null;const o=Number(i);return isNaN(o)?null:[...r,o]},[]);return new Ln(...n??Wh)}const jn=$("cbz");class d_{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(jn()),n.viewProps.bindClassModifiers(this.element),n.foldable.bindExpandedClass(this.element,jn(void 0,"expanded")),ct(n.foldable,"completed",On(this.element,jn(void 0,"cpl")));const r=e.createElement("div");r.classList.add(jn("h")),this.element.appendChild(r);const i=e.createElement("button");i.classList.add(jn("b")),n.viewProps.bindDisabled(i);const o=e.createElementNS(me,"svg");o.innerHTML='<path d="M2 13C8 13 8 3 14 3"/>',i.appendChild(o),r.appendChild(i),this.buttonElement=i;const s=e.createElement("div");if(s.classList.add(jn("t")),r.appendChild(s),this.textElement=s,n.pickerLayout==="inline"){const l=e.createElement("div");l.classList.add(jn("p")),this.element.appendChild(l),this.pickerElement=l}else this.pickerElement=null}}const xa=$("cbzp");class h_{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(xa()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(xa("g")),this.element.appendChild(r),this.graphElement=r;const i=e.createElement("div");i.classList.add(xa("t")),this.element.appendChild(i),this.textElement=i}}function m_(t,e){const n=new MutationObserver(i=>{for(const o of i)o.type==="childList"&&o.addedNodes.forEach(s=>{s.contains(s)&&(e(),n.disconnect())})}),r=t.ownerDocument;n.observe(r.body,{attributes:!0,childList:!0,subtree:!0})}const on=$("cbzg");function fS(t,e){return n=>e(t(n))}class f_{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(on()),n.viewProps.bindClassModifiers(this.element),n.viewProps.bindTabIndex(this.element);const r=e.createElement("div");r.classList.add(on("p")),this.element.appendChild(r),this.previewElement=r;const i=e.createElementNS(me,"svg");i.classList.add(on("g")),this.element.appendChild(i),this.svgElem_=i;const o=e.createElementNS(me,"path");o.classList.add(on("u")),this.svgElem_.appendChild(o),this.guideElem_=o;const s=e.createElementNS(me,"polyline");s.classList.add(on("l")),this.svgElem_.appendChild(s),this.lineElem_=s,this.handleElems_=[e.createElement("div"),e.createElement("div")],this.handleElems_.forEach(l=>{l.classList.add(on("h")),this.element.appendChild(l)}),this.vectorElems_=[e.createElementNS(me,"line"),e.createElementNS(me,"line")],this.vectorElems_.forEach(l=>{l.classList.add(on("v")),this.svgElem_.appendChild(l)}),this.value_=n.value,this.value_.emitter.on("change",this.onValueChange_.bind(this)),this.sel_=n.selection,this.handleElems_.forEach((l,a)=>{lt(this.sel_,fS(u=>u===a,On(l,on("h","sel"))))}),m_(this.element,()=>{this.refresh()})}getVertMargin_(e){return e*.25}valueToPosition(e,n){const{clientWidth:r,clientHeight:i}=this.element,o=this.getVertMargin_(i);return{x:S(e,0,1,0,r),y:S(n,0,1,i-o,o)}}positionToValue(e,n){const r=this.element.getBoundingClientRect(),i=r.width,o=r.height,s=this.getVertMargin_(o);return{x:Y(S(e,0,i,0,1),0,1),y:S(n,o-s,s,0,1)}}refresh(){this.guideElem_.setAttributeNS(null,"d",[0,1].map(o=>{const s=this.valueToPosition(0,o),l=this.valueToPosition(1,o);return[`M ${s.x},${s.y}`,`L ${l.x},${l.y}`].join(" ")}).join(" "));const e=this.value_.rawValue,n=[];let r=0;for(;;){const o=this.valueToPosition(...e.curve(r));if(n.push([o.x,o.y].join(",")),r>=1)break;r=Math.min(r+.05,1)}this.lineElem_.setAttributeNS(null,"points",n.join(" "));const i=e.toObject();[0,1].forEach(o=>{const s=this.valueToPosition(o,o),l=this.valueToPosition(i[o*2],i[o*2+1]),a=this.vectorElems_[o];a.setAttributeNS(null,"x1",String(s.x)),a.setAttributeNS(null,"y1",String(s.y)),a.setAttributeNS(null,"x2",String(l.x)),a.setAttributeNS(null,"y2",String(l.y));const u=this.handleElems_[o];u.style.left=`${l.x}px`,u.style.top=`${l.y}px`})}onValueChange_(){this.refresh()}}const Qh=24,Yh=400,Xh=1e3,gr=$("cbzprv");class v_{constructor(e,n){this.stopped_=!0,this.startTime_=-1,this.onDispose_=this.onDispose_.bind(this),this.onTimer_=this.onTimer_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.element=e.createElement("div"),this.element.classList.add(gr()),n.viewProps.bindClassModifiers(this.element);const r=e.createElementNS(me,"svg");r.classList.add(gr("g")),this.element.appendChild(r),this.svgElem_=r;const i=e.createElementNS(me,"path");i.classList.add(gr("t")),this.svgElem_.appendChild(i),this.ticksElem_=i;const o=e.createElement("div");o.classList.add(gr("m")),this.element.appendChild(o),this.markerElem_=o,this.value_=n.value,this.value_.emitter.on("change",this.onValueChange_),n.viewProps.handleDispose(this.onDispose_),m_(this.element,()=>{this.refresh()})}play(){this.stop(),this.updateMarker_(0),this.markerElem_.classList.add(gr("m","a")),this.startTime_=new Date().getTime()+Yh,this.stopped_=!1,requestAnimationFrame(this.onTimer_)}stop(){this.stopped_=!0,this.markerElem_.classList.remove(gr("m","a"))}onDispose_(){this.stop()}updateMarker_(e){const n=this.value_.rawValue.y(Y(e,0,1));this.markerElem_.style.left=`${n*100}%`}refresh(){const{clientWidth:e,clientHeight:n}=this.svgElem_,r=[],i=this.value_.rawValue;for(let o=0;o<Qh;o++){const s=S(o,0,Qh-1,0,1),l=S(i.y(s),0,1,0,e);r.push(`M ${l},0 v${n}`)}this.ticksElem_.setAttributeNS(null,"d",r.join(" "))}onTimer_(){if(this.startTime_===null)return;const e=new Date().getTime()-this.startTime_,n=e/Xh;this.updateMarker_(n),e>Xh+Yh&&this.stop(),this.stopped_||requestAnimationFrame(this.onTimer_)}onValueChange_(){this.refresh(),this.play()}}function Mu(t,e,n,r){const i=n-t,o=r-e;return Math.sqrt(i*i+o*o)}function vS(t,e,n,r){const i=Mu(t,e,n,r),o=Math.atan2(r-e,n-t),s=Math.round(o/(Math.PI/4))*Math.PI/4;return{x:t+Math.cos(s)*i,y:e+Math.sin(s)*i}}class w_{constructor(e,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.keyScale_=n.keyScale,this.value=n.value,this.sel_=te(0),this.viewProps=n.viewProps,this.view=new f_(e,{selection:this.sel_,value:this.value,viewProps:this.viewProps}),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_),this.prevView_=new v_(e,{value:this.value,viewProps:this.viewProps}),this.prevView_.element.addEventListener("mousedown",i=>{i.stopImmediatePropagation(),i.preventDefault(),this.prevView_.play()}),this.view.previewElement.appendChild(this.prevView_.element);const r=new Yt(this.view.element);r.emitter.on("down",this.onPointerDown_),r.emitter.on("move",this.onPointerMove_),r.emitter.on("up",this.onPointerUp_)}refresh(){this.view.refresh(),this.prevView_.refresh(),this.prevView_.play()}updateValue_(e,n,r){const i=this.sel_.rawValue,o=this.value.rawValue.toObject(),s=this.view.positionToValue(e.x,e.y),l=n?vS(i,i,s.x,s.y):s;o[i*2]=l.x,o[i*2+1]=l.y,this.value.setRawValue(new Ln(...o),r)}onPointerDown_(e){const n=e.data;if(!n.point)return;const r=this.value.rawValue,i=this.view.valueToPosition(r.x1,r.y1),o=Mu(n.point.x,n.point.y,i.x,i.y),s=this.view.valueToPosition(r.x2,r.y2),l=Mu(n.point.x,n.point.y,s.x,s.y);this.sel_.rawValue=o<=l?0:1,this.updateValue_(n.point,e.shiftKey,{forceEmit:!1,last:!1})}onPointerMove_(e){const n=e.data;n.point&&this.updateValue_(n.point,e.shiftKey,{forceEmit:!1,last:!1})}onPointerUp_(e){const n=e.data;n.point&&this.updateValue_(n.point,e.shiftKey,{forceEmit:!0,last:!0})}onKeyDown_(e){Zs(e.key)&&e.preventDefault();const n=this.sel_.rawValue,r=this.value.rawValue.toObject(),i=this.keyScale_.rawValue;r[n*2]+=fe(i,bt(e)),r[n*2+1]+=fe(i,ir(e)),this.value.setRawValue(new Ln(...r),{forceEmit:!1,last:!1})}onKeyUp_(e){Zs(e.key)&&e.preventDefault();const n=this.keyScale_.rawValue,r=fe(n,bt(e)),i=fe(n,ir(e));r===0&&i===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class __{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.view=new h_(e,{viewProps:this.viewProps}),this.gc_=new w_(e,{keyScale:n.axis.textProps.value("keyScale"),value:this.value,viewProps:this.viewProps}),this.view.graphElement.appendChild(this.gc_.view.element);const r=Object.assign(Object.assign({},n.axis),{constraint:new np({max:1,min:0})}),i=Object.assign(Object.assign({},n.axis),{constraint:void 0});this.tc_=new ai(e,{assembly:Op,axes:[r,i,r,i],parser:gt,value:this.value,viewProps:this.viewProps}),this.view.textElement.appendChild(this.tc_.view.element)}get allFocusableElements(){return[this.gc_.view.element,...this.tc_.view.textViews.map(e=>e.inputElement)]}refresh(){this.gc_.refresh()}}class Ou{constructor(e,n){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.foldable_=si.create(n.expanded),this.view=new d_(e,{foldable:this.foldable_,pickerLayout:n.pickerLayout,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("blur",this.onButtonBlur_),this.view.buttonElement.addEventListener("click",this.onButtonClick_),this.tc_=new Sl(e,{parser:mS,props:V.fromObject({formatter:hS}),value:this.value,viewProps:this.viewProps}),this.view.textElement.appendChild(this.tc_.view.element),this.popC_=n.pickerLayout==="popup"?new bp(e,{viewProps:this.viewProps}):null;const r=new __(e,{axis:n.axis,value:this.value,viewProps:this.viewProps});r.allFocusableElements.forEach(i=>{i.addEventListener("blur",this.onPopupChildBlur_),i.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=r,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),lt(this.popC_.shows,i=>{i&&r.refresh()}),hr({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:i=>i,backward:(i,o)=>o})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),Pl(this.foldable_,this.view.pickerElement))}onButtonBlur_(e){if(!this.popC_)return;const n=e.relatedTarget;(!n||!this.popC_.view.element.contains(n))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.allFocusableElements[0].focus()}onPopupChildBlur_(e){if(!this.popC_)return;const n=this.popC_.view.element,r=hp(e);r&&n.contains(r)||r&&r===this.view.buttonElement&&!yl(n.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(e){this.popC_&&e.key==="Escape"&&(this.popC_.shows.rawValue=!1)}}function wS(){return new Ll({assembly:Op,components:[0,1,2,3].map(t=>t%2===0?new np({min:0,max:1}):void 0)})}const _S=se({id:"cubicbezier",type:"blade",accept(t){const e=ne(t,n=>({value:n.required.array(n.required.number),view:n.required.constant("cubicbezier"),expanded:n.optional.boolean,label:n.optional.string,picker:n.optional.custom(r=>r==="inline"||r==="popup"?r:void 0)}));return e?{params:e}:null},controller(t){var e,n;const r=new Ln(...t.params.value),i=te(r,{constraint:wS(),equals:Ln.equals}),o=new Ou(t.document,{axis:{textProps:V.fromObject({keyScale:.1,pointerScale:.01,formatter:be(2)})},expanded:(e=t.params.expanded)!==null&&e!==void 0?e:!1,pickerLayout:(n=t.params.picker)!==null&&n!==void 0?n:"popup",value:i,viewProps:t.viewProps});return new Ys(t.document,{blade:t.blade,props:V.fromObject({label:t.params.label}),value:i,valueController:o})},api(t){return!(t.controller instanceof Ys)||!(t.controller.valueController instanceof Ou)?null:new p_(t.controller)}});class g_ extends pr{get fps(){return this.controller.valueController.fps}get max(){return this.controller.valueController.props.get("max")}set max(e){this.controller.valueController.props.set("max",e)}get min(){return this.controller.valueController.props.get("min")}set min(e){this.controller.valueController.props.set("min",e)}begin(){this.controller.valueController.begin()}end(){this.controller.valueController.end()}on(e,n){const r=n.bind(this);return this.controller.valueController.ticker.emitter.on(e,()=>{r(new dr(this))}),this}}const Zh=20;class b_{constructor(){this.start_=null,this.duration_=0,this.fps_=null,this.frameCount_=0,this.timestamps_=[]}get duration(){return this.duration_}get fps(){return this.fps_}begin(e){this.start_=e.getTime()}calculateFps_(e){if(this.timestamps_.length===0)return null;const n=this.timestamps_[0];return 1e3*(this.frameCount_-n.frameCount)/(e-n.time)}compactTimestamps_(){if(this.timestamps_.length<=Zh)return;const e=this.timestamps_.length-Zh;this.timestamps_.splice(0,e);const n=this.timestamps_[0].frameCount;this.timestamps_.forEach(r=>{r.frameCount-=n}),this.frameCount_-=n}end(e){if(this.start_===null)return;const n=e.getTime();this.duration_=n-this.start_,this.start_=null,this.fps_=this.calculateFps_(n),this.timestamps_.push({frameCount:this.frameCount_,time:n}),++this.frameCount_,this.compactTimestamps_()}}const Si=$("fps");class y_{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(Si()),n.viewProps.bindClassModifiers(this.element),this.graphElement=e.createElement("div"),this.graphElement.classList.add(Si("g")),this.element.appendChild(this.graphElement);const r=e.createElement("div");r.classList.add(Si("l")),this.element.appendChild(r);const i=e.createElement("span");i.classList.add(Si("v")),i.textContent="--",r.appendChild(i),this.valueElement=i;const o=e.createElement("span");o.classList.add(Si("u")),o.textContent="FPS",r.appendChild(o)}}class C_{constructor(e,n){this.stopwatch_=new b_,this.onTick_=this.onTick_.bind(this),this.ticker=n.ticker,this.ticker.emitter.on("tick",this.onTick_),this.props=n.props,this.value_=n.value,this.viewProps=n.viewProps,this.view=new y_(e,{viewProps:this.viewProps}),this.graphC_=new Mp(e,{formatter:be(0),props:this.props,rows:n.rows,value:this.value_,viewProps:this.viewProps}),this.view.graphElement.appendChild(this.graphC_.view.element),this.viewProps.handleDispose(()=>{this.graphC_.viewProps.set("disposed",!0),this.ticker.dispose()})}get fps(){return this.stopwatch_.fps}begin(){this.stopwatch_.begin(new Date)}end(){this.stopwatch_.end(new Date)}onTick_(){const e=this.fps;if(e!==null){const n=this.value_.rawValue;this.value_.rawValue=TP(n,e),this.view.valueElement.textContent=e.toFixed(0)}}}class Jh extends Mo{constructor(e,n){const r=n.valueController,i=new xl(e,{blade:n.blade,props:n.labelProps,valueController:r});super({blade:n.blade,view:i.view,viewProps:r.viewProps}),this.valueController=r,this.labelController=i}}function gS(t,e){return e===0?new iE:new oE(t,e??No.monitor.defaultInterval)}const bS=se({id:"fpsgraph",type:"blade",accept(t){const e=ne(t,n=>({view:n.required.constant("fpsgraph"),interval:n.optional.number,label:n.optional.string,rows:n.optional.number,max:n.optional.number,min:n.optional.number}));return e?{params:e}:null},controller(t){var e,n,r,i;const o=(e=t.params.interval)!==null&&e!==void 0?e:500;return new Jh(t.document,{blade:t.blade,labelProps:V.fromObject({label:t.params.label}),valueController:new C_(t.document,{props:V.fromObject({max:(n=t.params.max)!==null&&n!==void 0?n:90,min:(r=t.params.min)!==null&&r!==void 0?r:0}),rows:(i=t.params.rows)!==null&&i!==void 0?i:2,ticker:gS(t.document,o),value:te(LP(80)),viewProps:t.viewProps})})},api(t){return t.controller instanceof Jh?new g_(t.controller):null}});class qe{constructor(e,n){this.min=e,this.max=n}static isObject(e){if(typeof e!="object"||e===null)return!1;const n=e.min,r=e.max;return!(typeof n!="number"||typeof r!="number")}static equals(e,n){return e.min===n.min&&e.max===n.max}get length(){return this.max-this.min}toObject(){return{min:this.min,max:this.max}}}const Rp={fromComponents:t=>new qe(t[0],t[1]),toComponents:t=>[t.min,t.max]};class Np{constructor(e){this.edge=e}constrain(e){var n,r,i,o,s,l,a,u;if(e.min<=e.max)return new qe((r=(n=this.edge)===null||n===void 0?void 0:n.constrain(e.min))!==null&&r!==void 0?r:e.min,(o=(i=this.edge)===null||i===void 0?void 0:i.constrain(e.max))!==null&&o!==void 0?o:e.max);const p=(e.min+e.max)/2;return new qe((l=(s=this.edge)===null||s===void 0?void 0:s.constrain(p))!==null&&l!==void 0?l:p,(u=(a=this.edge)===null||a===void 0?void 0:a.constrain(p))!==null&&u!==void 0?u:p)}}const Pa=$("rsltxt");class x_{constructor(e,n){this.sliderView_=n.sliderView,this.textView_=n.textView,this.element=e.createElement("div"),this.element.classList.add(Pa());const r=e.createElement("div");r.classList.add(Pa("s")),r.appendChild(this.sliderView_.element),this.element.appendChild(r);const i=e.createElement("div");i.classList.add(Pa("t")),i.appendChild(this.textView_.element),this.element.appendChild(i)}}const In=$("rsl");class P_{constructor(e,n){this.onSliderPropsChange_=this.onSliderPropsChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.sliderProps_=n.sliderProps,this.sliderProps_.emitter.on("change",this.onSliderPropsChange_),this.element=e.createElement("div"),this.element.classList.add(In()),n.viewProps.bindClassModifiers(this.element),this.value_=n.value,this.value_.emitter.on("change",this.onValueChange_);const r=e.createElement("div");r.classList.add(In("t")),this.element.appendChild(r),this.trackElement=r;const i=e.createElement("div");i.classList.add(In("b")),r.appendChild(i),this.barElement=i;const o=["min","max"].map(s=>{const l=e.createElement("div");return l.classList.add(In("k"),In("k",s)),r.appendChild(l),l});this.knobElements=[o[0],o[1]],this.update_()}valueToX_(e){const n=this.sliderProps_.get("min"),r=this.sliderProps_.get("max");return Y(S(e,n,r,0,1),0,1)*100}update_(){const e=this.value_.rawValue;e.length===0?this.element.classList.add(In(void 0,"zero")):this.element.classList.remove(In(void 0,"zero"));const n=[this.valueToX_(e.min),this.valueToX_(e.max)];this.barElement.style.left=`${n[0]}%`,this.barElement.style.right=`${100-n[1]}%`,this.knobElements.forEach((r,i)=>{r.style.left=`${n[i]}%`})}onSliderPropsChange_(){this.update_()}onValueChange_(){this.update_()}}class E_{constructor(e,n){this.grabbing_=null,this.grabOffset_=0,this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.sliderProps=n.sliderProps,this.viewProps=n.viewProps,this.value=n.value,this.view=new P_(e,{sliderProps:this.sliderProps,value:this.value,viewProps:n.viewProps});const r=new Yt(this.view.trackElement);r.emitter.on("down",this.onPointerDown_),r.emitter.on("move",this.onPointerMove_),r.emitter.on("up",this.onPointerUp_)}ofs_(){return this.grabbing_==="min"?this.view.knobElements[0].getBoundingClientRect().width/2:this.grabbing_==="max"?-this.view.knobElements[1].getBoundingClientRect().width/2:0}valueFromData_(e){if(!e.point)return null;const n=(e.point.x+this.ofs_())/e.bounds.width,r=this.sliderProps.get("min"),i=this.sliderProps.get("max");return S(n,0,1,r,i)}onPointerDown_(e){if(!e.data.point)return;const n=e.data.point.x/e.data.bounds.width,r=this.value.rawValue,i=this.sliderProps.get("min"),o=this.sliderProps.get("max"),s=S(r.min,i,o,0,1),l=S(r.max,i,o,0,1);Math.abs(l-n)<=.025?this.grabbing_="max":Math.abs(s-n)<=.025?this.grabbing_="min":n>=s&&n<=l?(this.grabbing_="length",this.grabOffset_=S(n-s,0,1,0,o-i)):n<s?(this.grabbing_="min",this.onPointerMove_(e)):n>l&&(this.grabbing_="max",this.onPointerMove_(e))}applyPointToValue_(e,n){const r=this.valueFromData_(e);if(r===null)return;const i=this.sliderProps.get("min"),o=this.sliderProps.get("max");if(this.grabbing_==="min")this.value.setRawValue(new qe(r,this.value.rawValue.max),n);else if(this.grabbing_==="max")this.value.setRawValue(new qe(this.value.rawValue.min,r),n);else if(this.grabbing_==="length"){const s=this.value.rawValue.length;let l=r-this.grabOffset_,a=l+s;l<i?(l=i,a=i+s):a>o&&(l=o-s,a=o),this.value.setRawValue(new qe(l,a),n)}}onPointerMove_(e){this.applyPointToValue_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.applyPointToValue_(e.data,{forceEmit:!0,last:!0}),this.grabbing_=null}}class k_{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.sc_=new E_(e,n);const r={constraint:n.constraint,textProps:n.textProps};this.tc_=new ai(e,{assembly:Rp,axes:[r,r],parser:n.parser,value:this.value,viewProps:n.viewProps}),this.view=new x_(e,{sliderView:this.sc_.view,textView:this.tc_.view})}get textController(){return this.tc_}}function yS(t){return qe.isObject(t)?new qe(t.min,t.max):new qe(0,0)}function CS(t,e){t.writeProperty("max",e.max),t.writeProperty("min",e.min)}function xS(t){const e=[],n=lp(t);n&&e.push(n);const r=sp(t);return r&&e.push(r),new Np(new li(e))}const PS=se({id:"input-interval",type:"input",accept:(t,e)=>{if(!qe.isObject(t))return null;const n=ne(e,r=>Object.assign(Object.assign({},up(r)),{readonly:r.optional.constant(!1)}));return n?{initialValue:new qe(t.min,t.max),params:n}:null},binding:{reader:t=>yS,constraint:t=>xS(t.params),equals:qe.equals,writer:t=>CS},controller(t){const e=t.value,n=t.constraint;if(!(n instanceof Np))throw Ve.shouldNeverHappen();const r=(e.rawValue.min+e.rawValue.max)/2,i=V.fromObject(ap(t.params,r)),o=n.edge&&mo(n.edge,To);if(o)return new k_(t.document,{constraint:n.edge,parser:gt,sliderProps:new V({keyScale:i.value("keyScale"),max:o.values.value("max"),min:o.values.value("min")}),textProps:i,value:e,viewProps:t.viewProps});const s={constraint:n.edge,textProps:i};return new ai(t.document,{assembly:Rp,axes:[s,s],parser:gt,value:e,viewProps:t.viewProps})}});class S_{constructor(e){this.controller_=e}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(e){this.controller_.viewProps.set("disabled",e)}get title(){var e;return(e=this.controller_.props.get("title"))!==null&&e!==void 0?e:""}set title(e){this.controller_.props.set("title",e)}}class V_ extends bl{constructor(e,n,r,i,o){super(e,i,o),this.cell=n,this.index=r}}class L_ extends pr{constructor(e){super(e),this.cellToApiMap_=new Map,this.controller.valueController.cellControllers.forEach(r=>{const i=new S_(r);this.cellToApiMap_.set(r,i)})}get value(){return this.controller.value}cell(e,n){const r=this.controller.valueController,i=r.cellControllers[n*r.size[0]+e];return this.cellToApiMap_.get(i)}on(e,n){const r=n.bind(this);this.controller.value.emitter.on(e,i=>{const o=this.controller.valueController,s=o.findCellByValue(i.rawValue);if(!s)return;const l=this.cellToApiMap_.get(s);if(!l)return;const a=o.cellControllers.indexOf(s);r(new V_(this,l,[a%o.size[0],Math.floor(a/o.size[0])],i.rawValue))})}}const Vi=$("rad");class $_{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(Vi()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("label");r.classList.add(Vi("l")),this.element.appendChild(r);const i=e.createElement("input");i.classList.add(Vi("i")),i.name=n.name,i.type="radio",n.viewProps.bindDisabled(i),r.appendChild(i),this.inputElement=i;const o=e.createElement("div");o.classList.add(Vi("b")),r.appendChild(o);const s=e.createElement("div");s.classList.add(Vi("t")),o.appendChild(s),ct(n.props,"title",l=>{s.textContent=l})}}class T_{constructor(e,n){this.props=n.props,this.viewProps=n.viewProps,this.view=new $_(e,{name:n.name,props:this.props,viewProps:this.viewProps})}}class Js{constructor(e,n){this.cellCs_=[],this.cellValues_=[],this.onCellInputChange_=this.onCellInputChange_.bind(this),this.size=n.size;const[r,i]=this.size;for(let o=0;o<i;o++)for(let s=0;s<r;s++){const l=new T_(e,{name:n.groupName,props:V.fromObject(Object.assign({},n.cellConfig(s,o))),viewProps:Wt.create()});this.cellCs_.push(l),this.cellValues_.push(n.cellConfig(s,o).value)}this.value=n.value,lt(this.value,o=>{const s=this.findCellByValue(o);s&&(s.view.inputElement.checked=!0)}),this.viewProps=Wt.create(),this.view=new Dw(e,{viewProps:this.viewProps,viewName:"radgrid"}),this.view.element.style.gridTemplateColumns=`repeat(${r}, 1fr)`,this.cellCs_.forEach(o=>{o.view.inputElement.addEventListener("change",this.onCellInputChange_),this.view.element.appendChild(o.view.element)})}get cellControllers(){return this.cellCs_}findCellByValue(e){const n=this.cellValues_.findIndex(r=>r===e);return n<0?null:this.cellCs_[n]}onCellInputChange_(e){const n=e.currentTarget,r=this.cellCs_.findIndex(i=>i.view.inputElement===n);r<0||(this.value.rawValue=this.cellValues_[r])}}const ES=function(){return se({id:"radiogrid",type:"blade",accept(t){const e=ne(t,n=>({cells:n.required.function,groupName:n.required.string,size:n.required.array(n.required.number),value:n.required.raw,view:n.required.constant("radiogrid"),label:n.optional.string}));return e?{params:e}:null},controller(t){const e=te(t.params.value);return new Ys(t.document,{blade:t.blade,props:V.fromObject({label:t.params.label}),value:e,valueController:new Js(t.document,{groupName:t.params.groupName,cellConfig:t.params.cells,size:t.params.size,value:e})})},api(t){return!(t.controller instanceof Ys)||!(t.controller.valueController instanceof Js)?null:new L_(t.controller)}})}();function Dp(t){return se({id:"input-radiogrid",type:"input",accept(e,n){if(!t.isType(e))return null;const r=ne(n,i=>({cells:i.required.function,groupName:i.required.string,size:i.required.array(i.required.number),view:i.required.constant("radiogrid")}));return r?{initialValue:e,params:r}:null},binding:t.binding,controller:e=>new Js(e.document,{cellConfig:e.params.cells,groupName:e.params.groupName,size:e.params.size,value:e.value})})}const kS=Dp({isType:t=>typeof t=="number",binding:{reader:t=>op,writer:t=>Rn}}),SS=Dp({isType:t=>typeof t=="string",binding:{reader:t=>Cp,writer:t=>Rn}}),VS=Dp({isType:t=>typeof t=="boolean",binding:{reader:t=>yp,writer:t=>Rn}}),LS="essentials",$S='.tp-cbzgv,.tp-radv_b,.tp-rslv_k,.tp-cbzv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-radv_b,.tp-rslv_k,.tp-cbzv_b{background-color:var(--btn-bg);border-radius:var(--bld-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--cnt-usz);line-height:var(--cnt-usz);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-radv_b:hover,.tp-rslv_k:hover,.tp-cbzv_b:hover{background-color:var(--btn-bg-h)}.tp-radv_b:focus,.tp-rslv_k:focus,.tp-cbzv_b:focus{background-color:var(--btn-bg-f)}.tp-radv_b:active,.tp-rslv_k:active,.tp-cbzv_b:active{background-color:var(--btn-bg-a)}.tp-radv_b:disabled,.tp-rslv_k:disabled,.tp-cbzv_b:disabled{opacity:.5}.tp-cbzgv{background-color:var(--in-bg);border-radius:var(--bld-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--cnt-usz);line-height:var(--cnt-usz);min-width:0;width:100%}.tp-cbzgv:hover{background-color:var(--in-bg-h)}.tp-cbzgv:focus{background-color:var(--in-bg-f)}.tp-cbzgv:active{background-color:var(--in-bg-a)}.tp-cbzgv:disabled{opacity:.5}.tp-btngridv{border-radius:var(--bld-br);display:grid;overflow:hidden;gap:2px}.tp-btngridv.tp-v-disabled{opacity:.5}.tp-btngridv .tp-btnv_b:disabled{opacity:1}.tp-btngridv .tp-btnv_b:disabled .tp-btnv_t{opacity:.5}.tp-btngridv .tp-btnv_b{border-radius:0}.tp-cbzv{position:relative}.tp-cbzv_h{display:flex}.tp-cbzv_b{margin-right:4px;position:relative;width:var(--cnt-usz)}.tp-cbzv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-cbzv_b svg path{stroke:var(--bs-bg);stroke-width:2}.tp-cbzv_t{flex:1}.tp-cbzv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-cbzv.tp-cbzv-expanded .tp-cbzv_p{margin-top:var(--cnt-usp);opacity:1}.tp-cbzv.tp-cbzv-cpl .tp-cbzv_p{overflow:visible}.tp-cbzv .tp-popv{left:calc(-1 * var(--cnt-hp));position:absolute;right:calc(-1 * var(--cnt-hp));top:var(--cnt-usz)}.tp-cbzpv_t{margin-top:var(--cnt-usp)}.tp-cbzgv{height:auto;overflow:hidden;position:relative}.tp-cbzgv.tp-v-disabled{opacity:.5}.tp-cbzgv_p{left:16px;position:absolute;right:16px;top:0}.tp-cbzgv_g{cursor:pointer;display:block;height:calc(var(--cnt-usz) * 5);width:100%}.tp-cbzgv_u{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_l{fill:rgba(0,0,0,0);stroke:var(--in-fg)}.tp-cbzgv_v{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_h{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;pointer-events:none;position:absolute;width:4px}.tp-cbzgv:focus .tp-cbzgv_h-sel{background-color:var(--in-fg);border-width:0}.tp-cbzprvv{cursor:pointer;height:4px;padding:4px 0;position:relative}.tp-cbzprvv_g{display:block;height:100%;overflow:visible;width:100%}.tp-cbzprvv_t{opacity:.5;stroke:var(--mo-fg)}.tp-cbzprvv_m{background-color:var(--mo-fg);border-radius:50%;height:4px;margin-left:-2px;margin-top:-2px;opacity:0;position:absolute;top:50%;transition:opacity .2s ease-out;width:4px}.tp-cbzprvv_m.tp-cbzprvv_m-a{opacity:1}.tp-fpsv{position:relative}.tp-fpsv_l{bottom:4px;color:var(--mo-fg);line-height:1;right:4px;pointer-events:none;position:absolute}.tp-fpsv_u{margin-left:.2em;opacity:.7}.tp-rslv{cursor:pointer;padding-left:8px;padding-right:8px}.tp-rslv.tp-v-disabled{opacity:.5}.tp-rslv_t{height:calc(var(--cnt-usz));position:relative}.tp-rslv_t::before{background-color:var(--in-bg);border-radius:1px;content:"";height:2px;margin-top:-1px;position:absolute;top:50%;left:-4px;right:-4px}.tp-rslv_b{bottom:0;top:0;position:absolute}.tp-rslv_b::before{background-color:var(--in-fg);content:"";height:2px;margin-top:-1px;position:absolute;top:50%;left:0;right:0}.tp-rslv_k{height:calc(var(--cnt-usz) - 8px);margin-top:calc((var(--cnt-usz) - 8px)/-2);position:absolute;top:50%;width:8px}.tp-rslv_k.tp-rslv_k-min{margin-left:-8px}.tp-rslv_k.tp-rslv_k-max{margin-left:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-min{border-bottom-right-radius:0;border-top-right-radius:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-max{border-bottom-left-radius:0;border-top-left-radius:0}.tp-rsltxtv{display:flex}.tp-rsltxtv_s{flex:1}.tp-rsltxtv_t{flex:1;margin-left:4px}.tp-radv_l{display:block;position:relative}.tp-radv_i{left:0;opacity:0;position:absolute;top:0}.tp-radv_b{opacity:.5}.tp-radv_i:hover+.tp-radv_b{background-color:var(--btn-bg-h)}.tp-radv_i:focus+.tp-radv_b{background-color:var(--btn-bg-f)}.tp-radv_i:active+.tp-radv_b{background-color:var(--btn-bg-a)}.tp-radv_i:checked+.tp-radv_b{opacity:1}.tp-radv_t{bottom:0;color:inherit;left:0;overflow:hidden;position:absolute;right:0;text-align:center;text-overflow:ellipsis;top:0}.tp-radv_i:disabled+.tp-radv_b>.tp-radv_t{opacity:.5}.tp-radgridv{border-radius:var(--bld-br);display:grid;overflow:hidden;gap:2px}.tp-radgridv.tp-v-disabled{opacity:.5}.tp-radgridv .tp-radv_b{border-radius:0}',TS=[uS,_S,bS,PS,ES,VS,kS,SS],MS=Object.freeze(Object.defineProperty({__proto__:null,ButtonCellApi:a_,ButtonGridApi:u_,ButtonGridController:c_,CubicBezier:Ln,CubicBezierApi:p_,CubicBezierAssembly:Op,CubicBezierController:Ou,CubicBezierGraphController:w_,CubicBezierGraphView:f_,CubicBezierPickerController:__,CubicBezierPickerView:h_,CubicBezierPreviewView:v_,CubicBezierView:d_,FpsGraphBladeApi:g_,FpsGraphController:C_,FpsView:y_,Fpswatch:b_,Interval:qe,IntervalAssembly:Rp,IntervalConstraint:Np,RadioCellApi:S_,RadioController:T_,RadioGridApi:L_,RadioGridController:Js,RadioView:$_,RangeSliderController:E_,RangeSliderTextController:k_,RangeSliderTextView:x_,RangeSliderView:P_,TpRadioGridChangeEvent:V_,css:$S,id:LS,plugins:TS},Symbol.toStringTag,{value:"Module"}));let En;const OS=()=>(En=new Ox,En.registerPlugin(MS),En),RS=()=>En,NS=()=>{if(En)return En.addBlade({view:"fpsgraph",label:"FPS",rows:2})};function DS(){const t=window.location.hash.split("/")[1];console.log(t);const e=vo.map(i=>i.name),n=e.indexOf(t);let r=0;n===-1?$l():n===0?r=e.length-1:r=n-1,window.location.hash=`#/${e[r]}`,window.location.reload()}function AS(){const t=window.location.hash.split("/")[1],e=vo.map(i=>i.name),n=e.indexOf(t);let r=0;n===-1?$l():n===e.length-1?r=0:r=n+1,window.location.hash=`#/${e[r]}`,window.location.reload()}function $l(){const t=window.location.hash.split("/")[1],e=vo.map(r=>r.name),n=e[Math.floor(Math.random()*e.length)];if(t==n)return $l();window.location.hash=`#/${n}`,window.location.reload()}const zS=()=>{En&&En.addBlade({view:"buttongrid",size:[3,1],cells:(t,e)=>({title:[["","",""]][e][t]}),label:"Controls"}).on("click",t=>{const e=t.index[0];console.log("click",e);const n=[DS,$l,AS];n[e]&&n[e]()})},jS=(t,e)=>{var r;if(!e||e.length===0)return t;const n=(r=RS())==null?void 0:r.addFolder({title:"Uniforms"});return e.forEach(i=>{t[i.name]=i.value,n==null||n.addBinding(t,i.name,i.options)}),t},vo=[{name:"glowBalls",frag:c0},{name:"checker",frag:p0,uniforms:[{name:"squareSize",value:1,options:{min:-10,max:10,step:.001}}]},{name:"linework",frag:d0}];function IS({gl:t,vert:e,frag:n}){const r=t.createShader(t.VERTEX_SHADER),i=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(r,e),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)||console.log(t.getShaderInfoLog(r)),t.shaderSource(i,n),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS)||console.log(t.getShaderInfoLog(i));const o=t.createProgram();if(t.attachShader(o,r),t.attachShader(o,i),t.linkProgram(o),!t.getProgramParameter(o,t.LINK_STATUS))throw new Error(`program compile fail: 

`+t.getProgramInfoLog(o));return o}function BS({gl:t}){const e=new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]);let n=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),n}const em=[];function FS({gl:t,program:e,uniforms:n}){let r=em.find(o=>o.program===e);r||(r={program:e,uniforms:{}},em.push(r));let i=0;Object.keys(n).forEach(o=>{let s=r.uniforms[o],l=n[o],a="number";l instanceof WebGLTexture?a="sampler2D":Array.isArray(l)&&l.length==2&&(a="vec2"),s||(s={location:t.getUniformLocation(e,o),value:l,type:a},r.uniforms[o]=s),a==="sampler2D"&&(s.texUnit=i,i++),s.value=l}),Object.values(r.uniforms).forEach(({location:o,value:s,type:l,texUnit:a})=>{l==="number"?t.uniform1f(o,s):l==="vec2"?t.uniform2fv(o,s):l==="sampler2D"&&(a=a||0,t.activeTexture(t.TEXTURE0+a),t.bindTexture(t.TEXTURE_2D,s),t.uniform1i(o,a))})}function US({canvas:t}){return t.getContext("webgl2")}let Ea;function KS({gl:t,program:e,width:n,height:r,uniforms:i}){Ea||(Ea=BS({gl:t})),t.useProgram(e),i&&Object.keys(i).length&&FS({gl:t,program:e,uniforms:i}),t.viewport(0,0,n||t.canvas.width,r||t.canvas.height);const o=Ea;t.bindBuffer(t.ARRAY_BUFFER,o);const s=t.getAttribLocation(e,"a_position");t.enableVertexAttribArray(s),t.vertexAttribPointer(s,2,t.FLOAT,!1,0,0),t.drawArrays(t.TRIANGLES,0,6)}function HS(t,e){return t||(t=document.createElement("canvas")),t.setAttribute("id","c"),t.style.width="100vw",t.style.height="100vh",e&&(t.style.border="3px solid red",t.style.boxSizing="border-box"),document.body.appendChild(t),t}function tm(t){t.width=window.innerWidth,t.height=window.innerHeight}function qS(t){let e=null,n=!1;function r(i){n&&(e||(e=i),t((i-e)/1e3),requestAnimationFrame(r))}return{start(){n||(n=!0,requestAnimationFrame(r))},stop(){n=!1}}}const GS=`#version 300 es
in vec4 a_position;

void main(void) {
  gl_Position = a_position;
}`;function WS({shader:t}){const e=Ue.useRef(null),n=Ue.useRef(!1),r=Ue.useRef(null);return Ue.useEffect(()=>{if(!n.current&&e.current){const i=HS(e.current);i&&tm(i),addEventListener("resize",()=>{i&&tm(i)});const o=US({canvas:i}),s=IS({gl:o,vert:GS,frag:t.frag}),l={t:0,r:[i.width,i.height]};r.current=l,OS(),zS();const a=NS();jS(r.current,t.uniforms),qS(p=>{a&&a.begin(),r.current&&(r.current.t=p),KS({gl:o,program:s,uniforms:r.current||l}),a&&a.end()}).start(),n.current=!0}},[t]),an.jsx("canvas",{ref:e})}function QS(){const[t,e]=u0(),[n,r]=Ue.useState(null);return Ue.useEffect(()=>{function i(){const o=t.split("/")[1],s=vo.map(a=>a.name),l=s[Math.floor(Math.random()*s.length)];if(o==l)return i();e(`#/${l}`),window.location.reload()}if(t=="")i();else{const o=t.split("/")[1],s=vo.find(l=>l.name==o);s?r(s):i()}},[t,e]),n?an.jsx(an.Fragment,{children:an.jsx(WS,{shader:n})}):an.jsx(an.Fragment,{children:"Loading..."})}ka.createRoot(document.getElementById("root")).render(an.jsx(Q_.StrictMode,{children:an.jsx(QS,{})}));
